/* @preserve
 * Leaflet 1.8.0, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
!function( t, e ) {'object'==typeof exports&&'undefined'!=typeof module?e( exports ):'function'==typeof define&&define.amd?define( ['exports'], e ):e( ( t='undefined'!=typeof globalThis?globalThis:t||self ).leaflet={} )}( this, ( function( t ) {
  'use strict'; function e( t ) {for( var e, n, i=1, o=arguments.length; i<o; i++ ) {for( e in n=arguments[i] ) {t[e]=n[e]}}return t}var n=Object.create||function( t ) {return i.prototype=t, new i}; function i() {}function o( t, e ) {var n=Array.prototype.slice; if( t.bind ) {return t.bind.apply( t, n.call( arguments, 1 ) )}var i=n.call( arguments, 2 ); return function() {return t.apply( e, i.length?i.concat( n.call( arguments ) ):arguments )}}var s=0; function r( t ) {return'_leaflet_id'in t||( t._leaflet_id=++s ), t._leaflet_id}function a( t, e, n ) {var i, o, s=function() {i=!1, o&&( r.apply( n, o ), o=!1 )}, r=function() {i?o=arguments:( t.apply( n, arguments ), setTimeout( s, e ), i=!0 )}; return r}function c( t, e, n ) {var i=e[1], o=i-( e=e[0] ); return t===i&&n?t:( ( t-e )%o+o )%o+e}function l() {return!1}function u( t, e ) {return!1===e?t:( e=Math.pow( 10, void 0===e?6:e ), Math.round( t*e )/e )}function h( t ) {return t.trim?t.trim():t.replace( /^\s+|\s+$/g, '' )}function d( t ) {return h( t ).split( /\s+/ )}function p( t, e ) {for( var i in Object.prototype.hasOwnProperty.call( t, 'options' )||( t.options=t.options?n( t.options ):{} ), e ) {t.options[i]=e[i]}return t.options}function f( t, e, n ) {var i, o=[]; for( i in t ) {o.push( encodeURIComponent( n?i.toUpperCase():i )+'='+encodeURIComponent( t[i] ) )}return( e&&-1!==e.indexOf( '?' )?'&':'?' )+o.join( '&' )}var m=/\{ *([\w_ -]+) *\}/g; function g( t, e ) {return t.replace( m, ( function( t, n ) {if( void 0===( n=e[n] ) ) {throw new Error( 'No value provided for variable '+t )}return'function'==typeof n?n( e ):n} ) )}var _=Array.isArray||function( t ) {return'[object Array]'===Object.prototype.toString.call( t )}; function v( t, e ) {for( var n=0; n<t.length; n++ ) {if( t[n]===e ) {return n}}return-1}var y='data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs='; function b( t ) {return window['webkit'+t]||window['moz'+t]||window['ms'+t]}var w=0; function x( t ) {var e=+new Date, n=Math.max( 0, 16-( e-w ) ); return w=e+n, window.setTimeout( t, n )}var C=window.requestAnimationFrame||b( 'RequestAnimationFrame' )||x, S=window.cancelAnimationFrame||b( 'CancelAnimationFrame' )||b( 'CancelRequestAnimationFrame' )||function( t ) {window.clearTimeout( t )}; function P( t, e, n ) {if( !n||C!==x ) {return C.call( window, o( t, e ) )}t.call( e )}function T( t ) {t&&S.call( window, t )}var V={ __proto__: null, extend: e, create: n, bind: o, get lastId() {return s}, stamp: r, throttle: a, wrapNum: c, falseFn: l, formatNum: u, trim: h, splitWords: d, setOptions: p, getParamString: f, template: g, isArray: _, indexOf: v, emptyImageUrl: y, requestFn: C, cancelFn: S, requestAnimFrame: P, cancelAnimFrame: T }; function k() {}k.extend=function( t ) {function i() {p( this ), this.initialize&&this.initialize.apply( this, arguments ), this.callInitHooks()}var o, s=i.__super__=this.prototype, r=n( s ); for( o in( r.constructor=i ).prototype=r, this ) {Object.prototype.hasOwnProperty.call( this, o )&&'prototype'!==o&&'__super__'!==o&&( i[o]=this[o] )}if( t.statics&&e( i, t.statics ), t.includes ) {var a=t.includes; if( 'undefined'!=typeof L&&L&&L.Mixin ) {a=_( a )?a:[a]; for( var c=0; c<a.length; c++ ) {a[c]===L.Mixin.Events&&console.warn( 'Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.', ( new Error ).stack )}}e.apply( null, [r].concat( t.includes ) )}return e( r, t ), delete r.statics, delete r.includes, r.options&&( r.options=s.options?n( s.options ):{}, e( r.options, t.options ) ), r._initHooks=[], r.callInitHooks=function() {if( !this._initHooksCalled ) {s.callInitHooks&&s.callInitHooks.call( this ), this._initHooksCalled=!0; for( var t=0, e=r._initHooks.length; t<e; t++ ) {r._initHooks[t].call( this )}}}, i}, k.include=function( t ) {var n=this.prototype.options; return e( this.prototype, t ), t.options&&( this.prototype.options=n, this.mergeOptions( t.options ) ), this}, k.mergeOptions=function( t ) {return e( this.prototype.options, t ), this}, k.addInitHook=function( t ) {var e=Array.prototype.slice.call( arguments, 1 ), n='function'==typeof t?t:function() {this[t].apply( this, e )}; return this.prototype._initHooks=this.prototype._initHooks||[], this.prototype._initHooks.push( n ), this}; var N={ on: function( t, e, n ) {
      if( 'object'==typeof t ) {for( var i in t ) {this._on( i, t[i], e )}}
      else {for( var o=0, s=( t=d( t ) ).length; o<s; o++ ) {this._on( t[o], e, n )}}return this;
    }, off: function( t, e, n ) {
      if( arguments.length ) {
        if( 'object'==typeof t ) {for( var i in t ) {this._off( i, t[i], e )}}
        else{t=d( t ); for( var o=1===arguments.length, s=0, r=t.length; s<r; s++ ) {o?this._off( t[s] ):this._off( t[s], e, n )}}
      }
      else {delete this._events}return this;
    }, _on: function( t, e, n ) {
      if( 'function'!=typeof e ) {console.warn( 'wrong listener type: '+typeof e )}
      else{this._events=this._events||{}; for( var i=this._events[t], o=( t=( i||( this._events[t]=i=[] ), { fn: e, ctx: n=n===this?void 0:n } ), i ), s=0, r=o.length; s<r; s++ ) {if( o[s].fn===e&&o[s].ctx===n ) {return}}o.push( t )}
    }, _off: function( t, e, n ) {
      var i, o, s; if( this._events&&( i=this._events[t] ) ) {
        if( 1===arguments.length ) {if( this._firingCount ) {for( o=0, s=i.length; o<s; o++ ) {i[o].fn=l}}delete this._events[t]}
        else if( n===this&&( n=void 0 ), 'function'!=typeof e ) {console.warn( 'wrong listener type: '+typeof e )}
        else{for( o=0, s=i.length; o<s; o++ ) {var r=i[o]; if( r.ctx===n&&r.fn===e ) {return this._firingCount&&( r.fn=l, this._events[t]=i=i.slice() ), void i.splice( o, 1 )}}console.warn( 'listener not found' )}
      }
    }, fire: function( t, n, i ) {if( !this.listens( t, i ) ) {return this}var o=e( {}, n, { type: t, target: this, sourceTarget: n&&n.sourceTarget||this } ); if( this._events ) {var s=this._events[t]; if( s ) {this._firingCount=this._firingCount+1||1; for( var r=0, a=s.length; r<a; r++ ) {var c=s[r]; c.fn.call( c.ctx||this, o )}this._firingCount--}}return i&&this._propagateEvent( o ), this}, listens: function( t, e ) {'string'!=typeof t&&console.warn( '"string" type argument expected' ); var n=this._events&&this._events[t]; if( n&&n.length ) {return!0}if( e ) {for( var i in this._eventParents ) {if( this._eventParents[i].listens( t, e ) ) {return!0}}}return!1}, once: function( t, e, n ) {if( 'object'==typeof t ) {for( var i in t ) {this.once( i, t[i], e )}return this}var s=o( ( function() {this.off( t, e, n ).off( t, s, n )} ), this ); return this.on( t, e, n ).on( t, s, n )}, addEventParent: function( t ) {return this._eventParents=this._eventParents||{}, this._eventParents[r( t )]=t, this}, removeEventParent: function( t ) {return this._eventParents&&delete this._eventParents[r( t )], this}, _propagateEvent: function( t ) {for( var n in this._eventParents ) {this._eventParents[n].fire( t.type, e( { layer: t.target, propagatedFrom: t.target }, t ), !0 )}} }, M=( N.addEventListener=N.on, N.removeEventListener=N.clearAllEventListeners=N.off, N.addOneTimeEventListener=N.once, N.fireEvent=N.fire, N.hasEventListeners=N.listens, k.extend( N ) ); function E( t, e, n ) {this.x=n?Math.round( t ):t, this.y=n?Math.round( e ):e}var A=Math.trunc||function( t ) {return 0<t?Math.floor( t ):Math.ceil( t )}; function O( t, e, n ) {return t instanceof E?t:_( t )?new E( t[0], t[1] ):null==t?t:'object'==typeof t&&'x'in t&&'y'in t?new E( t.x, t.y ):new E( t, e, n )}function I( t, e ) {if( t ) {for( var n=e?[t, e]:t, i=0, o=n.length; i<o; i++ ) {this.extend( n[i] )}}}function z( t, e ) {return!t||t instanceof I?t:new I( t, e )}function B( t, e ) {if( t ) {for( var n=e?[t, e]:t, i=0, o=n.length; i<o; i++ ) {this.extend( n[i] )}}}function D( t, e ) {return t instanceof B?t:new B( t, e )}function R( t, e, n ) {if( isNaN( t )||isNaN( e ) ) {throw new Error( 'Invalid LatLng object: ('+t+', '+e+')' )}this.lat=+t, this.lng=+e, void 0!==n&&( this.alt=+n )}function Z( t, e, n ) {return t instanceof R?t:_( t )&&'object'!=typeof t[0]?3===t.length?new R( t[0], t[1], t[2] ):2===t.length?new R( t[0], t[1] ):null:null==t?t:'object'==typeof t&&'lat'in t?new R( t.lat, 'lng'in t?t.lng:t.lon, t.alt ):void 0===e?null:new R( t, e, n )}E.prototype={ clone: function() {return new E( this.x, this.y )}, add: function( t ) {return this.clone()._add( O( t ) )}, _add: function( t ) {return this.x+=t.x, this.y+=t.y, this}, subtract: function( t ) {return this.clone()._subtract( O( t ) )}, _subtract: function( t ) {return this.x-=t.x, this.y-=t.y, this}, divideBy: function( t ) {return this.clone()._divideBy( t )}, _divideBy: function( t ) {return this.x/=t, this.y/=t, this}, multiplyBy: function( t ) {return this.clone()._multiplyBy( t )}, _multiplyBy: function( t ) {return this.x*=t, this.y*=t, this}, scaleBy: function( t ) {return new E( this.x*t.x, this.y*t.y )}, unscaleBy: function( t ) {return new E( this.x/t.x, this.y/t.y )}, round: function() {return this.clone()._round()}, _round: function() {return this.x=Math.round( this.x ), this.y=Math.round( this.y ), this}, floor: function() {return this.clone()._floor()}, _floor: function() {return this.x=Math.floor( this.x ), this.y=Math.floor( this.y ), this}, ceil: function() {return this.clone()._ceil()}, _ceil: function() {return this.x=Math.ceil( this.x ), this.y=Math.ceil( this.y ), this}, trunc: function() {return this.clone()._trunc()}, _trunc: function() {return this.x=A( this.x ), this.y=A( this.y ), this}, distanceTo: function( t ) {var e=( t=O( t ) ).x-this.x; t=t.y-this.y; return Math.sqrt( e*e+t*t )}, equals: function( t ) {return( t=O( t ) ).x===this.x&&t.y===this.y}, contains: function( t ) {return t=O( t ), Math.abs( t.x )<=Math.abs( this.x )&&Math.abs( t.y )<=Math.abs( this.y )}, toString: function() {return'Point('+u( this.x )+', '+u( this.y )+')'} }, I.prototype={ extend: function( t ) {return t=O( t ), this.min||this.max?( this.min.x=Math.min( t.x, this.min.x ), this.max.x=Math.max( t.x, this.max.x ), this.min.y=Math.min( t.y, this.min.y ), this.max.y=Math.max( t.y, this.max.y ) ):( this.min=t.clone(), this.max=t.clone() ), this}, getCenter: function( t ) {return new E( ( this.min.x+this.max.x )/2, ( this.min.y+this.max.y )/2, t )}, getBottomLeft: function() {return new E( this.min.x, this.max.y )}, getTopRight: function() {return new E( this.max.x, this.min.y )}, getTopLeft: function() {return this.min}, getBottomRight: function() {return this.max}, getSize: function() {return this.max.subtract( this.min )}, contains: function( t ) {var e, n; return( t=( 'number'==typeof t[0]||t instanceof E?O:z )( t ) )instanceof I?( e=t.min, n=t.max ):e=n=t, e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y}, intersects: function( t ) {t=z( t ); var e=this.min, n=this.max, i=t.min, o=( t=t.max ).x>=e.x&&i.x<=n.x; t=t.y>=e.y&&i.y<=n.y; return o&&t}, overlaps: function( t ) {t=z( t ); var e=this.min, n=this.max, i=t.min, o=( t=t.max ).x>e.x&&i.x<n.x; t=t.y>e.y&&i.y<n.y; return o&&t}, isValid: function() {return!( !this.min||!this.max )} }, B.prototype={ extend: function( t ) {
    var e, n, i=this._southWest, o=this._northEast; if( t instanceof R ) {n=e=t}
    else{if( !( t instanceof B ) ) {return t?this.extend( Z( t )||D( t ) ):this}if( e=t._southWest, n=t._northEast, !e||!n ) {return this}}return i||o?( i.lat=Math.min( e.lat, i.lat ), i.lng=Math.min( e.lng, i.lng ), o.lat=Math.max( n.lat, o.lat ), o.lng=Math.max( n.lng, o.lng ) ):( this._southWest=new R( e.lat, e.lng ), this._northEast=new R( n.lat, n.lng ) ), this;
  }, pad: function( t ) {var e=this._southWest, n=this._northEast, i=Math.abs( e.lat-n.lat )*t; t=Math.abs( e.lng-n.lng )*t; return new B( new R( e.lat-i, e.lng-t ), new R( n.lat+i, n.lng+t ) )}, getCenter: function() {return new R( ( this._southWest.lat+this._northEast.lat )/2, ( this._southWest.lng+this._northEast.lng )/2 )}, getSouthWest: function() {return this._southWest}, getNorthEast: function() {return this._northEast}, getNorthWest: function() {return new R( this.getNorth(), this.getWest() )}, getSouthEast: function() {return new R( this.getSouth(), this.getEast() )}, getWest: function() {return this._southWest.lng}, getSouth: function() {return this._southWest.lat}, getEast: function() {return this._northEast.lng}, getNorth: function() {return this._northEast.lat}, contains: function( t ) {t=( 'number'==typeof t[0]||t instanceof R||'lat'in t?Z:D )( t ); var e, n, i=this._southWest, o=this._northEast; return t instanceof B?( e=t.getSouthWest(), n=t.getNorthEast() ):e=n=t, e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng}, intersects: function( t ) {t=D( t ); var e=this._southWest, n=this._northEast, i=t.getSouthWest(), o=( t=t.getNorthEast() ).lat>=e.lat&&i.lat<=n.lat; t=t.lng>=e.lng&&i.lng<=n.lng; return o&&t}, overlaps: function( t ) {t=D( t ); var e=this._southWest, n=this._northEast, i=t.getSouthWest(), o=( t=t.getNorthEast() ).lat>e.lat&&i.lat<n.lat; t=t.lng>e.lng&&i.lng<n.lng; return o&&t}, toBBoxString: function() {return[this.getWest(), this.getSouth(), this.getEast(), this.getNorth()].join( ',' )}, equals: function( t, e ) {return!!t&&( t=D( t ), this._southWest.equals( t.getSouthWest(), e )&&this._northEast.equals( t.getNorthEast(), e ) )}, isValid: function() {return!( !this._southWest||!this._northEast )} }; var j={ latLngToPoint: function( t, e ) {return t=this.projection.project( t ), e=this.scale( e ), this.transformation._transform( t, e )}, pointToLatLng: function( t, e ) {return e=this.scale( e ), t=this.transformation.untransform( t, e ), this.projection.unproject( t )}, project: function( t ) {return this.projection.project( t )}, unproject: function( t ) {return this.projection.unproject( t )}, scale: function( t ) {return 256*Math.pow( 2, t )}, zoom: function( t ) {return Math.log( t/256 )/Math.LN2}, getProjectedBounds: function( t ) {if( this.infinite ) {return null}var e=this.projection.bounds; t=this.scale( t ); return new I( this.transformation.transform( e.min, t ), this.transformation.transform( e.max, t ) )}, infinite: !( R.prototype={ equals: function( t, e ) {return!!t&&( t=Z( t ), Math.max( Math.abs( this.lat-t.lat ), Math.abs( this.lng-t.lng ) )<=( void 0===e?1e-9:e ) )}, toString: function( t ) {return'LatLng('+u( this.lat, t )+', '+u( this.lng, t )+')'}, distanceTo: function( t ) {return F.distance( this, Z( t ) )}, wrap: function() {return F.wrapLatLng( this )}, toBounds: function( t ) {var e=( t=180*t/40075017 )/Math.cos( Math.PI/180*this.lat ); return D( [this.lat-t, this.lng-e], [this.lat+t, this.lng+e] )}, clone: function() {return new R( this.lat, this.lng, this.alt )} } ), wrapLatLng: function( t ) {var e=this.wrapLng?c( t.lng, this.wrapLng, !0 ):t.lng; return new R( this.wrapLat?c( t.lat, this.wrapLat, !0 ):t.lat, e, t.alt )}, wrapLatLngBounds: function( t ) {var e=t.getCenter(), n=this.wrapLatLng( e ), i=e.lat-n.lat; e=e.lng-n.lng; return 0==i&&0==e?t:( n=t.getSouthWest(), t=t.getNorthEast(), new B( new R( n.lat-i, n.lng-e ), new R( t.lat-i, t.lng-e ) ) )} }, F=e( {}, j, { wrapLng: [-180, 180], R: 6371e3, distance: function( t, e ) {var n=Math.PI/180, i=t.lat*n, o=e.lat*n, s=Math.sin( ( e.lat-t.lat )*n/2 ); e=Math.sin( ( e.lng-t.lng )*n/2 ), t=s*s+Math.cos( i )*Math.cos( o )*e*e, n=2*Math.atan2( Math.sqrt( t ), Math.sqrt( 1-t ) ); return this.R*n} } ), H={ R: H=6378137, MAX_LATITUDE: 85.0511287798, project: function( t ) {var e=Math.PI/180, n=this.MAX_LATITUDE; n=Math.max( Math.min( n, t.lat ), -n ), n=Math.sin( n*e ); return new E( this.R*t.lng*e, this.R*Math.log( ( 1+n )/( 1-n ) )/2 )}, unproject: function( t ) {var e=180/Math.PI; return new R( ( 2*Math.atan( Math.exp( t.y/this.R ) )-Math.PI/2 )*e, t.x*e/this.R )}, bounds: new I( [-( H*=Math.PI ), -H], [H, H] ) }; function q( t, e, n, i ) {if( _( t ) ) {return this._a=t[0], this._b=t[1], this._c=t[2], void( this._d=t[3] )}this._a=t, this._b=e, this._c=n, this._d=i}function U( t, e, n, i ) {return new q( t, e, n, i )}q.prototype={ transform: function( t, e ) {return this._transform( t.clone(), e )}, _transform: function( t, e ) {return t.x=( e=e||1 )*( this._a*t.x+this._b ), t.y=e*( this._c*t.y+this._d ), t}, untransform: function( t, e ) {return new E( ( t.x/( e=e||1 )-this._b )/this._a, ( t.y/e-this._d )/this._c )} }; var W=e( {}, F, { code: 'EPSG:3857', projection: H, transformation: U( W=0.5/( Math.PI*H.R ), 0.5, -W, 0.5 ) } ), $=e( {}, W, { code: 'EPSG:900913' } ); function G( t ) {return document.createElementNS( 'http://www.w3.org/2000/svg', t )}function Y( t, e ) {for( var n, i, o, s, r='', a=0, c=t.length; a<c; a++ ) {for( n=0, i=( o=t[a] ).length; n<i; n++ ) {r+=( n?'L':'M' )+( s=o[n] ).x+' '+s.y}r+=e?Vt.svg?'z':'x':''}return r||'M0 0'}var Q=document.documentElement.style, J='ActiveXObject'in window, K=J&&!document.addEventListener, X='msLaunchUri'in navigator&&!( 'documentMode'in document ), tt=Lt( 'webkit' ), et=Lt( 'android' ), nt=Lt( 'android 2' )||Lt( 'android 3' ), it=parseInt( /WebKit\/([0-9]+)|$/.exec( navigator.userAgent )[1], 10 ), ot=( it=et&&Lt( 'Google' )&&it<537&&!( 'AudioNode'in window ), !!window.opera ), st=!X&&Lt( 'chrome' ), rt=Lt( 'gecko' )&&!tt&&!ot&&!J, at=!st&&Lt( 'safari' ), ct=Lt( 'phantom' ), lt='OTransition'in Q, ut=0===navigator.platform.indexOf( 'Win' ), ht=J&&'transition'in Q, dt='WebKitCSSMatrix'in window&&'m11'in new window.WebKitCSSMatrix&&!nt, pt=( Q='MozPerspective'in Q, !window.L_DISABLE_3D&&( ht||dt||Q )&&!lt&&!ct ), ft=( Hn='undefined'!=typeof orientation||Lt( 'mobile' ) )&&tt, mt=Hn&&dt, gt=!window.PointerEvent&&window.MSPointerEvent, _t=!( !window.PointerEvent&&!gt ), vt='ontouchstart'in window||!!window.TouchEvent, yt=!window.L_NO_TOUCH&&( vt||_t ), bt=Hn&&ot, wt=Hn&&rt, xt=1<( window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI ), Ct=function() {
      var t=!1; try{var e=Object.defineProperty( {}, 'passive', { get: function() {t=!0} } ); window.addEventListener( 'testPassiveEventSupport', l, e ), window.removeEventListener( 'testPassiveEventSupport', l, e )}
      catch( t ) {}return t;
    }(), St=!!document.createElement( 'canvas' ).getContext, Pt=!( !document.createElementNS||!G( 'svg' ).createSVGRect ), Tt=!!Pt&&( ( Tt=document.createElement( 'div' ) ).innerHTML='<svg/>', 'http://www.w3.org/2000/svg'===( Tt.firstChild&&Tt.firstChild.namespaceURI ) ); function Lt( t ) {return 0<=navigator.userAgent.toLowerCase().indexOf( t )}var Vt={ ie: J, ielt9: K, edge: X, webkit: tt, android: et, android23: nt, androidStock: it, opera: ot, chrome: st, gecko: rt, safari: at, phantom: ct, opera12: lt, win: ut, ie3d: ht, webkit3d: dt, gecko3d: Q, any3d: pt, mobile: Hn, mobileWebkit: ft, mobileWebkit3d: mt, msPointer: gt, pointer: _t, touch: yt, touchNative: vt, mobileOpera: bt, mobileGecko: wt, retina: xt, passiveEvents: Ct, canvas: St, svg: Pt, vml: !Pt&&function() {
      try{var t=document.createElement( 'div' ), e=( t.innerHTML='<v:shape adj="1"/>', t.firstChild ); return e.style.behavior='url(#default#VML)', e&&'object'==typeof e.adj}
      catch( t ) {return!1}
    }(), inlineSvg: Tt }, kt=Vt.msPointer?'MSPointerDown':'pointerdown', Nt=Vt.msPointer?'MSPointerMove':'pointermove', Mt=Vt.msPointer?'MSPointerUp':'pointerup', Et=Vt.msPointer?'MSPointerCancel':'pointercancel', At={ touchstart: kt, touchmove: Nt, touchend: Mt, touchcancel: Et }, Ot={ touchstart: function( t, e ) {e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&ke( e ), Zt( t, e )}, touchmove: Zt, touchend: Zt, touchcancel: Zt }, It={}, zt=!1; function Bt( t ) {It[t.pointerId]=t}function Dt( t ) {It[t.pointerId]&&( It[t.pointerId]=t )}function Rt( t ) {delete It[t.pointerId]}function Zt( t, e ) {if( e.pointerType!==( e.MSPOINTER_TYPE_MOUSE||'mouse' ) ) {for( var n in e.touches=[], It ) {e.touches.push( It[n] )}e.changedTouches=[e], t( e )}}var jt, Ft, Ht, qt, Ut, Wt, $t=le( ['transform', 'webkitTransform', 'OTransform', 'MozTransform', 'msTransform'] ), Gt=le( ['webkitTransition', 'transition', 'OTransition', 'MozTransition', 'msTransition'] ), Yt='webkitTransition'===Gt||'OTransition'===Gt?Gt+'End':'transitionend'; function Qt( t ) {return'string'==typeof t?document.getElementById( t ):t}function Jt( t, e ) {var n=t.style[e]||t.currentStyle&&t.currentStyle[e]; return'auto'===( n=n&&'auto'!==n||!document.defaultView?n:( t=document.defaultView.getComputedStyle( t, null ) )?t[e]:null )?null:n}function Kt( t, e, n ) {return( t=document.createElement( t ) ).className=e||'', n&&n.appendChild( t ), t}function Xt( t ) {var e=t.parentNode; e&&e.removeChild( t )}function te( t ) {for( ;t.firstChild; ) {t.removeChild( t.firstChild )}}function ee( t ) {var e=t.parentNode; e&&e.lastChild!==t&&e.appendChild( t )}function ne( t ) {var e=t.parentNode; e&&e.firstChild!==t&&e.insertBefore( t, e.firstChild )}function ie( t, e ) {return void 0!==t.classList?t.classList.contains( e ):0<( t=ae( t ) ).length&&new RegExp( '(^|\\s)'+e+'(\\s|$)' ).test( t )}function oe( t, e ) {
    var n; if( void 0!==t.classList ) {for( var i=d( e ), o=0, s=i.length; o<s; o++ ) {t.classList.add( i[o] )}}
    else {ie( t, e )||re( t, ( ( n=ae( t ) )?n+' ':'' )+e )}
  }function se( t, e ) {void 0!==t.classList?t.classList.remove( e ):re( t, h( ( ' '+ae( t )+' ' ).replace( ' '+e+' ', ' ' ) ) )}function re( t, e ) {void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function ae( t ) {return void 0===( t=t.correspondingElement?t.correspondingElement:t ).className.baseVal?t.className:t.className.baseVal}function ce( t, e ) {
    if( 'opacity'in t.style ) {t.style.opacity=e}
    else if( 'filter'in t.style ) {
      var n=!1, i='DXImageTransform.Microsoft.Alpha'; try{n=t.filters.item( i )}
      catch( t ) {if( 1===e ) {return}}e=Math.round( 100*e ), n?( n.Enabled=100!==e, n.Opacity=e ):t.style.filter+=' progid:'+i+'(opacity='+e+')';
    }
  }function le( t ) {for( var e=document.documentElement.style, n=0; n<t.length; n++ ) {if( t[n]in e ) {return t[n]}}return!1}function ue( t, e, n ) {e=e||new E( 0, 0 ), t.style[$t]=( Vt.ie3d?'translate('+e.x+'px,'+e.y+'px)':'translate3d('+e.x+'px,'+e.y+'px,0)' )+( n?' scale('+n+')':'' )}function he( t, e ) {t._leaflet_pos=e, Vt.any3d?ue( t, e ):( t.style.left=e.x+'px', t.style.top=e.y+'px' )}function de( t ) {return t._leaflet_pos||new E( 0, 0 )}function pe() {ye( window, 'dragstart', ke )}function fe() {we( window, 'dragstart', ke )}function me( t ) {for( ;-1===t.tabIndex; ) {t=t.parentNode}t.style&&( ge(), Wt=( Ut=t ).style.outline, t.style.outline='none', ye( window, 'keydown', ge ) )}function ge() {Ut&&( Ut.style.outline=Wt, Wt=Ut=void 0, we( window, 'keydown', ge ) )}function _e( t ) {for( ;!( ( t=t.parentNode ).offsetWidth&&t.offsetHeight||t===document.body ); ) {}return t}function ve( t ) {var e=t.getBoundingClientRect(); return{ x: e.width/t.offsetWidth||1, y: e.height/t.offsetHeight||1, boundingClientRect: e }}function ye( t, e, n, i ) {
    if( e&&'object'==typeof e ) {for( var o in e ) {Se( t, o, e[o], n )}}
    else {for( var s=0, r=( e=d( e ) ).length; s<r; s++ ) {Se( t, e[s], n, i )}}return this;
  }qt='onselectstart'in document?( Ht=function() {ye( window, 'selectstart', ke )}, function() {we( window, 'selectstart', ke )} ):( Ft=le( ['userSelect', 'WebkitUserSelect', 'OUserSelect', 'MozUserSelect', 'msUserSelect'] ), Ht=function() {var t; Ft&&( t=document.documentElement.style, jt=t[Ft], t[Ft]='none' )}, function() {Ft&&( document.documentElement.style[Ft]=jt, jt=void 0 )} ), J={ __proto__: null, TRANSFORM: $t, TRANSITION: Gt, TRANSITION_END: Yt, get: Qt, getStyle: Jt, create: Kt, remove: Xt, empty: te, toFront: ee, toBack: ne, hasClass: ie, addClass: oe, removeClass: se, setClass: re, getClass: ae, setOpacity: ce, testProp: le, setTransform: ue, setPosition: he, getPosition: de, get disableTextSelection() {return Ht}, get enableTextSelection() {return qt}, disableImageDrag: pe, enableImageDrag: fe, preventOutline: me, restoreOutline: ge, getSizedParentNode: _e, getScale: ve }; var be='_leaflet_events'; function we( t, e, n, i ) {
    if( 1===arguments.length ) {xe( t ), delete t[be]}
    else if( e&&'object'==typeof e ) {for( var o in e ) {Pe( t, o, e[o], n )}}
    else if( e=d( e ), 2===arguments.length ) {xe( t, ( function( t ) {return-1!==v( e, t )} ) )}
    else {for( var s=0, r=e.length; s<r; s++ ) {Pe( t, e[s], n, i )}}return this;
  }function xe( t, e ) {for( var n in t[be] ) {var i=n.split( /\d/ )[0]; e&&!e( i )||Pe( t, i, null, null, n )}}var Ce={ mouseenter: 'mouseover', mouseleave: 'mouseout', wheel: !( 'onwheel'in window )&&'mousewheel' }; function Se( t, e, n, i ) {var o, s, a=e+r( n )+( i?'_'+r( i ):'' ); t[be]&&t[be][a]||( s=o=function( e ) {return n.call( i||t, e||window.event )}, !Vt.touchNative&&Vt.pointer&&0===e.indexOf( 'touch' )?o=function( t, e, n ) {return'touchstart'!==e||zt||( document.addEventListener( kt, Bt, !0 ), document.addEventListener( Nt, Dt, !0 ), document.addEventListener( Mt, Rt, !0 ), document.addEventListener( Et, Rt, !0 ), zt=!0 ), Ot[e]?( n=Ot[e].bind( this, n ), t.addEventListener( At[e], n, !1 ), n ):( console.warn( 'wrong event specified:', e ), L.Util.falseFn )}( t, e, o ):Vt.touch&&'dblclick'===e?o=function( t, e ) {t.addEventListener( 'dblclick', e ); var n, i=0; function o( t ) {var o; 1!==t.detail?n=t.detail:'mouse'===t.pointerType||t.sourceCapabilities&&!t.sourceCapabilities.firesTouchEvents||( ( o=Date.now() )-i<=200?2==++n&&e( function( t ) {var e, n, i={}; for( n in t ) {e=t[n], i[n]=e&&e.bind?e.bind( t ):e}return( t=i ).type='dblclick', i.detail=2, i.isTrusted=!1, i._simulated=!0, i}( t ) ):n=1, i=o )}return t.addEventListener( 'click', o ), { dblclick: e, simDblclick: o }}( t, o ):'addEventListener'in t?'touchstart'===e||'touchmove'===e||'wheel'===e||'mousewheel'===e?t.addEventListener( Ce[e]||e, o, !!Vt.passiveEvents&&{ passive: !1 } ):'mouseenter'===e||'mouseleave'===e?t.addEventListener( Ce[e], o=function( e ) {e=e||window.event, Oe( t, e )&&s( e )}, !1 ):t.addEventListener( e, s, !1 ):t.attachEvent( 'on'+e, o ), t[be]=t[be]||{}, t[be][a]=o )}function Pe( t, e, n, i, o ) {var s, a; o=o||e+r( n )+( i?'_'+r( i ):'' ), ( n=t[be]&&t[be][o] )&&( !Vt.touchNative&&Vt.pointer&&0===e.indexOf( 'touch' )?( i=t, a=n, At[s=e]?i.removeEventListener( At[s], a, !1 ):console.warn( 'wrong event specified:', s ) ):Vt.touch&&'dblclick'===e?( i=n, ( a=t ).removeEventListener( 'dblclick', i.dblclick ), a.removeEventListener( 'click', i.simDblclick ) ):'removeEventListener'in t?t.removeEventListener( Ce[e]||e, n, !1 ):t.detachEvent( 'on'+e, n ), t[be][o]=null )}function Te( t ) {return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0, this}function Le( t ) {return Se( t, 'wheel', Te ), this}function Ve( t ) {return ye( t, 'mousedown touchstart dblclick contextmenu', Te ), t._leaflet_disable_click=!0, this}function ke( t ) {return t.preventDefault?t.preventDefault():t.returnValue=!1, this}function Ne( t ) {return ke( t ), Te( t ), this}function Me( t, e ) {if( !e ) {return new E( t.clientX, t.clientY )}var n=ve( e ), i=n.boundingClientRect; return new E( ( t.clientX-i.left )/n.x-e.clientLeft, ( t.clientY-i.top )/n.y-e.clientTop )}var Ee=Vt.win&&Vt.chrome?2*window.devicePixelRatio:Vt.gecko?window.devicePixelRatio:1; function Ae( t ) {return Vt.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/Ee:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?( t.wheelDeltaY||t.wheelDelta )/2:t.detail&&Math.abs( t.detail )<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function Oe( t, e ) {
    var n=e.relatedTarget; if( !n ) {return!0}try{for( ;n&&n!==t; ) {n=n.parentNode}}
    catch( t ) {return!1}return n!==t;
  }K={ __proto__: null, on: ye, off: we, stopPropagation: Te, disableScrollPropagation: Le, disableClickPropagation: Ve, preventDefault: ke, stop: Ne, getMousePosition: Me, getWheelDelta: Ae, isExternalTarget: Oe, addListener: ye, removeListener: we }; var Ie=M.extend( { run: function( t, e, n, i ) {this.stop(), this._el=t, this._inProgress=!0, this._duration=n||0.25, this._easeOutPower=1/Math.max( i||0.5, 0.2 ), this._startPos=de( t ), this._offset=e.subtract( this._startPos ), this._startTime=+new Date, this.fire( 'start' ), this._animate()}, stop: function() {this._inProgress&&( this._step( !0 ), this._complete() )}, _animate: function() {this._animId=P( this._animate, this ), this._step()}, _step: function( t ) {var e=+new Date-this._startTime, n=1e3*this._duration; e<n?this._runFrame( this._easeOut( e/n ), t ):( this._runFrame( 1 ), this._complete() )}, _runFrame: function( t, e ) {t=this._startPos.add( this._offset.multiplyBy( t ) ), e&&t._round(), he( this._el, t ), this.fire( 'step' )}, _complete: function() {T( this._animId ), this._inProgress=!1, this.fire( 'end' )}, _easeOut: function( t ) {return 1-Math.pow( 1-t, this._easeOutPower )} } ), ze=M.extend( { options: { crs: W, center: void 0, zoom: void 0, minZoom: void 0, maxZoom: void 0, layers: [], maxBounds: void 0, renderer: void 0, zoomAnimation: !0, zoomAnimationThreshold: 4, fadeAnimation: !0, markerZoomAnimation: !0, transform3DLimit: 8388608, zoomSnap: 1, zoomDelta: 1, trackResize: !0 }, initialize: function( t, e ) {e=p( this, e ), this._handlers=[], this._layers={}, this._zoomBoundLayers={}, this._sizeChanged=!0, this._initContainer( t ), this._initLayout(), this._onResize=o( this._onResize, this ), this._initEvents(), e.maxBounds&&this.setMaxBounds( e.maxBounds ), void 0!==e.zoom&&( this._zoom=this._limitZoom( e.zoom ) ), e.center&&void 0!==e.zoom&&this.setView( Z( e.center ), e.zoom, { reset: !0 } ), this.callInitHooks(), this._zoomAnimated=Gt&&Vt.any3d&&!Vt.mobileOpera&&this.options.zoomAnimation, this._zoomAnimated&&( this._createAnimProxy(), ye( this._proxy, Yt, this._catchTransitionEnd, this ) ), this._addLayers( this.options.layers )}, setView: function( t, n, i ) {return n=void 0===n?this._zoom:this._limitZoom( n ), t=this._limitCenter( Z( t ), n, this.options.maxBounds ), i=i||{}, this._stop(), this._loaded&&!i.reset&&!0!==i&&( void 0!==i.animate&&( i.zoom=e( { animate: i.animate }, i.zoom ), i.pan=e( { animate: i.animate, duration: i.duration }, i.pan ) ), this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom( t, n, i.zoom ):this._tryAnimatedPan( t, i.pan ) )?( clearTimeout( this._sizeTimer ), this ):( this._resetView( t, n ), this )}, setZoom: function( t, e ) {return this._loaded?this.setView( this.getCenter(), t, { zoom: e } ):( this._zoom=t, this )}, zoomIn: function( t, e ) {return t=t||( Vt.any3d?this.options.zoomDelta:1 ), this.setZoom( this._zoom+t, e )}, zoomOut: function( t, e ) {return t=t||( Vt.any3d?this.options.zoomDelta:1 ), this.setZoom( this._zoom-t, e )}, setZoomAround: function( t, e, n ) {var i=this.getZoomScale( e ), o=this.getSize().divideBy( 2 ); t=( t instanceof E?t:this.latLngToContainerPoint( t ) ).subtract( o ).multiplyBy( 1-1/i ), i=this.containerPointToLatLng( o.add( t ) ); return this.setView( i, e, { zoom: n } )}, _getBoundsCenterZoom: function( t, e ) {e=e||{}, t=t.getBounds?t.getBounds():D( t ); var n=O( e.paddingTopLeft||e.padding||[0, 0] ), i=O( e.paddingBottomRight||e.padding||[0, 0] ), o=this.getBoundsZoom( t, !1, n.add( i ) ); return( o='number'==typeof e.maxZoom?Math.min( e.maxZoom, o ):o )===1/0?{ center: t.getCenter(), zoom: o }:( e=i.subtract( n ).divideBy( 2 ), i=this.project( t.getSouthWest(), o ), n=this.project( t.getNorthEast(), o ), { center: this.unproject( i.add( n ).divideBy( 2 ).add( e ), o ), zoom: o } )}, fitBounds: function( t, e ) {if( !( t=D( t ) ).isValid() ) {throw new Error( 'Bounds are not valid.' )}return t=this._getBoundsCenterZoom( t, e ), this.setView( t.center, t.zoom, e )}, fitWorld: function( t ) {return this.fitBounds( [[-90, -180], [90, 180]], t )}, panTo: function( t, e ) {return this.setView( t, this._zoom, { pan: e } )}, panBy: function( t, e ) {return e=e||{}, ( t=O( t ).round() ).x||t.y?( !0===e.animate||this.getSize().contains( t )?( this._panAnim||( this._panAnim=new Ie, this._panAnim.on( { step: this._onPanTransitionStep, end: this._onPanTransitionEnd }, this ) ), e.noMoveStart||this.fire( 'movestart' ), !1!==e.animate?( oe( this._mapPane, 'leaflet-pan-anim' ), n=this._getMapPanePos().subtract( t ).round(), this._panAnim.run( this._mapPane, n, e.duration||0.25, e.easeLinearity ) ):( this._rawPanBy( t ), this.fire( 'move' ).fire( 'moveend' ) ) ):this._resetView( this.unproject( this.project( this.getCenter() ).add( t ) ), this.getZoom() ), this ):this.fire( 'moveend' ); var n}, flyTo: function( t, e, n ) {if( !1===( n=n||{} ).animate||!Vt.any3d ) {return this.setView( t, e, n )}this._stop(); var i=this.project( this.getCenter() ), o=this.project( t ), s=this.getSize(), r=this._zoom, a=( t=Z( t ), e=void 0===e?r:e, Math.max( s.x, s.y ) ), c=a*this.getZoomScale( r, e ), l=o.distanceTo( i )||1, u=1.42, h=u*u; function d( t ) {return t=( c*c-a*a+( t?-1:1 )*h*h*l*l )/( 2*( t?c:a )*h*l ), ( t=Math.sqrt( t*t+1 )-t )<1e-9?-18:Math.log( t )}function p( t ) {return( Math.exp( t )-Math.exp( -t ) )/2}function f( t ) {return( Math.exp( t )+Math.exp( -t ) )/2}var m=d( 0 ); var g=Date.now(), _=( d( 1 )-m )/u, v=n.duration?1e3*n.duration:1e3*_*0.8; return this._moveStart( !0, n.noMoveStart ), function n() {var s=( Date.now()-g )/v, c=( 1-Math.pow( 1-s, 1.5 ) )*_; s<=1?( this._flyToFrame=P( n, this ), this._move( this.unproject( i.add( o.subtract( i ).multiplyBy( function( t ) {return a*( f( m )*( p( t=m+u*t )/f( t ) )-p( m ) )/h}( c )/l ) ), r ), this.getScaleZoom( a/( s=c, a*( f( m )/f( m+u*s ) ) ), r ), { flyTo: !0 } ) ):this._move( t, e )._moveEnd( !0 )}.call( this ), this}, flyToBounds: function( t, e ) {return t=this._getBoundsCenterZoom( t, e ), this.flyTo( t.center, t.zoom, e )}, setMaxBounds: function( t ) {return( t=D( t ) ).isValid()?( this.options.maxBounds&&this.off( 'moveend', this._panInsideMaxBounds ), this.options.maxBounds=t, this._loaded&&this._panInsideMaxBounds(), this.on( 'moveend', this._panInsideMaxBounds ) ):( this.options.maxBounds=null, this.off( 'moveend', this._panInsideMaxBounds ) )}, setMinZoom: function( t ) {var e=this.options.minZoom; return this.options.minZoom=t, this._loaded&&e!==t&&( this.fire( 'zoomlevelschange' ), this.getZoom()<this.options.minZoom )?this.setZoom( t ):this}, setMaxZoom: function( t ) {var e=this.options.maxZoom; return this.options.maxZoom=t, this._loaded&&e!==t&&( this.fire( 'zoomlevelschange' ), this.getZoom()>this.options.maxZoom )?this.setZoom( t ):this}, panInsideBounds: function( t, e ) {this._enforcingBounds=!0; var n=this.getCenter(); t=this._limitCenter( n, this._zoom, D( t ) ); return n.equals( t )||this.panTo( t, e ), this._enforcingBounds=!1, this}, panInside: function( t, e ) {var n=O( ( e=e||{} ).paddingTopLeft||e.padding||[0, 0] ), i=O( e.paddingBottomRight||e.padding||[0, 0] ), o=this.project( this.getCenter() ), s=( t=this.project( t ), ( n=z( [( s=this.getPixelBounds() ).min.add( n ), s.max.subtract( i )] ) ).getSize() ); return n.contains( t )||( this._enforcingBounds=!0, i=t.subtract( n.getCenter() ), n=n.extend( t ).getSize().subtract( s ), o.x+=i.x<0?-n.x:n.x, o.y+=i.y<0?-n.y:n.y, this.panTo( this.unproject( o ), e ), this._enforcingBounds=!1 ), this}, invalidateSize: function( t ) {if( !this._loaded ) {return this}t=e( { animate: !1, pan: !0 }, !0===t?{ animate: !0 }:t ); var n=this.getSize(), i=( this._sizeChanged=!0, this._lastCenter=null, this.getSize() ), s=n.divideBy( 2 ).round(), r=i.divideBy( 2 ).round(); return( s=s.subtract( r ) ).x||s.y?( t.animate&&t.pan?this.panBy( s ):( t.pan&&this._rawPanBy( s ), this.fire( 'move' ), t.debounceMoveend?( clearTimeout( this._sizeTimer ), this._sizeTimer=setTimeout( o( this.fire, this, 'moveend' ), 200 ) ):this.fire( 'moveend' ) ), this.fire( 'resize', { oldSize: n, newSize: i } ) ):this}, stop: function() {return this.setZoom( this._limitZoom( this._zoom ) ), this.options.zoomSnap||this.fire( 'viewreset' ), this._stop()}, locate: function( t ) {if( t=this._locateOptions=e( { timeout: 1e4, watch: !1 }, t ), !( 'geolocation'in navigator ) ) {return this._handleGeolocationError( { code: 0, message: 'Geolocation not supported.' } ), this}var n=o( this._handleGeolocationResponse, this ), i=o( this._handleGeolocationError, this ); return t.watch?this._locationWatchId=navigator.geolocation.watchPosition( n, i, t ):navigator.geolocation.getCurrentPosition( n, i, t ), this}, stopLocate: function() {return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch( this._locationWatchId ), this._locateOptions&&( this._locateOptions.setView=!1 ), this}, _handleGeolocationError: function( t ) {var e; this._container._leaflet_id&&( e=t.code, t=t.message||( 1===e?'permission denied':2===e?'position unavailable':'timeout' ), this._locateOptions.setView&&!this._loaded&&this.fitWorld(), this.fire( 'locationerror', { code: e, message: 'Geolocation error: '+t+'.' } ) )}, _handleGeolocationResponse: function( t ) {if( this._container._leaflet_id ) {var e, n, i=new R( t.coords.latitude, t.coords.longitude ), o=i.toBounds( 2*t.coords.accuracy ), s=this._locateOptions, r=( s.setView&&( e=this.getBoundsZoom( o ), this.setView( i, s.maxZoom?Math.min( e, s.maxZoom ):e ) ), { latlng: i, bounds: o, timestamp: t.timestamp } ); for( n in t.coords ) {'number'==typeof t.coords[n]&&( r[n]=t.coords[n] )} this.fire( 'locationfound', r )}}, addHandler: function( t, e ) {return e?( e=this[t]=new e( this ), this._handlers.push( e ), this.options[t]&&e.enable(), this ):this}, remove: function() {
    if( this._initEvents( !0 ), this.options.maxBounds&&this.off( 'moveend', this._panInsideMaxBounds ), this._containerId!==this._container._leaflet_id ) {throw new Error( 'Map container is being reused by another instance' )}try{delete this._container._leaflet_id, delete this._containerId}
    catch( t ) {this._container._leaflet_id=void 0, this._containerId=void 0}for( var t in void 0!==this._locationWatchId&&this.stopLocate(), this._stop(), Xt( this._mapPane ), this._clearControlPos&&this._clearControlPos(), this._resizeRequest&&( T( this._resizeRequest ), this._resizeRequest=null ), this._clearHandlers(), this._loaded&&this.fire( 'unload' ), this._layers ) {this._layers[t].remove()}for( t in this._panes ) {Xt( this._panes[t] )}return this._layers=[], this._panes=[], delete this._mapPane, delete this._renderer, this;
  }, createPane: function( t, e ) {return e=Kt( 'div', 'leaflet-pane'+( t?' leaflet-'+t.replace( 'Pane', '' )+'-pane':'' ), e||this._mapPane ), t&&( this._panes[t]=e ), e}, getCenter: function() {return this._checkIfLoaded(), this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng( this._getCenterLayerPoint() )}, getZoom: function() {return this._zoom}, getBounds: function() {var t=this.getPixelBounds(); return new B( this.unproject( t.getBottomLeft() ), this.unproject( t.getTopRight() ) )}, getMinZoom: function() {return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom}, getMaxZoom: function() {return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom}, getBoundsZoom: function( t, e, n ) {t=D( t ), n=O( n||[0, 0] ); var i=this.getZoom()||0, o=this.getMinZoom(), s=this.getMaxZoom(), r=t.getNorthWest(), a=( t=t.getSouthEast(), n=this.getSize().subtract( n ), t=z( this.project( t, i ), this.project( r, i ) ).getSize(), r=Vt.any3d?this.options.zoomSnap:1, n.x/t.x ); n=n.y/t.y, t=e?Math.max( a, n ):Math.min( a, n ), i=this.getScaleZoom( t, i ); return r&&( i=Math.round( i/( r/100 ) )*( r/100 ), i=e?Math.ceil( i/r )*r:Math.floor( i/r )*r ), Math.max( o, Math.min( s, i ) )}, getSize: function() {return this._size&&!this._sizeChanged||( this._size=new E( this._container.clientWidth||0, this._container.clientHeight||0 ), this._sizeChanged=!1 ), this._size.clone()}, getPixelBounds: function( t, e ) {return new I( t=this._getTopLeftPoint( t, e ), t.add( this.getSize() ) )}, getPixelOrigin: function() {return this._checkIfLoaded(), this._pixelOrigin}, getPixelWorldBounds: function( t ) {return this.options.crs.getProjectedBounds( void 0===t?this.getZoom():t )}, getPane: function( t ) {return'string'==typeof t?this._panes[t]:t}, getPanes: function() {return this._panes}, getContainer: function() {return this._container}, getZoomScale: function( t, e ) {var n=this.options.crs; return e=void 0===e?this._zoom:e, n.scale( t )/n.scale( e )}, getScaleZoom: function( t, e ) {var n=this.options.crs; e=void 0===e?this._zoom:e, t=n.zoom( t*n.scale( e ) ); return isNaN( t )?1/0:t}, project: function( t, e ) {return e=void 0===e?this._zoom:e, this.options.crs.latLngToPoint( Z( t ), e )}, unproject: function( t, e ) {return e=void 0===e?this._zoom:e, this.options.crs.pointToLatLng( O( t ), e )}, layerPointToLatLng: function( t ) {return t=O( t ).add( this.getPixelOrigin() ), this.unproject( t )}, latLngToLayerPoint: function( t ) {return this.project( Z( t ) )._round()._subtract( this.getPixelOrigin() )}, wrapLatLng: function( t ) {return this.options.crs.wrapLatLng( Z( t ) )}, wrapLatLngBounds: function( t ) {return this.options.crs.wrapLatLngBounds( D( t ) )}, distance: function( t, e ) {return this.options.crs.distance( Z( t ), Z( e ) )}, containerPointToLayerPoint: function( t ) {return O( t ).subtract( this._getMapPanePos() )}, layerPointToContainerPoint: function( t ) {return O( t ).add( this._getMapPanePos() )}, containerPointToLatLng: function( t ) {return t=this.containerPointToLayerPoint( O( t ) ), this.layerPointToLatLng( t )}, latLngToContainerPoint: function( t ) {return this.layerPointToContainerPoint( this.latLngToLayerPoint( Z( t ) ) )}, mouseEventToContainerPoint: function( t ) {return Me( t, this._container )}, mouseEventToLayerPoint: function( t ) {return this.containerPointToLayerPoint( this.mouseEventToContainerPoint( t ) )}, mouseEventToLatLng: function( t ) {return this.layerPointToLatLng( this.mouseEventToLayerPoint( t ) )}, _initContainer: function( t ) {if( !( t=this._container=Qt( t ) ) ) {throw new Error( 'Map container not found.' )}if( t._leaflet_id ) {throw new Error( 'Map container is already initialized.' )}ye( t, 'scroll', this._onScroll, this ), this._containerId=r( t )}, _initLayout: function() {var t=this._container, e=( this._fadeAnimated=this.options.fadeAnimation&&Vt.any3d, oe( t, 'leaflet-container'+( Vt.touch?' leaflet-touch':'' )+( Vt.retina?' leaflet-retina':'' )+( Vt.ielt9?' leaflet-oldie':'' )+( Vt.safari?' leaflet-safari':'' )+( this._fadeAnimated?' leaflet-fade-anim':'' ) ), Jt( t, 'position' ) ); 'absolute'!==e&&'relative'!==e&&'fixed'!==e&&( t.style.position='relative' ), this._initPanes(), this._initControlPos&&this._initControlPos()}, _initPanes: function() {var t=this._panes={}; this._paneRenderers={}, this._mapPane=this.createPane( 'mapPane', this._container ), he( this._mapPane, new E( 0, 0 ) ), this.createPane( 'tilePane' ), this.createPane( 'overlayPane' ), this.createPane( 'shadowPane' ), this.createPane( 'markerPane' ), this.createPane( 'tooltipPane' ), this.createPane( 'popupPane' ), this.options.markerZoomAnimation||( oe( t.markerPane, 'leaflet-zoom-hide' ), oe( t.shadowPane, 'leaflet-zoom-hide' ) )}, _resetView: function( t, e ) {he( this._mapPane, new E( 0, 0 ) ); var n=!this._loaded, i=( this._loaded=!0, e=this._limitZoom( e ), this.fire( 'viewprereset' ), this._zoom!==e ); this._moveStart( i, !1 )._move( t, e )._moveEnd( i ), this.fire( 'viewreset' ), n&&this.fire( 'load' )}, _moveStart: function( t, e ) {return t&&this.fire( 'zoomstart' ), e||this.fire( 'movestart' ), this}, _move: function( t, e, n, i ) {void 0===e&&( e=this._zoom ); var o=this._zoom!==e; return this._zoom=e, this._lastCenter=t, this._pixelOrigin=this._getNewPixelOrigin( t ), i?n&&n.pinch&&this.fire( 'zoom', n ):( ( o||n&&n.pinch )&&this.fire( 'zoom', n ), this.fire( 'move', n ) ), this}, _moveEnd: function( t ) {return t&&this.fire( 'zoomend' ), this.fire( 'moveend' )}, _stop: function() {return T( this._flyToFrame ), this._panAnim&&this._panAnim.stop(), this}, _rawPanBy: function( t ) {he( this._mapPane, this._getMapPanePos().subtract( t ) )}, _getZoomSpan: function() {return this.getMaxZoom()-this.getMinZoom()}, _panInsideMaxBounds: function() {this._enforcingBounds||this.panInsideBounds( this.options.maxBounds )}, _checkIfLoaded: function() {if( !this._loaded ) {throw new Error( 'Set map center and zoom first.' )}}, _initEvents: function( t ) {this._targets={}; var e=t?we:ye; e( ( this._targets[r( this._container )]=this )._container, 'click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup', this._handleDOMEvent, this ), this.options.trackResize&&e( window, 'resize', this._onResize, this ), Vt.any3d&&this.options.transform3DLimit&&( t?this.off:this.on ).call( this, 'moveend', this._onMoveEnd )}, _onResize: function() {T( this._resizeRequest ), this._resizeRequest=P( ( function() {this.invalidateSize( { debounceMoveend: !0 } )} ), this )}, _onScroll: function() {this._container.scrollTop=0, this._container.scrollLeft=0}, _onMoveEnd: function() {var t=this._getMapPanePos(); Math.max( Math.abs( t.x ), Math.abs( t.y ) )>=this.options.transform3DLimit&&this._resetView( this.getCenter(), this.getZoom() )}, _findEventTargets: function( t, e ) {for( var n, i=[], o='mouseout'===e||'mouseover'===e, s=t.target||t.srcElement, a=!1; s; ) {if( ( n=this._targets[r( s )] )&&( 'click'===e||'preclick'===e )&&this._draggableMoved( n ) ) {a=!0; break}if( n&&n.listens( e, !0 ) ) {if( o&&!Oe( s, t ) ) {break}if( i.push( n ), o ) {break}}if( s===this._container ) {break}s=s.parentNode}return i.length||a||o||!this.listens( e, !0 )?i:[this]}, _isClickDisabled: function( t ) {for( ;t!==this._container; ) {if( t._leaflet_disable_click ) {return!0}t=t.parentNode}}, _handleDOMEvent: function( t ) {var e, n=t.target||t.srcElement; !this._loaded||n._leaflet_disable_events||'click'===t.type&&this._isClickDisabled( n )||( 'mousedown'===( e=t.type )&&me( n ), this._fireDOMEvent( t, e ) )}, _mouseEvents: ['click', 'dblclick', 'mouseover', 'mouseout', 'contextmenu'], _fireDOMEvent: function( t, n, i ) {'click'===t.type&&( ( c=e( {}, t ) ).type='preclick', this._fireDOMEvent( c, c.type, i ) ); var o=this._findEventTargets( t, n ); if( i ) {for( var s=[], r=0; r<i.length; r++ ) {i[r].listens( n, !0 )&&s.push( i[r] )}o=s.concat( o )}if( o.length ) {'contextmenu'===n&&ke( t ); var a, c=o[0], l={ originalEvent: t }; for( 'keypress'!==t.type&&'keydown'!==t.type&&'keyup'!==t.type&&( a=c.getLatLng&&( !c._radius||c._radius<=10 ), l.containerPoint=a?this.latLngToContainerPoint( c.getLatLng() ):this.mouseEventToContainerPoint( t ), l.layerPoint=this.containerPointToLayerPoint( l.containerPoint ), l.latlng=a?c.getLatLng():this.layerPointToLatLng( l.layerPoint ) ), r=0; r<o.length; r++ ) {if( o[r].fire( n, l, !0 ), l.originalEvent._stopped||!1===o[r].options.bubblingMouseEvents&&-1!==v( this._mouseEvents, n ) ) {return}}}}, _draggableMoved: function( t ) {return( t=t.dragging&&t.dragging.enabled()?t:this ).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()}, _clearHandlers: function() {for( var t=0, e=this._handlers.length; t<e; t++ ) {this._handlers[t].disable()}}, whenReady: function( t, e ) {return this._loaded?t.call( e||this, { target: this } ):this.on( 'load', t, e ), this}, _getMapPanePos: function() {return de( this._mapPane )||new E( 0, 0 )}, _moved: function() {var t=this._getMapPanePos(); return t&&!t.equals( [0, 0] )}, _getTopLeftPoint: function( t, e ) {return( t&&void 0!==e?this._getNewPixelOrigin( t, e ):this.getPixelOrigin() ).subtract( this._getMapPanePos() )}, _getNewPixelOrigin: function( t, e ) {var n=this.getSize()._divideBy( 2 ); return this.project( t, e )._subtract( n )._add( this._getMapPanePos() )._round()}, _latLngToNewLayerPoint: function( t, e, n ) {return n=this._getNewPixelOrigin( n, e ), this.project( t, e )._subtract( n )}, _latLngBoundsToNewLayerBounds: function( t, e, n ) {return n=this._getNewPixelOrigin( n, e ), z( [this.project( t.getSouthWest(), e )._subtract( n ), this.project( t.getNorthWest(), e )._subtract( n ), this.project( t.getSouthEast(), e )._subtract( n ), this.project( t.getNorthEast(), e )._subtract( n )] )}, _getCenterLayerPoint: function() {return this.containerPointToLayerPoint( this.getSize()._divideBy( 2 ) )}, _getCenterOffset: function( t ) {return this.latLngToLayerPoint( t ).subtract( this._getCenterLayerPoint() )}, _limitCenter: function( t, e, n ) {if( !n ) {return t}var i=this.project( t, e ), o=this.getSize().divideBy( 2 ); o=new I( i.subtract( o ), i.add( o ) ); return( o=this._getBoundsOffset( o, n, e ) ).round().equals( [0, 0] )?t:this.unproject( i.add( o ), e )}, _limitOffset: function( t, e ) {if( !e ) {return t}var n=new I( ( n=this.getPixelBounds() ).min.add( t ), n.max.add( t ) ); return t.add( this._getBoundsOffset( n, e ) )}, _getBoundsOffset: function( t, e, n ) {return n=( e=z( this.project( e.getNorthEast(), n ), this.project( e.getSouthWest(), n ) ) ).min.subtract( t.min ), e=e.max.subtract( t.max ), new E( this._rebound( n.x, -e.x ), this._rebound( n.y, -e.y ) )}, _rebound: function( t, e ) {return 0<t+e?Math.round( t-e )/2:Math.max( 0, Math.ceil( t ) )-Math.max( 0, Math.floor( e ) )}, _limitZoom: function( t ) {var e=this.getMinZoom(), n=this.getMaxZoom(), i=Vt.any3d?this.options.zoomSnap:1; return i&&( t=Math.round( t/i )*i ), Math.max( e, Math.min( n, t ) )}, _onPanTransitionStep: function() {this.fire( 'move' )}, _onPanTransitionEnd: function() {se( this._mapPane, 'leaflet-pan-anim' ), this.fire( 'moveend' )}, _tryAnimatedPan: function( t, e ) {return t=this._getCenterOffset( t )._trunc(), !( !0!==( e&&e.animate )&&!this.getSize().contains( t )||( this.panBy( t, e ), 0 ) )}, _createAnimProxy: function() {var t=this._proxy=Kt( 'div', 'leaflet-proxy leaflet-zoom-animated' ); this._panes.mapPane.appendChild( t ), this.on( 'zoomanim', ( function( t ) {var e=$t, n=this._proxy.style[e]; ue( this._proxy, this.project( t.center, t.zoom ), this.getZoomScale( t.zoom, 1 ) ), n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()} ), this ), this.on( 'load moveend', this._animMoveEnd, this ), this._on( 'unload', this._destroyAnimProxy, this )}, _destroyAnimProxy: function() {Xt( this._proxy ), this.off( 'load moveend', this._animMoveEnd, this ), delete this._proxy}, _animMoveEnd: function() {var t=this.getCenter(), e=this.getZoom(); ue( this._proxy, this.project( t, e ), this.getZoomScale( e, 1 ) )}, _catchTransitionEnd: function( t ) {this._animatingZoom&&0<=t.propertyName.indexOf( 'transform' )&&this._onZoomTransitionEnd()}, _nothingToAnimate: function() {return!this._container.getElementsByClassName( 'leaflet-zoom-animated' ).length}, _tryAnimatedZoom: function( t, e, n ) {if( this._animatingZoom ) {return!0}if( n=n||{}, !this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs( e-this._zoom )>this.options.zoomAnimationThreshold ) {return!1}var i=this.getZoomScale( e ); i=this._getCenterOffset( t )._divideBy( 1-1/i ); return!( !0!==n.animate&&!this.getSize().contains( i )||( P( ( function() {this._moveStart( !0, !1 )._animateZoom( t, e, !0 )} ), this ), 0 ) )}, _animateZoom: function( t, e, n, i ) {this._mapPane&&( n&&( this._animatingZoom=!0, this._animateToCenter=t, this._animateToZoom=e, oe( this._mapPane, 'leaflet-zoom-anim' ) ), this.fire( 'zoomanim', { center: t, zoom: e, noUpdate: i } ), this._tempFireZoomEvent||( this._tempFireZoomEvent=this._zoom!==this._animateToZoom ), this._move( this._animateToCenter, this._animateToZoom, void 0, !0 ), setTimeout( o( this._onZoomTransitionEnd, this ), 250 ) )}, _onZoomTransitionEnd: function() {this._animatingZoom&&( this._mapPane&&se( this._mapPane, 'leaflet-zoom-anim' ), this._animatingZoom=!1, this._move( this._animateToCenter, this._animateToZoom, void 0, !0 ), this._tempFireZoomEvent&&this.fire( 'zoom' ), delete this._tempFireZoomEvent, this.fire( 'move' ), this._moveEnd( !0 ) )} } ); function Be( t ) {return new Re( t )}var De, Re=k.extend( { options: { position: 'topright' }, initialize: function( t ) {p( this, t )}, getPosition: function() {return this.options.position}, setPosition: function( t ) {var e=this._map; return e&&e.removeControl( this ), this.options.position=t, e&&e.addControl( this ), this}, getContainer: function() {return this._container}, addTo: function( t ) {this.remove(), this._map=t; var e=this._container=this.onAdd( t ), n=this.getPosition(); t=t._controlCorners[n]; return oe( e, 'leaflet-control' ), -1!==n.indexOf( 'bottom' )?t.insertBefore( e, t.firstChild ):t.appendChild( e ), this._map.on( 'unload', this.remove, this ), this}, remove: function() {return this._map&&( Xt( this._container ), this.onRemove&&this.onRemove( this._map ), this._map.off( 'unload', this.remove, this ), this._map=null ), this}, _refocusOnMap: function( t ) {this._map&&t&&0<t.screenX&&0<t.screenY&&this._map.getContainer().focus()} } ), Ze=( ze.include( { addControl: function( t ) {return t.addTo( this ), this}, removeControl: function( t ) {return t.remove(), this}, _initControlPos: function() {var t=this._controlCorners={}, e='leaflet-', n=this._controlContainer=Kt( 'div', e+'control-container', this._container ); function i( i, o ) {t[i+o]=Kt( 'div', e+i+' '+e+o, n )}i( 'top', 'left' ), i( 'top', 'right' ), i( 'bottom', 'left' ), i( 'bottom', 'right' )}, _clearControlPos: function() {for( var t in this._controlCorners ) {Xt( this._controlCorners[t] )}Xt( this._controlContainer ), delete this._controlCorners, delete this._controlContainer} } ), Re.extend( { options: { collapsed: !0, position: 'topright', autoZIndex: !0, hideSingleBase: !1, sortLayers: !1, sortFunction: function( t, e, n, i ) {return n<i?-1:i<n?1:0} }, initialize: function( t, e, n ) {for( var i in p( this, n ), this._layerControlInputs=[], this._layers=[], this._lastZIndex=0, this._handlingClick=!1, t ) {this._addLayer( t[i], i )}for( i in e ) {this._addLayer( e[i], i, !0 )}}, onAdd: function( t ) {this._initLayout(), this._update(), ( this._map=t ).on( 'zoomend', this._checkDisabledLayers, this ); for( var e=0; e<this._layers.length; e++ ) {this._layers[e].layer.on( 'add remove', this._onLayerChange, this )}return this._container}, addTo: function( t ) {return Re.prototype.addTo.call( this, t ), this._expandIfNotCollapsed()}, onRemove: function() {this._map.off( 'zoomend', this._checkDisabledLayers, this ); for( var t=0; t<this._layers.length; t++ ) {this._layers[t].layer.off( 'add remove', this._onLayerChange, this )}}, addBaseLayer: function( t, e ) {return this._addLayer( t, e ), this._map?this._update():this}, addOverlay: function( t, e ) {return this._addLayer( t, e, !0 ), this._map?this._update():this}, removeLayer: function( t ) {return t.off( 'add remove', this._onLayerChange, this ), ( t=this._getLayer( r( t ) ) )&&this._layers.splice( this._layers.indexOf( t ), 1 ), this._map?this._update():this}, expand: function() {oe( this._container, 'leaflet-control-layers-expanded' ), this._section.style.height=null; var t=this._map.getSize().y-( this._container.offsetTop+50 ); return t<this._section.clientHeight?( oe( this._section, 'leaflet-control-layers-scrollbar' ), this._section.style.height=t+'px' ):se( this._section, 'leaflet-control-layers-scrollbar' ), this._checkDisabledLayers(), this}, collapse: function() {return se( this._container, 'leaflet-control-layers-expanded' ), this}, _initLayout: function() {var t='leaflet-control-layers', e=this._container=Kt( 'div', t ), n=this.options.collapsed, i=( e.setAttribute( 'aria-haspopup', !0 ), Ve( e ), Le( e ), this._section=Kt( 'section', t+'-list' ) ), o=( n&&( this._map.on( 'click', this.collapse, this ), ye( e, { mouseenter: function() {ye( i, 'click', ke ), this.expand(), setTimeout( ( function() {we( i, 'click', ke )} ) )}, mouseleave: this.collapse }, this ) ), this._layersLink=Kt( 'a', t+'-toggle', e ) ); o.href='#', o.title='Layers', o.setAttribute( 'role', 'button' ), ye( o, 'click', ke ), ye( o, 'focus', this.expand, this ), n||this.expand(), this._baseLayersList=Kt( 'div', t+'-base', i ), this._separator=Kt( 'div', t+'-separator', i ), this._overlaysList=Kt( 'div', t+'-overlays', i ), e.appendChild( i )}, _getLayer: function( t ) {for( var e=0; e<this._layers.length; e++ ) {if( this._layers[e]&&r( this._layers[e].layer )===t ) {return this._layers[e]}}}, _addLayer: function( t, e, n ) {this._map&&t.on( 'add remove', this._onLayerChange, this ), this._layers.push( { layer: t, name: e, overlay: n } ), this.options.sortLayers&&this._layers.sort( o( ( function( t, e ) {return this.options.sortFunction( t.layer, e.layer, t.name, e.name )} ), this ) ), this.options.autoZIndex&&t.setZIndex&&( this._lastZIndex++, t.setZIndex( this._lastZIndex ) ), this._expandIfNotCollapsed()}, _update: function() {if( !this._container ) {return this}te( this._baseLayersList ), te( this._overlaysList ), this._layerControlInputs=[]; for( var t, e, n, i=0, o=0; o<this._layers.length; o++ ) {n=this._layers[o], this._addItem( n ), e=e||n.overlay, t=t||!n.overlay, i+=n.overlay?0:1}return this.options.hideSingleBase&&( this._baseLayersList.style.display=( t=t&&1<i )?'':'none' ), this._separator.style.display=e&&t?'':'none', this}, _onLayerChange: function( t ) {this._handlingClick||this._update(); var e=this._getLayer( r( t.target ) ); ( t=e.overlay?'add'===t.type?'overlayadd':'overlayremove':'add'===t.type?'baselayerchange':null )&&this._map.fire( t, e )}, _createRadioElement: function( t, e ) {return t='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+( e?' checked="checked"':'' )+'/>', ( e=document.createElement( 'div' ) ).innerHTML=t, e.firstChild}, _addItem: function( t ) {var e, n=document.createElement( 'label' ), i=this._map.hasLayer( t.layer ), o=( ( i=( t.overlay?( ( e=document.createElement( 'input' ) ).type='checkbox', e.className='leaflet-control-layers-selector', e.defaultChecked=i ):e=this._createRadioElement( 'leaflet-base-layers_'+r( this ), i ), this._layerControlInputs.push( e ), e.layerId=r( t.layer ), ye( e, 'click', this._onInputClick, this ), document.createElement( 'span' ) ) ).innerHTML=' '+t.name, document.createElement( 'span' ) ); return n.appendChild( o ), o.appendChild( e ), o.appendChild( i ), ( t.overlay?this._overlaysList:this._baseLayersList ).appendChild( n ), this._checkDisabledLayers(), n}, _onInputClick: function() {var t, e, n=this._layerControlInputs, i=[], o=[]; this._handlingClick=!0; for( var s=n.length-1; 0<=s; s-- ) {t=n[s], e=this._getLayer( t.layerId ).layer, t.checked?i.push( e ):t.checked||o.push( e )}for( s=0; s<o.length; s++ ) {this._map.hasLayer( o[s] )&&this._map.removeLayer( o[s] )}for( s=0; s<i.length; s++ ) {this._map.hasLayer( i[s] )||this._map.addLayer( i[s] )}this._handlingClick=!1, this._refocusOnMap()}, _checkDisabledLayers: function() {for( var t, e, n=this._layerControlInputs, i=this._map.getZoom(), o=n.length-1; 0<=o; o-- ) {t=n[o], e=this._getLayer( t.layerId ).layer, t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom}}, _expandIfNotCollapsed: function() {return this._map&&!this.options.collapsed&&this.expand(), this} } ) ), je=Re.extend( { options: { position: 'topleft', zoomInText: '<span aria-hidden="true">+</span>', zoomInTitle: 'Zoom in', zoomOutText: '<span aria-hidden="true">&#x2212;</span>', zoomOutTitle: 'Zoom out' }, onAdd: function( t ) {var e='leaflet-control-zoom', n=Kt( 'div', e+' leaflet-bar' ), i=this.options; return this._zoomInButton=this._createButton( i.zoomInText, i.zoomInTitle, e+'-in', n, this._zoomIn ), this._zoomOutButton=this._createButton( i.zoomOutText, i.zoomOutTitle, e+'-out', n, this._zoomOut ), this._updateDisabled(), t.on( 'zoomend zoomlevelschange', this._updateDisabled, this ), n}, onRemove: function( t ) {t.off( 'zoomend zoomlevelschange', this._updateDisabled, this )}, disable: function() {return this._disabled=!0, this._updateDisabled(), this}, enable: function() {return this._disabled=!1, this._updateDisabled(), this}, _zoomIn: function( t ) {!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn( this._map.options.zoomDelta*( t.shiftKey?3:1 ) )}, _zoomOut: function( t ) {!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut( this._map.options.zoomDelta*( t.shiftKey?3:1 ) )}, _createButton: function( t, e, n, i, o ) {return( n=Kt( 'a', n, i ) ).innerHTML=t, n.href='#', n.title=e, n.setAttribute( 'role', 'button' ), n.setAttribute( 'aria-label', e ), Ve( n ), ye( n, 'click', Ne ), ye( n, 'click', o, this ), ye( n, 'click', this._refocusOnMap, this ), n}, _updateDisabled: function() {var t=this._map, e='leaflet-disabled'; se( this._zoomInButton, e ), se( this._zoomOutButton, e ), this._zoomInButton.setAttribute( 'aria-disabled', 'false' ), this._zoomOutButton.setAttribute( 'aria-disabled', 'false' ), !this._disabled&&t._zoom!==t.getMinZoom()||( oe( this._zoomOutButton, e ), this._zoomOutButton.setAttribute( 'aria-disabled', 'true' ) ), !this._disabled&&t._zoom!==t.getMaxZoom()||( oe( this._zoomInButton, e ), this._zoomInButton.setAttribute( 'aria-disabled', 'true' ) )} } ), Fe=( ze.mergeOptions( { zoomControl: !0 } ), ze.addInitHook( ( function() {this.options.zoomControl&&( this.zoomControl=new je, this.addControl( this.zoomControl ) )} ) ), Re.extend( { options: { position: 'bottomleft', maxWidth: 100, metric: !0, imperial: !0 }, onAdd: function( t ) {var e='leaflet-control-scale', n=Kt( 'div', e ), i=this.options; return this._addScales( i, e+'-line', n ), t.on( i.updateWhenIdle?'moveend':'move', this._update, this ), t.whenReady( this._update, this ), n}, onRemove: function( t ) {t.off( this.options.updateWhenIdle?'moveend':'move', this._update, this )}, _addScales: function( t, e, n ) {t.metric&&( this._mScale=Kt( 'div', e, n ) ), t.imperial&&( this._iScale=Kt( 'div', e, n ) )}, _update: function() {var t=( e=this._map ).getSize().y/2, e=e.distance( e.containerPointToLatLng( [0, t] ), e.containerPointToLatLng( [this.options.maxWidth, t] ) ); this._updateScales( e )}, _updateScales: function( t ) {this.options.metric&&t&&this._updateMetric( t ), this.options.imperial&&t&&this._updateImperial( t )}, _updateMetric: function( t ) {var e=this._getRoundNum( t ); this._updateScale( this._mScale, e<1e3?e+' m':e/1e3+' km', e/t )}, _updateImperial: function( t ) {var e, n; 5280<( t=3.2808399*t )?( n=this._getRoundNum( e=t/5280 ), this._updateScale( this._iScale, n+' mi', n/e ) ):( n=this._getRoundNum( t ), this._updateScale( this._iScale, n+' ft', n/t ) )}, _updateScale: function( t, e, n ) {t.style.width=Math.round( this.options.maxWidth*n )+'px', t.innerHTML=e}, _getRoundNum: function( t ) {var e=Math.pow( 10, ( Math.floor( t )+'' ).length-1 ); return e*( 10<=( t=t/e )?10:5<=t?5:3<=t?3:2<=t?2:1 )} } ) ), He=Re.extend( { options: { position: 'bottomright', prefix: '<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+( Vt.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':'' )+'Leaflet</a>' }, initialize: function( t ) {p( this, t ), this._attributions={}}, onAdd: function( t ) {for( var e in( t.attributionControl=this )._container=Kt( 'div', 'leaflet-control-attribution' ), Ve( this._container ), t._layers ) {t._layers[e].getAttribution&&this.addAttribution( t._layers[e].getAttribution() )}return this._update(), t.on( 'layeradd', this._addAttribution, this ), this._container}, onRemove: function( t ) {t.off( 'layeradd', this._addAttribution, this )}, _addAttribution: function( t ) {t.layer.getAttribution&&( this.addAttribution( t.layer.getAttribution() ), t.layer.once( 'remove', ( function() {this.removeAttribution( t.layer.getAttribution() )} ), this ) )}, setPrefix: function( t ) {return this.options.prefix=t, this._update(), this}, addAttribution: function( t ) {return t&&( this._attributions[t]||( this._attributions[t]=0 ), this._attributions[t]++, this._update() ), this}, removeAttribution: function( t ) {return t&&this._attributions[t]&&( this._attributions[t]--, this._update() ), this}, _update: function() {if( this._map ) {var t, e=[]; for( t in this._attributions ) {this._attributions[t]&&e.push( t )}var n=[]; this.options.prefix&&n.push( this.options.prefix ), e.length&&n.push( e.join( ', ' ) ), this._container.innerHTML=n.join( ' <span aria-hidden="true">|</span> ' )}} } ), qe=( tt=( ( X=( ze.mergeOptions( { attributionControl: !0 } ), ze.addInitHook( ( function() {this.options.attributionControl&&( new He ).addTo( this )} ) ), Re.Layers=Ze, Re.Zoom=je, Re.Scale=Fe, Re.Attribution=He, Be.layers=function( t, e, n ) {return new Ze( t, e, n )}, Be.zoom=function( t ) {return new je( t )}, Be.scale=function( t ) {return new Fe( t )}, Be.attribution=function( t ) {return new He( t )}, k.extend( { initialize: function( t ) {this._map=t}, enable: function() {return this._enabled||( this._enabled=!0, this.addHooks() ), this}, disable: function() {return this._enabled&&( this._enabled=!1, this.removeHooks() ), this}, enabled: function() {return!!this._enabled} } ) ) ).addTo=function( t, e ) {return t.addHandler( e, this ), this}, { Events: N } ), Vt.touch?'touchstart mousedown':'mousedown' ), Ue=M.extend( { options: { clickTolerance: 3 }, initialize: function( t, e, n, i ) {p( this, i ), this._element=t, this._dragStartTarget=e||t, this._preventOutline=n}, enable: function() {this._enabled||( ye( this._dragStartTarget, qe, this._onDown, this ), this._enabled=!0 )}, disable: function() {this._enabled&&( Ue._dragging===this&&this.finishDrag( !0 ), we( this._dragStartTarget, qe, this._onDown, this ), this._enabled=!1, this._moved=!1 )}, _onDown: function( t ) {var e, n; this._enabled&&( this._moved=!1, ie( this._element, 'leaflet-zoom-anim' )||( t.touches&&1!==t.touches.length?Ue._dragging===this&&this.finishDrag():Ue._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||( ( Ue._dragging=this )._preventOutline&&me( this._element ), pe(), Ht(), this._moving||( this.fire( 'down' ), n=t.touches?t.touches[0]:t, e=_e( this._element ), this._startPoint=new E( n.clientX, n.clientY ), this._startPos=de( this._element ), this._parentScale=ve( e ), n='mousedown'===t.type, ye( document, n?'mousemove':'touchmove', this._onMove, this ), ye( document, n?'mouseup':'touchend touchcancel', this._onUp, this ) ) ) ) )}, _onMove: function( t ) {var e; this._enabled&&( t.touches&&1<t.touches.length?this._moved=!0:!( e=new E( ( e=t.touches&&1===t.touches.length?t.touches[0]:t ).clientX, e.clientY )._subtract( this._startPoint ) ).x&&!e.y||Math.abs( e.x )+Math.abs( e.y )<this.options.clickTolerance||( e.x/=this._parentScale.x, e.y/=this._parentScale.y, ke( t ), this._moved||( this.fire( 'dragstart' ), this._moved=!0, oe( document.body, 'leaflet-dragging' ), this._lastTarget=t.target||t.srcElement, window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&( this._lastTarget=this._lastTarget.correspondingUseElement ), oe( this._lastTarget, 'leaflet-drag-target' ) ), this._newPos=this._startPos.add( e ), this._moving=!0, this._lastEvent=t, this._updatePosition() ) )}, _updatePosition: function() {var t={ originalEvent: this._lastEvent }; this.fire( 'predrag', t ), he( this._element, this._newPos ), this.fire( 'drag', t )}, _onUp: function() {this._enabled&&this.finishDrag()}, finishDrag: function( t ) {se( document.body, 'leaflet-dragging' ), this._lastTarget&&( se( this._lastTarget, 'leaflet-drag-target' ), this._lastTarget=null ), we( document, 'mousemove touchmove', this._onMove, this ), we( document, 'mouseup touchend touchcancel', this._onUp, this ), fe(), qt(), this._moved&&this._moving&&this.fire( 'dragend', { noInertia: t, distance: this._newPos.distanceTo( this._startPos ) } ), this._moving=!1, Ue._dragging=!1} } ); function We( t, e ) {return e&&t.length?function( t, e ) {var n=t.length, i=new( typeof Uint8Array!=void 0+''?Uint8Array:Array )( n ); i[0]=i[n-1]=1, function t( e, n, i, o, s ) {var r, a, c, l=0; for( a=o+1; a<=s-1; a++ ) {l<( c=Je( e[a], e[o], e[s], !0 ) )&&( r=a, l=c )}i<l&&( n[r]=1, t( e, n, i, o, r ), t( e, n, i, r, s ) )}( t, i, e, 0, n-1 ); var o, s=[]; for( o=0; o<n; o++ ) {i[o]&&s.push( t[o] )}return s}( t=function( t, e ) {for( var n=[t[0]], i=1, o=0, s=t.length; i<s; i++ ) {( function( t, e ) {var n=e.x-t.x; return n*n+( e=e.y-t.y )*e} )( t[i], t[o] )>e&&( n.push( t[i] ), o=i )}return o<s-1&&n.push( t[s-1] ), n}( t, e*=e ), e ):t.slice()}function $e( t, e, n ) {return Math.sqrt( Je( t, e, n, !0 ) )}function Ge( t, e, n, i, o ) {var s, r, a, c=i?De:Qe( t, n ), l=Qe( e, n ); for( De=l; ; ) {if( !( c|l ) ) {return[t, e]}if( c&l ) {return!1}a=Qe( r=Ye( t, e, s=c||l, n, o ), n ), s===c?( t=r, c=a ):( e=r, l=a )}}function Ye( t, e, n, i, o ) {var s, r, a=e.x-t.x, c=( e=e.y-t.y, i.min ); i=i.max; return 8&n?( s=t.x+a*( i.y-t.y )/e, r=i.y ):4&n?( s=t.x+a*( c.y-t.y )/e, r=c.y ):2&n?( s=i.x, r=t.y+e*( i.x-t.x )/a ):1&n&&( s=c.x, r=t.y+e*( c.x-t.x )/a ), new E( s, r, o )}function Qe( t, e ) {var n=0; return t.x<e.min.x?n|=1:t.x>e.max.x&&( n|=2 ), t.y<e.min.y?n|=4:t.y>e.max.y&&( n|=8 ), n}function Je( t, e, n, i ) {var o=e.x, s=( e=e.y, n.x-o ), r=n.y-e, a=s*s+r*r; return 0<a&&( 1<( a=( ( t.x-o )*s+( t.y-e )*r )/a )?( o=n.x, e=n.y ):0<a&&( o+=s*a, e+=r*a ) ), s=t.x-o, r=t.y-e, i?s*s+r*r:new E( o, e )}function Ke( t ) {return!_( t[0] )||'object'!=typeof t[0][0]&&void 0!==t[0][0]}function Xe( t ) {return console.warn( 'Deprecated use of _flat, please use L.LineUtil.isFlat instead.' ), Ke( t )}function tn( t, e, n ) {for( var i, o, s, r, a, c, l, u=[1, 4, 2, 8], h=0, d=t.length; h<d; h++ ) {t[h]._code=Qe( t[h], e )}for( s=0; s<4; s++ ) {for( c=u[s], i=[], h=0, o=( d=t.length )-1; h<d; o=h++ ) {r=t[h], a=t[o], r._code&c?a._code&c||( ( l=Ye( a, r, c, e, n ) )._code=Qe( l, e ), i.push( l ) ):( a._code&c&&( ( l=Ye( a, r, c, e, n ) )._code=Qe( l, e ), i.push( l ) ), i.push( r ) )}t=i}return t}et={ __proto__: null, simplify: We, pointToSegmentDistance: $e, closestPointOnSegment: function( t, e, n ) {return Je( t, e, n )}, clipSegment: Ge, _getEdgeIntersection: Ye, _getBitCode: Qe, _sqClosestPointOnSegment: Je, isFlat: Ke, _flat: Xe }; nt={ __proto__: null, clipPolygon: tn }, st={ __proto__: null, LonLat: it={ project: function( t ) {return new E( t.lng, t.lat )}, unproject: function( t ) {return new R( t.y, t.x )}, bounds: new I( [-180, -90], [180, 90] ) }, Mercator: ot={ R: 6378137, R_MINOR: 6356752.314245179, bounds: new I( [-20037508.34279, -15496570.73972], [20037508.34279, 18764656.23138] ), project: function( t ) {var e=Math.PI/180, n=this.R, i=t.lat*e, o=this.R_MINOR/n, s=( o=Math.sqrt( 1-o*o ) )*Math.sin( i ); s=Math.tan( Math.PI/4-i/2 )/Math.pow( ( 1-s )/( 1+s ), o/2 ), i=-n*Math.log( Math.max( s, 1e-10 ) ); return new E( t.lng*e*n, i )}, unproject: function( t ) {for( var e, n=180/Math.PI, i=this.R, o=this.R_MINOR/i, s=Math.sqrt( 1-o*o ), r=Math.exp( -t.y/i ), a=Math.PI/2-2*Math.atan( r ), c=0, l=0.1; c<15&&1e-7<Math.abs( l ); c++ ) {e=s*Math.sin( a ), e=Math.pow( ( 1-e )/( 1+e ), s/2 ), a+=l=Math.PI/2-2*Math.atan( r*e )-a}return new R( a*n, t.x*n/i )} }, SphericalMercator: H }, at=e( {}, F, { code: 'EPSG:3395', projection: ot, transformation: U( rt=0.5/( Math.PI*ot.R ), 0.5, -rt, 0.5 ) } ); var en=e( {}, F, { code: 'EPSG:4326', projection: it, transformation: U( 1/180, 1, -1/180, 0.5 ) } ), nn=( ct=e( {}, j, { projection: it, transformation: U( 1, 0, -1, 0 ), scale: function( t ) {return Math.pow( 2, t )}, zoom: function( t ) {return Math.log( t )/Math.LN2}, distance: function( t, e ) {var n=e.lng-t.lng; e=e.lat-t.lat; return Math.sqrt( n*n+e*e )}, infinite: !0 } ), lt=( j.Earth=F, j.EPSG3395=at, j.EPSG3857=W, j.EPSG900913=$, j.EPSG4326=en, j.Simple=ct, M.extend( { options: { pane: 'overlayPane', attribution: null, bubblingMouseEvents: !0 }, addTo: function( t ) {return t.addLayer( this ), this}, remove: function() {return this.removeFrom( this._map||this._mapToAdd )}, removeFrom: function( t ) {return t&&t.removeLayer( this ), this}, getPane: function( t ) {return this._map.getPane( t?this.options[t]||t:this.options.pane )}, addInteractiveTarget: function( t ) {return this._map._targets[r( t )]=this}, removeInteractiveTarget: function( t ) {return delete this._map._targets[r( t )], this}, getAttribution: function() {return this.options.attribution}, _layerAdd: function( t ) {var e, n=t.target; n.hasLayer( this )&&( this._map=n, this._zoomAnimated=n._zoomAnimated, this.getEvents&&( e=this.getEvents(), n.on( e, this ), this.once( 'remove', ( function() {n.off( e, this )} ), this ) ), this.onAdd( n ), this.fire( 'add' ), n.fire( 'layeradd', { layer: this } ) )} } ) ), ze.include( { addLayer: function( t ) {if( !t._layerAdd ) {throw new Error( 'The provided object is not a Layer.' )}var e=r( t ); return this._layers[e]||( ( this._layers[e]=t )._mapToAdd=this, t.beforeAdd&&t.beforeAdd( this ), this.whenReady( t._layerAdd, t ) ), this}, removeLayer: function( t ) {var e=r( t ); return this._layers[e]&&( this._loaded&&t.onRemove( this ), delete this._layers[e], this._loaded&&( this.fire( 'layerremove', { layer: t } ), t.fire( 'remove' ) ), t._map=t._mapToAdd=null ), this}, hasLayer: function( t ) {return r( t )in this._layers}, eachLayer: function( t, e ) {for( var n in this._layers ) {t.call( e, this._layers[n] )}return this}, _addLayers: function( t ) {for( var e=0, n=( t=t?_( t )?t:[t]:[] ).length; e<n; e++ ) {this.addLayer( t[e] )}}, _addZoomLimit: function( t ) {isNaN( t.options.maxZoom )&&isNaN( t.options.minZoom )||( this._zoomBoundLayers[r( t )]=t, this._updateZoomLevels() )}, _removeZoomLimit: function( t ) {t=r( t ), this._zoomBoundLayers[t]&&( delete this._zoomBoundLayers[t], this._updateZoomLevels() )}, _updateZoomLevels: function() {var t, e=1/0, n=-1/0, i=this._getZoomSpan(); for( t in this._zoomBoundLayers ) {var o=this._zoomBoundLayers[t].options; e=void 0===o.minZoom?e:Math.min( e, o.minZoom ), n=void 0===o.maxZoom?n:Math.max( n, o.maxZoom )}this._layersMaxZoom=n===-1/0?void 0:n, this._layersMinZoom=e===1/0?void 0:e, i!==this._getZoomSpan()&&this.fire( 'zoomlevelschange' ), void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom( this._layersMaxZoom ), void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom( this._layersMinZoom )} } ), lt.extend( { initialize: function( t, e ) {var n, i; if( p( this, e ), this._layers={}, t ) {for( n=0, i=t.length; n<i; n++ ) {this.addLayer( t[n] )}}}, addLayer: function( t ) {var e=this.getLayerId( t ); return this._layers[e]=t, this._map&&this._map.addLayer( t ), this}, removeLayer: function( t ) {return t=t in this._layers?t:this.getLayerId( t ), this._map&&this._layers[t]&&this._map.removeLayer( this._layers[t] ), delete this._layers[t], this}, hasLayer: function( t ) {return( 'number'==typeof t?t:this.getLayerId( t ) )in this._layers}, clearLayers: function() {return this.eachLayer( this.removeLayer, this )}, invoke: function( t ) {var e, n, i=Array.prototype.slice.call( arguments, 1 ); for( e in this._layers ) {( n=this._layers[e] )[t]&&n[t].apply( n, i )}return this}, onAdd: function( t ) {this.eachLayer( t.addLayer, t )}, onRemove: function( t ) {this.eachLayer( t.removeLayer, t )}, eachLayer: function( t, e ) {for( var n in this._layers ) {t.call( e, this._layers[n] )}return this}, getLayer: function( t ) {return this._layers[t]}, getLayers: function() {var t=[]; return this.eachLayer( t.push, t ), t}, setZIndex: function( t ) {return this.invoke( 'setZIndex', t )}, getLayerId: r } ) ), on=nn.extend( { addLayer: function( t ) {return this.hasLayer( t )?this:( t.addEventParent( this ), nn.prototype.addLayer.call( this, t ), this.fire( 'layeradd', { layer: t } ) )}, removeLayer: function( t ) {return this.hasLayer( t )?( ( t=t in this._layers?this._layers[t]:t ).removeEventParent( this ), nn.prototype.removeLayer.call( this, t ), this.fire( 'layerremove', { layer: t } ) ):this}, setStyle: function( t ) {return this.invoke( 'setStyle', t )}, bringToFront: function() {return this.invoke( 'bringToFront' )}, bringToBack: function() {return this.invoke( 'bringToBack' )}, getBounds: function() {var t, e=new B; for( t in this._layers ) {var n=this._layers[t]; e.extend( n.getBounds?n.getBounds():n.getLatLng() )}return e} } ), sn=k.extend( { options: { popupAnchor: [0, 0], tooltipAnchor: [0, 0], crossOrigin: !1 }, initialize: function( t ) {p( this, t )}, createIcon: function( t ) {return this._createIcon( 'icon', t )}, createShadow: function( t ) {return this._createIcon( 'shadow', t )}, _createIcon: function( t, e ) {var n=this._getIconUrl( t ); if( !n ) {if( 'icon'===t ) {throw new Error( 'iconUrl not set in Icon options (see the docs).' )}return null}return n=this._createImg( n, e&&'IMG'===e.tagName?e:null ), this._setIconStyles( n, t ), !this.options.crossOrigin&&''!==this.options.crossOrigin||( n.crossOrigin=!0===this.options.crossOrigin?'':this.options.crossOrigin ), n}, _setIconStyles: function( t, e ) {var n=this.options, i=O( i='number'==typeof( i=n[e+'Size'] )?[i, i]:i ), o=O( 'shadow'===e&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy( 2, !0 ) ); t.className='leaflet-marker-'+e+' '+( n.className||'' ), o&&( t.style.marginLeft=-o.x+'px', t.style.marginTop=-o.y+'px' ), i&&( t.style.width=i.x+'px', t.style.height=i.y+'px' )}, _createImg: function( t, e ) {return( e=e||document.createElement( 'img' ) ).src=t, e}, _getIconUrl: function( t ) {return Vt.retina&&this.options[t+'RetinaUrl']||this.options[t+'Url']} } ), rn=sn.extend( { options: { iconUrl: 'marker-icon.png', iconRetinaUrl: 'marker-icon-2x.png', shadowUrl: 'marker-shadow.png', iconSize: [25, 41], iconAnchor: [12, 41], popupAnchor: [1, -34], tooltipAnchor: [16, -28], shadowSize: [41, 41] }, _getIconUrl: function( t ) {return'string'!=typeof rn.imagePath&&( rn.imagePath=this._detectIconPath() ), ( this.options.imagePath||rn.imagePath )+sn.prototype._getIconUrl.call( this, t )}, _stripUrl: function( t ) {function e( t, e, n ) {return( e=e.exec( t ) )&&e[n]}return( t=e( t, /^url\((['"])?(.+)\1\)$/, 2 ) )&&e( t, /^(.*)marker-icon\.png$/, 1 )}, _detectIconPath: function() {var t=Kt( 'div', 'leaflet-default-icon-path', document.body ), e=Jt( t, 'background-image' )||Jt( t, 'backgroundImage' ); return document.body.removeChild( t ), ( e=this._stripUrl( e ) )?e:( t=document.querySelector( 'link[href$="leaflet.css"]' ) )?t.href.substring( 0, t.href.length-'leaflet.css'.length-1 ):''} } ), an=X.extend( { initialize: function( t ) {this._marker=t}, addHooks: function() {var t=this._marker._icon; this._draggable||( this._draggable=new Ue( t, t, !0 ) ), this._draggable.on( { dragstart: this._onDragStart, predrag: this._onPreDrag, drag: this._onDrag, dragend: this._onDragEnd }, this ).enable(), oe( t, 'leaflet-marker-draggable' )}, removeHooks: function() {this._draggable.off( { dragstart: this._onDragStart, predrag: this._onPreDrag, drag: this._onDrag, dragend: this._onDragEnd }, this ).disable(), this._marker._icon&&se( this._marker._icon, 'leaflet-marker-draggable' )}, moved: function() {return this._draggable&&this._draggable._moved}, _adjustPan: function( t ) {var e=this._marker, n=e._map, i=this._marker.options.autoPanSpeed, o=this._marker.options.autoPanPadding, s=de( e._icon ), r=n.getPixelBounds(), a=n.getPixelOrigin(); ( a=z( r.min._subtract( a ).add( o ), r.max._subtract( a ).subtract( o ) ) ).contains( s )||( o=O( ( Math.max( a.max.x, s.x )-a.max.x )/( r.max.x-a.max.x )-( Math.min( a.min.x, s.x )-a.min.x )/( r.min.x-a.min.x ), ( Math.max( a.max.y, s.y )-a.max.y )/( r.max.y-a.max.y )-( Math.min( a.min.y, s.y )-a.min.y )/( r.min.y-a.min.y ) ).multiplyBy( i ), n.panBy( o, { animate: !1 } ), this._draggable._newPos._add( o ), this._draggable._startPos._add( o ), he( e._icon, this._draggable._newPos ), this._onDrag( t ), this._panRequest=P( this._adjustPan.bind( this, t ) ) )}, _onDragStart: function() {this._oldLatLng=this._marker.getLatLng(), this._marker.closePopup&&this._marker.closePopup(), this._marker.fire( 'movestart' ).fire( 'dragstart' )}, _onPreDrag: function( t ) {this._marker.options.autoPan&&( T( this._panRequest ), this._panRequest=P( this._adjustPan.bind( this, t ) ) )}, _onDrag: function( t ) {var e=this._marker, n=e._shadow, i=de( e._icon ), o=e._map.layerPointToLatLng( i ); n&&he( n, i ), e._latlng=o, t.latlng=o, t.oldLatLng=this._oldLatLng, e.fire( 'move', t ).fire( 'drag', t )}, _onDragEnd: function( t ) {T( this._panRequest ), delete this._oldLatLng, this._marker.fire( 'moveend' ).fire( 'dragend', t )} } ), cn=lt.extend( { options: { icon: new rn, interactive: !0, keyboard: !0, title: '', alt: 'Marker', zIndexOffset: 0, opacity: 1, riseOnHover: !1, riseOffset: 250, pane: 'markerPane', shadowPane: 'shadowPane', bubblingMouseEvents: !1, autoPanOnFocus: !0, draggable: !1, autoPan: !1, autoPanPadding: [50, 50], autoPanSpeed: 10 }, initialize: function( t, e ) {p( this, e ), this._latlng=Z( t )}, onAdd: function( t ) {this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation, this._zoomAnimated&&t.on( 'zoomanim', this._animateZoom, this ), this._initIcon(), this.update()}, onRemove: function( t ) {this.dragging&&this.dragging.enabled()&&( this.options.draggable=!0, this.dragging.removeHooks() ), delete this.dragging, this._zoomAnimated&&t.off( 'zoomanim', this._animateZoom, this ), this._removeIcon(), this._removeShadow()}, getEvents: function() {return{ zoom: this.update, viewreset: this.update }}, getLatLng: function() {return this._latlng}, setLatLng: function( t ) {var e=this._latlng; return this._latlng=Z( t ), this.update(), this.fire( 'move', { oldLatLng: e, latlng: this._latlng } )}, setZIndexOffset: function( t ) {return this.options.zIndexOffset=t, this.update()}, getIcon: function() {return this.options.icon}, setIcon: function( t ) {return this.options.icon=t, this._map&&( this._initIcon(), this.update() ), this._popup&&this.bindPopup( this._popup, this._popup.options ), this}, getElement: function() {return this._icon}, update: function() {var t; return this._icon&&this._map&&( t=this._map.latLngToLayerPoint( this._latlng ).round(), this._setPos( t ) ), this}, _initIcon: function() {var t, e=this.options, n='leaflet-zoom-'+( this._zoomAnimated?'animated':'hide' ), i=!1, o=!1; ( t=( ( t=e.icon.createIcon( this._icon ) )!==this._icon&&( this._icon&&this._removeIcon(), i=!0, e.title&&( t.title=e.title ), 'IMG'===t.tagName&&( t.alt=e.alt||'' ) ), oe( t, n ), e.keyboard&&( t.tabIndex='0', t.setAttribute( 'role', 'button' ) ), this._icon=t, e.riseOnHover&&this.on( { mouseover: this._bringToFront, mouseout: this._resetZIndex } ), this.options.autoPanOnFocus&&ye( t, 'focus', this._panOnFocus, this ), e.icon.createShadow( this._shadow ) ) )!==this._shadow&&( this._removeShadow(), o=!0 ), t&&( oe( t, n ), t.alt='' ), this._shadow=t, e.opacity<1&&this._updateOpacity(), i&&this.getPane().appendChild( this._icon ), this._initInteraction(), t&&o&&this.getPane( e.shadowPane ).appendChild( this._shadow )}, _removeIcon: function() {this.options.riseOnHover&&this.off( { mouseover: this._bringToFront, mouseout: this._resetZIndex } ), this.options.autoPanOnFocus&&we( this._icon, 'focus', this._panOnFocus, this ), Xt( this._icon ), this.removeInteractiveTarget( this._icon ), this._icon=null}, _removeShadow: function() {this._shadow&&Xt( this._shadow ), this._shadow=null}, _setPos: function( t ) {this._icon&&he( this._icon, t ), this._shadow&&he( this._shadow, t ), this._zIndex=t.y+this.options.zIndexOffset, this._resetZIndex()}, _updateZIndex: function( t ) {this._icon&&( this._icon.style.zIndex=this._zIndex+t )}, _animateZoom: function( t ) {t=this._map._latLngToNewLayerPoint( this._latlng, t.zoom, t.center ).round(), this._setPos( t )}, _initInteraction: function() {var t; this.options.interactive&&( oe( this._icon, 'leaflet-interactive' ), this.addInteractiveTarget( this._icon ), an&&( t=this.options.draggable, this.dragging&&( t=this.dragging.enabled(), this.dragging.disable() ), this.dragging=new an( this ), t&&this.dragging.enable() ) )}, setOpacity: function( t ) {return this.options.opacity=t, this._map&&this._updateOpacity(), this}, _updateOpacity: function() {var t=this.options.opacity; this._icon&&ce( this._icon, t ), this._shadow&&ce( this._shadow, t )}, _bringToFront: function() {this._updateZIndex( this.options.riseOffset )}, _resetZIndex: function() {this._updateZIndex( 0 )}, _panOnFocus: function() {var t, e, n=this._map; n&&( t=( e=this.options.icon.options ).iconSize?O( e.iconSize ):O( 0, 0 ), e=e.iconAnchor?O( e.iconAnchor ):O( 0, 0 ), n.panInside( this._latlng, { paddingTopLeft: e, paddingBottomRight: t.subtract( e ) } ) )}, _getPopupAnchor: function() {return this.options.icon.options.popupAnchor}, _getTooltipAnchor: function() {return this.options.icon.options.tooltipAnchor} } ), ln=lt.extend( { options: { stroke: !0, color: '#3388ff', weight: 3, opacity: 1, lineCap: 'round', lineJoin: 'round', dashArray: null, dashOffset: null, fill: !1, fillColor: null, fillOpacity: 0.2, fillRule: 'evenodd', interactive: !0, bubblingMouseEvents: !0 }, beforeAdd: function( t ) {this._renderer=t.getRenderer( this )}, onAdd: function() {this._renderer._initPath( this ), this._reset(), this._renderer._addPath( this )}, onRemove: function() {this._renderer._removePath( this )}, redraw: function() {return this._map&&this._renderer._updatePath( this ), this}, setStyle: function( t ) {return p( this, t ), this._renderer&&( this._renderer._updateStyle( this ), this.options.stroke&&t&&Object.prototype.hasOwnProperty.call( t, 'weight' )&&this._updateBounds() ), this}, bringToFront: function() {return this._renderer&&this._renderer._bringToFront( this ), this}, bringToBack: function() {return this._renderer&&this._renderer._bringToBack( this ), this}, getElement: function() {return this._path}, _reset: function() {this._project(), this._update()}, _clickTolerance: function() {return( this.options.stroke?this.options.weight/2:0 )+( this._renderer.options.tolerance||0 )} } ), un=ln.extend( { options: { fill: !0, radius: 10 }, initialize: function( t, e ) {p( this, e ), this._latlng=Z( t ), this._radius=this.options.radius}, setLatLng: function( t ) {var e=this._latlng; return this._latlng=Z( t ), this.redraw(), this.fire( 'move', { oldLatLng: e, latlng: this._latlng } )}, getLatLng: function() {return this._latlng}, setRadius: function( t ) {return this.options.radius=this._radius=t, this.redraw()}, getRadius: function() {return this._radius}, setStyle: function( t ) {var e=t&&t.radius||this._radius; return ln.prototype.setStyle.call( this, t ), this.setRadius( e ), this}, _project: function() {this._point=this._map.latLngToLayerPoint( this._latlng ), this._updateBounds()}, _updateBounds: function() {var t=this._radius, e=this._radiusY||t, n=this._clickTolerance(); t=[t+n, e+n]; this._pxBounds=new I( this._point.subtract( t ), this._point.add( t ) )}, _update: function() {this._map&&this._updatePath()}, _updatePath: function() {this._renderer._updateCircle( this )}, _empty: function() {return this._radius&&!this._renderer._bounds.intersects( this._pxBounds )}, _containsPoint: function( t ) {return t.distanceTo( this._point )<=this._radius+this._clickTolerance()} } ), hn=un.extend( { initialize: function( t, n, i ) {if( p( this, n='number'==typeof n?e( {}, i, { radius: n } ):n ), this._latlng=Z( t ), isNaN( this.options.radius ) ) {throw new Error( 'Circle radius cannot be NaN' )}this._mRadius=this.options.radius}, setRadius: function( t ) {return this._mRadius=t, this.redraw()}, getRadius: function() {return this._mRadius}, getBounds: function() {var t=[this._radius, this._radiusY||this._radius]; return new B( this._map.layerPointToLatLng( this._point.subtract( t ) ), this._map.layerPointToLatLng( this._point.add( t ) ) )}, setStyle: ln.prototype.setStyle, _project: function() {var t, e, n, i, o, s=this._latlng.lng, r=this._latlng.lat, a=this._map, c=a.options.crs; c.distance===F.distance?( i=Math.PI/180, o=this._mRadius/F.R/i, t=a.project( [r+o, s] ), e=a.project( [r-o, s] ), e=t.add( e ).divideBy( 2 ), n=a.unproject( e ).lat, i=Math.acos( ( Math.cos( o*i )-Math.sin( r*i )*Math.sin( n*i ) )/( Math.cos( r*i )*Math.cos( n*i ) ) )/i, !isNaN( i )&&0!==i||( i=o/Math.cos( Math.PI/180*r ) ), this._point=e.subtract( a.getPixelOrigin() ), this._radius=isNaN( i )?0:e.x-a.project( [n, s-i] ).x, this._radiusY=e.y-t.y ):( o=c.unproject( c.project( this._latlng ).subtract( [this._mRadius, 0] ) ), this._point=a.latLngToLayerPoint( this._latlng ), this._radius=this._point.x-a.latLngToLayerPoint( o ).x ), this._updateBounds()} } ), dn=ln.extend( { options: { smoothFactor: 1, noClip: !1 }, initialize: function( t, e ) {p( this, e ), this._setLatLngs( t )}, getLatLngs: function() {return this._latlngs}, setLatLngs: function( t ) {return this._setLatLngs( t ), this.redraw()}, isEmpty: function() {return!this._latlngs.length}, closestLayerPoint: function( t ) {for( var e=1/0, n=null, i=Je, o=0, s=this._parts.length; o<s; o++ ) {for( var r=this._parts[o], a=1, c=r.length; a<c; a++ ) {var l, u, h=i( t, l=r[a-1], u=r[a], !0 ); h<e&&( e=h, n=i( t, l, u ) )}}return n&&( n.distance=Math.sqrt( e ) ), n}, getCenter: function() {if( !this._map ) {throw new Error( 'Must add layer to map before using getCenter()' )}var t, e, n, i, o, s, r=this._rings[0], a=r.length; if( !a ) {return null}for( e=t=0; t<a-1; t++ ) {e+=r[t].distanceTo( r[t+1] )/2}if( 0===e ) {return this._map.layerPointToLatLng( r[0] )}for( n=t=0; t<a-1; t++ ) {if( i=r[t], o=r[t+1], e<( n+=s=i.distanceTo( o ) ) ) {return this._map.layerPointToLatLng( [o.x-( s=( n-e )/s )*( o.x-i.x ), o.y-s*( o.y-i.y )] )}}}, getBounds: function() {return this._bounds}, addLatLng: function( t, e ) {return e=e||this._defaultShape(), t=Z( t ), e.push( t ), this._bounds.extend( t ), this.redraw()}, _setLatLngs: function( t ) {this._bounds=new B, this._latlngs=this._convertLatLngs( t )}, _defaultShape: function() {return Ke( this._latlngs )?this._latlngs:this._latlngs[0]}, _convertLatLngs: function( t ) {for( var e=[], n=Ke( t ), i=0, o=t.length; i<o; i++ ) {n?( e[i]=Z( t[i] ), this._bounds.extend( e[i] ) ):e[i]=this._convertLatLngs( t[i] )}return e}, _project: function() {var t=new I; this._rings=[], this._projectLatlngs( this._latlngs, this._rings, t ), this._bounds.isValid()&&t.isValid()&&( this._rawPxBounds=t, this._updateBounds() )}, _updateBounds: function() {var t=new E( t=this._clickTolerance(), t ); this._rawPxBounds&&( this._pxBounds=new I( [this._rawPxBounds.min.subtract( t ), this._rawPxBounds.max.add( t )] ) )}, _projectLatlngs: function( t, e, n ) {
    var i, o, s=t[0]instanceof R, r=t.length; if( s ) {for( o=[], i=0; i<r; i++ ) {o[i]=this._map.latLngToLayerPoint( t[i] ), n.extend( o[i] )}e.push( o )}
    else {for( i=0; i<r; i++ ) {this._projectLatlngs( t[i], e, n )}}
  }, _clipPoints: function() {
    var t=this._renderer._bounds; if( this._parts=[], this._pxBounds&&this._pxBounds.intersects( t ) ) {
      if( this.options.noClip ) {this._parts=this._rings}
      else {for( var e, n, i, o, s=this._parts, r=0, a=0, c=this._rings.length; r<c; r++ ) {for( e=0, n=( o=this._rings[r] ).length; e<n-1; e++ ) {( i=Ge( o[e], o[e+1], t, e, !0 ) )&&( s[a]=s[a]||[], s[a].push( i[0] ), i[1]===o[e+1]&&e!==n-2||( s[a].push( i[1] ), a++ ) )}}}
    }
  }, _simplifyPoints: function() {for( var t=this._parts, e=this.options.smoothFactor, n=0, i=t.length; n<i; n++ ) {t[n]=We( t[n], e )}}, _update: function() {this._map&&( this._clipPoints(), this._simplifyPoints(), this._updatePath() )}, _updatePath: function() {this._renderer._updatePoly( this )}, _containsPoint: function( t, e ) {var n, i, o, s, r, a, c=this._clickTolerance(); if( !this._pxBounds||!this._pxBounds.contains( t ) ) {return!1}for( n=0, s=this._parts.length; n<s; n++ ) {for( i=0, o=( r=( a=this._parts[n] ).length )-1; i<r; o=i++ ) {if( ( e||0!==i )&&$e( t, a[o], a[i] )<=c ) {return!0}}}return!1} } ); dn._flat=Xe; var pn=dn.extend( { options: { fill: !0 }, isEmpty: function() {return!this._latlngs.length||!this._latlngs[0].length}, getCenter: function() {if( !this._map ) {throw new Error( 'Must add layer to map before using getCenter()' )}var t, e, n, i, o, s, r, a, c, l=this._rings[0], u=l.length; if( !u ) {return null}for( t=s=r=a=0, e=u-1; t<u; e=t++ ) {n=l[t], i=l[e], o=n.y*i.x-i.y*n.x, r+=( n.x+i.x )*o, a+=( n.y+i.y )*o, s+=3*o}return c=0===s?l[0]:[r/s, a/s], this._map.layerPointToLatLng( c )}, _convertLatLngs: function( t ) {var e=( t=dn.prototype._convertLatLngs.call( this, t ) ).length; return 2<=e&&t[0]instanceof R&&t[0].equals( t[e-1] )&&t.pop(), t}, _setLatLngs: function( t ) {dn.prototype._setLatLngs.call( this, t ), Ke( this._latlngs )&&( this._latlngs=[this._latlngs] )}, _defaultShape: function() {return( Ke( this._latlngs[0] )?this._latlngs:this._latlngs[0] )[0]}, _clipPoints: function() {
      var t=this._renderer._bounds, e=new E( e=this.options.weight, e ); t=new I( t.min.subtract( e ), t.max.add( e ) ); if( this._parts=[], this._pxBounds&&this._pxBounds.intersects( t ) ) {
        if( this.options.noClip ) {this._parts=this._rings}
        else {for( var n, i=0, o=this._rings.length; i<o; i++ ) {( n=tn( this._rings[i], t, !0 ) ).length&&this._parts.push( n )}}
      }
    }, _updatePath: function() {this._renderer._updatePoly( this, !0 )}, _containsPoint: function( t ) {var e, n, i, o, s, r, a, c, l=!1; if( !this._pxBounds||!this._pxBounds.contains( t ) ) {return!1}for( o=0, a=this._parts.length; o<a; o++ ) {for( s=0, r=( c=( e=this._parts[o] ).length )-1; s<c; r=s++ ) {n=e[s], i=e[r], n.y>t.y!=i.y>t.y&&t.x<( i.x-n.x )*( t.y-n.y )/( i.y-n.y )+n.x&&( l=!l )}}return l||dn.prototype._containsPoint.call( this, t, !0 )} } ), fn=on.extend( { initialize: function( t, e ) {p( this, e ), this._layers={}, t&&this.addData( t )}, addData: function( t ) {var e, n, i, o=_( t )?t:t.features; if( o ) {for( e=0, n=o.length; e<n; e++ ) {( ( i=o[e] ).geometries||i.geometry||i.features||i.coordinates )&&this.addData( i )}return this}var s=this.options; if( s.filter&&!s.filter( t ) ) {return this}var r=mn( t, s ); return r?( r.feature=xn( t ), r.defaultOptions=r.options, this.resetStyle( r ), s.onEachFeature&&s.onEachFeature( t, r ), this.addLayer( r ) ):this}, resetStyle: function( t ) {return void 0===t?this.eachLayer( this.resetStyle, this ):( t.options=e( {}, t.defaultOptions ), this._setLayerStyle( t, this.options.style ), this )}, setStyle: function( t ) {return this.eachLayer( ( function( e ) {this._setLayerStyle( e, t )} ), this )}, _setLayerStyle: function( t, e ) {t.setStyle&&( 'function'==typeof e&&( e=e( t.feature ) ), t.setStyle( e ) )} } ); function mn( t, e ) {var n, i, o, s, r='Feature'===t.type?t.geometry:t, a=r?r.coordinates:null, c=[], l=e&&e.pointToLayer, u=e&&e.coordsToLatLng||_n; if( !a&&!r ) {return null}switch( r.type ) {case'Point':return gn( l, t, n=u( a ), e ); case'MultiPoint':for( o=0, s=a.length; o<s; o++ ) {n=u( a[o] ), c.push( gn( l, t, n, e ) )}return new on( c ); case'LineString':case'MultiLineString':return i=vn( a, 'LineString'===r.type?0:1, u ), new dn( i, e ); case'Polygon':case'MultiPolygon':return i=vn( a, 'Polygon'===r.type?1:2, u ), new pn( i, e ); case'GeometryCollection':for( o=0, s=r.geometries.length; o<s; o++ ) {var h=mn( { geometry: r.geometries[o], type: 'Feature', properties: t.properties }, e ); h&&c.push( h )}return new on( c ); default:throw new Error( 'Invalid GeoJSON object.' );}}function gn( t, e, n, i ) {return t?t( e, n ):new cn( n, i&&i.markersInheritOptions&&i )}function _n( t ) {return new R( t[1], t[0], t[2] )}function vn( t, e, n ) {for( var i, o=[], s=0, r=t.length; s<r; s++ ) {i=e?vn( t[s], e-1, n ):( n||_n )( t[s] ), o.push( i )}return o}function yn( t, e ) {return void 0!==( t=Z( t ) ).alt?[u( t.lng, e ), u( t.lat, e ), u( t.alt, e )]:[u( t.lng, e ), u( t.lat, e )]}function bn( t, e, n, i ) {for( var o=[], s=0, r=t.length; s<r; s++ ) {o.push( e?bn( t[s], e-1, n, i ):yn( t[s], i ) )}return!e&&n&&o.push( o[0] ), o}function wn( t, n ) {return t.feature?e( {}, t.feature, { geometry: n } ):xn( n )}function xn( t ) {return'Feature'===t.type||'FeatureCollection'===t.type?t:{ type: 'Feature', properties: {}, geometry: t }}function Cn( t, e ) {return new fn( t, e )}ut={ toGeoJSON: function( t ) {return wn( this, { type: 'Point', coordinates: yn( this.getLatLng(), t ) } )} }, cn.include( ut ), hn.include( ut ), un.include( ut ), dn.include( { toGeoJSON: function( t ) {var e=!Ke( this._latlngs ); return wn( this, { type: ( e?'Multi':'' )+'LineString', coordinates: bn( this._latlngs, e?1:0, !1, t ) } )} } ), pn.include( { toGeoJSON: function( t ) {var e=!Ke( this._latlngs ), n=e&&!Ke( this._latlngs[0] ); t=bn( this._latlngs, n?2:e?1:0, !0, t ); return wn( this, { type: ( n?'Multi':'' )+'Polygon', coordinates: t=e?t:[t] } )} } ), nn.include( { toMultiPoint: function( t ) {var e=[]; return this.eachLayer( ( function( n ) {e.push( n.toGeoJSON( t ).geometry.coordinates )} ) ), wn( this, { type: 'MultiPoint', coordinates: e } )}, toGeoJSON: function( t ) {var e=this.feature&&this.feature.geometry&&this.feature.geometry.type; if( 'MultiPoint'===e ) {return this.toMultiPoint( t )}var n='GeometryCollection'===e, i=[]; return this.eachLayer( ( function( e ) {e.toGeoJSON&&( e=e.toGeoJSON( t ), n?i.push( e.geometry ):'FeatureCollection'===( e=xn( e ) ).type?i.push.apply( i, e.features ):i.push( e ) )} ) ), n?wn( this, { geometries: i, type: 'GeometryCollection' } ):{ type: 'FeatureCollection', features: i }} } ); ht=Cn; var Sn=lt.extend( { options: { opacity: 1, alt: '', interactive: !1, crossOrigin: !1, errorOverlayUrl: '', zIndex: 1, className: '' }, initialize: function( t, e, n ) {this._url=t, this._bounds=D( e ), p( this, n )}, onAdd: function() {this._image||( this._initImage(), this.options.opacity<1&&this._updateOpacity() ), this.options.interactive&&( oe( this._image, 'leaflet-interactive' ), this.addInteractiveTarget( this._image ) ), this.getPane().appendChild( this._image ), this._reset()}, onRemove: function() {Xt( this._image ), this.options.interactive&&this.removeInteractiveTarget( this._image )}, setOpacity: function( t ) {return this.options.opacity=t, this._image&&this._updateOpacity(), this}, setStyle: function( t ) {return t.opacity&&this.setOpacity( t.opacity ), this}, bringToFront: function() {return this._map&&ee( this._image ), this}, bringToBack: function() {return this._map&&ne( this._image ), this}, setUrl: function( t ) {return this._url=t, this._image&&( this._image.src=t ), this}, setBounds: function( t ) {return this._bounds=D( t ), this._map&&this._reset(), this}, getEvents: function() {var t={ zoom: this._reset, viewreset: this._reset }; return this._zoomAnimated&&( t.zoomanim=this._animateZoom ), t}, setZIndex: function( t ) {return this.options.zIndex=t, this._updateZIndex(), this}, getBounds: function() {return this._bounds}, getElement: function() {return this._image}, _initImage: function() {var t='IMG'===this._url.tagName, e=this._image=t?this._url:Kt( 'img' ); oe( e, 'leaflet-image-layer' ), this._zoomAnimated&&oe( e, 'leaflet-zoom-animated' ), this.options.className&&oe( e, this.options.className ), e.onselectstart=l, e.onmousemove=l, e.onload=o( this.fire, this, 'load' ), e.onerror=o( this._overlayOnError, this, 'error' ), !this.options.crossOrigin&&''!==this.options.crossOrigin||( e.crossOrigin=!0===this.options.crossOrigin?'':this.options.crossOrigin ), this.options.zIndex&&this._updateZIndex(), t?this._url=e.src:( e.src=this._url, e.alt=this.options.alt )}, _animateZoom: function( t ) {var e=this._map.getZoomScale( t.zoom ); t=this._map._latLngBoundsToNewLayerBounds( this._bounds, t.zoom, t.center ).min; ue( this._image, t, e )}, _reset: function() {var t=this._image, e=new I( this._map.latLngToLayerPoint( this._bounds.getNorthWest() ), this._map.latLngToLayerPoint( this._bounds.getSouthEast() ) ), n=e.getSize(); he( t, e.min ), t.style.width=n.x+'px', t.style.height=n.y+'px'}, _updateOpacity: function() {ce( this._image, this.options.opacity )}, _updateZIndex: function() {this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&( this._image.style.zIndex=this.options.zIndex )}, _overlayOnError: function() {this.fire( 'error' ); var t=this.options.errorOverlayUrl; t&&this._url!==t&&( this._url=t, this._image.src=t )}, getCenter: function() {return this._bounds.getCenter()} } ), Pn=Sn.extend( { options: { autoplay: !0, loop: !0, keepAspectRatio: !0, muted: !1, playsInline: !0 }, _initImage: function() {
      var t='VIDEO'===this._url.tagName, e=this._image=t?this._url:Kt( 'video' ); if( oe( e, 'leaflet-image-layer' ), this._zoomAnimated&&oe( e, 'leaflet-zoom-animated' ), this.options.className&&oe( e, this.options.className ), e.onselectstart=l, e.onmousemove=l, e.onloadeddata=o( this.fire, this, 'load' ), t ) {for( var n=e.getElementsByTagName( 'source' ), i=[], s=0; s<n.length; s++ ) {i.push( n[s].src )}this._url=0<n.length?i:[e.src]}
      else{_( this._url )||( this._url=[this._url] ), !this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call( e.style, 'objectFit' )&&( e.style.objectFit='fill' ), e.autoplay=!!this.options.autoplay, e.loop=!!this.options.loop, e.muted=!!this.options.muted, e.playsInline=!!this.options.playsInline; for( var r=0; r<this._url.length; r++ ) {var a=Kt( 'source' ); a.src=this._url[r], e.appendChild( a )}}
    } } ), Tn=Sn.extend( { _initImage: function() {var t=this._image=this._url; oe( t, 'leaflet-image-layer' ), this._zoomAnimated&&oe( t, 'leaflet-zoom-animated' ), this.options.className&&oe( t, this.options.className ), t.onselectstart=l, t.onmousemove=l} } ), Ln=lt.extend( { options: { interactive: !1, offset: [0, 0], className: '', pane: void 0 }, initialize: function( t, e ) {p( this, t ), this._source=e}, openOn: function( t ) {return( t=arguments.length?t:this._source._map ).hasLayer( this )||t.addLayer( this ), this}, close: function() {return this._map&&this._map.removeLayer( this ), this}, toggle: function( t ) {return this._map?this.close():( arguments.length?this._source=t:t=this._source, this._prepareOpen(), this.openOn( t._map ) ), this}, onAdd: function( t ) {this._zoomAnimated=t._zoomAnimated, this._container||this._initLayout(), t._fadeAnimated&&ce( this._container, 0 ), clearTimeout( this._removeTimeout ), this.getPane().appendChild( this._container ), this.update(), t._fadeAnimated&&ce( this._container, 1 ), this.bringToFront(), this.options.interactive&&( oe( this._container, 'leaflet-interactive' ), this.addInteractiveTarget( this._container ) )}, onRemove: function( t ) {t._fadeAnimated?( ce( this._container, 0 ), this._removeTimeout=setTimeout( o( Xt, void 0, this._container ), 200 ) ):Xt( this._container ), this.options.interactive&&( se( this._container, 'leaflet-interactive' ), this.removeInteractiveTarget( this._container ) )}, getLatLng: function() {return this._latlng}, setLatLng: function( t ) {return this._latlng=Z( t ), this._map&&( this._updatePosition(), this._adjustPan() ), this}, getContent: function() {return this._content}, setContent: function( t ) {return this._content=t, this.update(), this}, getElement: function() {return this._container}, update: function() {this._map&&( this._container.style.visibility='hidden', this._updateContent(), this._updateLayout(), this._updatePosition(), this._container.style.visibility='', this._adjustPan() )}, getEvents: function() {var t={ zoom: this._updatePosition, viewreset: this._updatePosition }; return this._zoomAnimated&&( t.zoomanim=this._animateZoom ), t}, isOpen: function() {return!!this._map&&this._map.hasLayer( this )}, bringToFront: function() {return this._map&&ee( this._container ), this}, bringToBack: function() {return this._map&&ne( this._container ), this}, _prepareOpen: function( t ) {
      if( !( n=this._source )._map ) {return!1}if( n instanceof on ) {var e, n=null, i=this._source._layers; for( e in i ) {if( i[e]._map ) {n=i[e]; break}}if( !n ) {return!1}this._source=n}if( !t ) {
        if( n.getCenter ) {t=n.getCenter()}
        else if( n.getLatLng ) {t=n.getLatLng()}
        else{if( !n.getBounds ) {throw new Error( 'Unable to get source layer LatLng.' )}t=n.getBounds().getCenter()}
      }return this.setLatLng( t ), this._map&&this.update(), !0;
    }, _updateContent: function() {
      if( this._content ) {
        var t=this._contentNode, e='function'==typeof this._content?this._content( this._source||this ):this._content; if( 'string'==typeof e ) {t.innerHTML=e}
        else{for( ;t.hasChildNodes(); ) {t.removeChild( t.firstChild )}t.appendChild( e )}this.fire( 'contentupdate' );
      }
    }, _updatePosition: function() {var t, e, n; this._map&&( e=this._map.latLngToLayerPoint( this._latlng ), t=O( this.options.offset ), n=this._getAnchor(), this._zoomAnimated?he( this._container, e.add( n ) ):t=t.add( e ).add( n ), e=this._containerBottom=-t.y, n=this._containerLeft=-Math.round( this._containerWidth/2 )+t.x, this._container.style.bottom=e+'px', this._container.style.left=n+'px' )}, _getAnchor: function() {return[0, 0]} } ), Vn=( ze.include( { _initOverlay: function( t, e, n, i ) {var o=e; return o instanceof t||( o=new t( i ).setContent( e ) ), n&&o.setLatLng( n ), o} } ), lt.include( { _initOverlay: function( t, e, n, i ) {var o=n; return o instanceof t?( p( o, i ), o._source=this ):( o=e&&!i?e:new t( i, this ) ).setContent( n ), o} } ), Ln.extend( { options: { pane: 'popupPane', offset: [0, 7], maxWidth: 300, minWidth: 50, maxHeight: null, autoPan: !0, autoPanPaddingTopLeft: null, autoPanPaddingBottomRight: null, autoPanPadding: [5, 5], keepInView: !1, closeButton: !0, autoClose: !0, closeOnEscapeKey: !0, className: '' }, openOn: function( t ) {return!( t=arguments.length?t:this._source._map ).hasLayer( this )&&t._popup&&t._popup.options.autoClose&&t.removeLayer( t._popup ), t._popup=this, Ln.prototype.openOn.call( this, t )}, onAdd: function( t ) {Ln.prototype.onAdd.call( this, t ), t.fire( 'popupopen', { popup: this } ), this._source&&( this._source.fire( 'popupopen', { popup: this }, !0 ), this._source instanceof ln||this._source.on( 'preclick', Te ) )}, onRemove: function( t ) {Ln.prototype.onRemove.call( this, t ), t.fire( 'popupclose', { popup: this } ), this._source&&( this._source.fire( 'popupclose', { popup: this }, !0 ), this._source instanceof ln||this._source.off( 'preclick', Te ) )}, getEvents: function() {var t=Ln.prototype.getEvents.call( this ); return( void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick )&&( t.preclick=this.close ), this.options.keepInView&&( t.moveend=this._adjustPan ), t}, _initLayout: function() {var t='leaflet-popup', e=this._container=Kt( 'div', t+' '+( this.options.className||'' )+' leaflet-zoom-animated' ), n=this._wrapper=Kt( 'div', t+'-content-wrapper', e ); this._contentNode=Kt( 'div', t+'-content', n ), Ve( e ), Le( this._contentNode ), ye( e, 'contextmenu', Te ), this._tipContainer=Kt( 'div', t+'-tip-container', e ), this._tip=Kt( 'div', t+'-tip', this._tipContainer ), this.options.closeButton&&( ( n=this._closeButton=Kt( 'a', t+'-close-button', e ) ).setAttribute( 'role', 'button' ), n.setAttribute( 'aria-label', 'Close popup' ), n.href='#close', n.innerHTML='<span aria-hidden="true">&#215;</span>', ye( n, 'click', this.close, this ) )}, _updateLayout: function() {var t=this._contentNode, e=t.style, n=( e.width='', e.whiteSpace='nowrap', t.offsetWidth ), i=( n=Math.min( n, this.options.maxWidth ), n=( n=Math.max( n, this.options.minWidth ), e.width=n+1+'px', e.whiteSpace='', e.height='', t.offsetHeight ), this.options.maxHeight ), o='leaflet-popup-scrolled'; i&&i<n?( e.height=i+'px', oe( t, o ) ):se( t, o ), this._containerWidth=this._container.offsetWidth}, _animateZoom: function( t ) {t=this._map._latLngToNewLayerPoint( this._latlng, t.zoom, t.center ); var e=this._getAnchor(); he( this._container, t.add( e ) )}, _adjustPan: function( t ) {var e, n, i, o, s, r, a, c; this.options.autoPan&&( this._map._panAnim&&this._map._panAnim.stop(), e=this._map, n=parseInt( Jt( this._container, 'marginBottom' ), 10 )||0, n=this._container.offsetHeight+n, c=this._containerWidth, ( i=new E( this._containerLeft, -n-this._containerBottom ) )._add( de( this._container ) ), i=e.layerPointToContainerPoint( i ), s=O( this.options.autoPanPadding ), o=O( this.options.autoPanPaddingTopLeft||s ), s=O( this.options.autoPanPaddingBottomRight||s ), r=e.getSize(), a=0, i.x+c+s.x>r.x&&( a=i.x+c-r.x+s.x ), i.x-a-o.x<( c=0 )&&( a=i.x-o.x ), i.y+n+s.y>r.y&&( c=i.y+n-r.y+s.y ), i.y-c-o.y<0&&( c=i.y-o.y ), ( a||c )&&e.fire( 'autopanstart' ).panBy( [a, c], { animate: t&&'moveend'===t.type } ) )}, _getAnchor: function() {return O( this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0, 0] )} } ) ), kn=( ze.mergeOptions( { closePopupOnClick: !0 } ), ze.include( { openPopup: function( t, e, n ) {return this._initOverlay( Vn, t, e, n ).openOn( this ), this}, closePopup: function( t ) {return( t=arguments.length?t:this._popup )&&t.close(), this} } ), lt.include( { bindPopup: function( t, e ) {return this._popup=this._initOverlay( Vn, this._popup, t, e ), this._popupHandlersAdded||( this.on( { click: this._openPopup, keypress: this._onKeyPress, remove: this.closePopup, move: this._movePopup } ), this._popupHandlersAdded=!0 ), this}, unbindPopup: function() {return this._popup&&( this.off( { click: this._openPopup, keypress: this._onKeyPress, remove: this.closePopup, move: this._movePopup } ), this._popupHandlersAdded=!1, this._popup=null ), this}, openPopup: function( t ) {return this._popup&&this._popup._prepareOpen( t )&&this._popup.openOn( this._map ), this}, closePopup: function() {return this._popup&&this._popup.close(), this}, togglePopup: function() {return this._popup&&this._popup.toggle( this ), this}, isPopupOpen: function() {return!!this._popup&&this._popup.isOpen()}, setPopupContent: function( t ) {return this._popup&&this._popup.setContent( t ), this}, getPopup: function() {return this._popup}, _openPopup: function( t ) {var e; this._popup&&this._map&&( Ne( t ), e=t.layer||t.target, this._popup._source!==e||e instanceof ln?( this._popup._source=e, this.openPopup( t.latlng ) ):this._map.hasLayer( this._popup )?this.closePopup():this.openPopup( t.latlng ) )}, _movePopup: function( t ) {this._popup.setLatLng( t.latlng )}, _onKeyPress: function( t ) {13===t.originalEvent.keyCode&&this._openPopup( t )} } ), Ln.extend( { options: { pane: 'tooltipPane', offset: [0, 0], direction: 'auto', permanent: !1, sticky: !1, opacity: 0.9 }, onAdd: function( t ) {Ln.prototype.onAdd.call( this, t ), this.setOpacity( this.options.opacity ), t.fire( 'tooltipopen', { tooltip: this } ), this._source&&( this.addEventParent( this._source ), this._source.fire( 'tooltipopen', { tooltip: this }, !0 ) )}, onRemove: function( t ) {Ln.prototype.onRemove.call( this, t ), t.fire( 'tooltipclose', { tooltip: this } ), this._source&&( this.removeEventParent( this._source ), this._source.fire( 'tooltipclose', { tooltip: this }, !0 ) )}, getEvents: function() {var t=Ln.prototype.getEvents.call( this ); return this.options.permanent||( t.preclick=this.close ), t}, _initLayout: function() {var t='leaflet-tooltip '+( this.options.className||'' )+' leaflet-zoom-'+( this._zoomAnimated?'animated':'hide' ); this._contentNode=this._container=Kt( 'div', t )}, _updateLayout: function() {}, _adjustPan: function() {}, _setPosition: function( t ) {var e, n=this._map, i=this._container, o=n.latLngToContainerPoint( n.getCenter() ), s=( n=n.layerPointToContainerPoint( t ), this.options.direction ), r=i.offsetWidth, a=i.offsetHeight, c=O( this.options.offset ), l=this._getAnchor(); n='top'===s?( e=r/2, a ):'bottom'===s?( e=r/2, 0 ):( e='center'===s?r/2:'right'===s?0:'left'===s?r:n.x<o.x?( s='right', 0 ):( s='left', r+2*( c.x+l.x ) ), a/2 ); t=t.subtract( O( e, n, !0 ) ).add( c ).add( l ), se( i, 'leaflet-tooltip-right' ), se( i, 'leaflet-tooltip-left' ), se( i, 'leaflet-tooltip-top' ), se( i, 'leaflet-tooltip-bottom' ), oe( i, 'leaflet-tooltip-'+s ), he( i, t )}, _updatePosition: function() {var t=this._map.latLngToLayerPoint( this._latlng ); this._setPosition( t )}, setOpacity: function( t ) {this.options.opacity=t, this._container&&ce( this._container, t )}, _animateZoom: function( t ) {t=this._map._latLngToNewLayerPoint( this._latlng, t.zoom, t.center ), this._setPosition( t )}, _getAnchor: function() {return O( this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0, 0] )} } ) ), Nn=( ze.include( { openTooltip: function( t, e, n ) {return this._initOverlay( kn, t, e, n ).openOn( this ), this}, closeTooltip: function( t ) {return t.close(), this} } ), lt.include( { bindTooltip: function( t, e ) {return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(), this._tooltip=this._initOverlay( kn, this._tooltip, t, e ), this._initTooltipInteractions(), this._tooltip.options.permanent&&this._map&&this._map.hasLayer( this )&&this.openTooltip(), this}, unbindTooltip: function() {return this._tooltip&&( this._initTooltipInteractions( !0 ), this.closeTooltip(), this._tooltip=null ), this}, _initTooltipInteractions: function( t ) {var e, n; !t&&this._tooltipHandlersAdded||( e=t?'off':'on', n={ remove: this.closeTooltip, move: this._moveTooltip }, this._tooltip.options.permanent?n.add=this._openTooltip:( n.mouseover=this._openTooltip, n.mouseout=this.closeTooltip, n.click=this._openTooltip ), this._tooltip.options.sticky&&( n.mousemove=this._moveTooltip ), this[e]( n ), this._tooltipHandlersAdded=!t )}, openTooltip: function( t ) {return this._tooltip&&this._tooltip._prepareOpen( t )&&this._tooltip.openOn( this._map ), this}, closeTooltip: function() {if( this._tooltip ) {return this._tooltip.close()}}, toggleTooltip: function() {return this._tooltip&&this._tooltip.toggle( this ), this}, isTooltipOpen: function() {return this._tooltip.isOpen()}, setTooltipContent: function( t ) {return this._tooltip&&this._tooltip.setContent( t ), this}, getTooltip: function() {return this._tooltip}, _openTooltip: function( t ) {!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||( this._tooltip._source=t.layer||t.target, this.openTooltip( this._tooltip.options.sticky?t.latlng:void 0 ) )}, _moveTooltip: function( t ) {var e=t.latlng; this._tooltip.options.sticky&&t.originalEvent&&( t=this._map.mouseEventToContainerPoint( t.originalEvent ), t=this._map.containerPointToLayerPoint( t ), e=this._map.layerPointToLatLng( t ) ), this._tooltip.setLatLng( e )} } ), sn.extend( { options: { iconSize: [12, 12], html: !1, bgPos: null, className: 'leaflet-div-icon' }, createIcon: function( t ) {t=t&&'DIV'===t.tagName?t:document.createElement( 'div' ); var e=this.options; return e.html instanceof Element?( te( t ), t.appendChild( e.html ) ):t.innerHTML=!1!==e.html?e.html:'', e.bgPos&&( e=O( e.bgPos ), t.style.backgroundPosition=-e.x+'px '+-e.y+'px' ), this._setIconStyles( t, 'icon' ), t}, createShadow: function() {return null} } ) ); sn.Default=rn; var Mn=lt.extend( { options: { tileSize: 256, opacity: 1, updateWhenIdle: Vt.mobile, updateWhenZooming: !0, updateInterval: 200, zIndex: 1, bounds: null, minZoom: 0, maxZoom: void 0, maxNativeZoom: void 0, minNativeZoom: void 0, noWrap: !1, pane: 'tilePane', className: '', keepBuffer: 2 }, initialize: function( t ) {p( this, t )}, onAdd: function() {this._initContainer(), this._levels={}, this._tiles={}, this._resetView()}, beforeAdd: function( t ) {t._addZoomLimit( this )}, onRemove: function( t ) {this._removeAllTiles(), Xt( this._container ), t._removeZoomLimit( this ), this._container=null, this._tileZoom=void 0}, bringToFront: function() {return this._map&&( ee( this._container ), this._setAutoZIndex( Math.max ) ), this}, bringToBack: function() {return this._map&&( ne( this._container ), this._setAutoZIndex( Math.min ) ), this}, getContainer: function() {return this._container}, setOpacity: function( t ) {return this.options.opacity=t, this._updateOpacity(), this}, setZIndex: function( t ) {return this.options.zIndex=t, this._updateZIndex(), this}, isLoading: function() {return this._loading}, redraw: function() {var t; return this._map&&( this._removeAllTiles(), ( t=this._clampZoom( this._map.getZoom() ) )!==this._tileZoom&&( this._tileZoom=t, this._updateLevels() ), this._update() ), this}, getEvents: function() {var t={ viewprereset: this._invalidateAll, viewreset: this._resetView, zoom: this._resetView, moveend: this._onMoveEnd }; return this.options.updateWhenIdle||( this._onMove||( this._onMove=a( this._onMoveEnd, this.options.updateInterval, this ) ), t.move=this._onMove ), this._zoomAnimated&&( t.zoomanim=this._animateZoom ), t}, createTile: function() {return document.createElement( 'div' )}, getTileSize: function() {var t=this.options.tileSize; return t instanceof E?t:new E( t, t )}, _updateZIndex: function() {this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&( this._container.style.zIndex=this.options.zIndex )}, _setAutoZIndex: function( t ) {for( var e, n=this.getPane().children, i=-t( -1/0, 1/0 ), o=0, s=n.length; o<s; o++ ) {e=n[o].style.zIndex, n[o]!==this._container&&e&&( i=t( i, +e ) )}isFinite( i )&&( this.options.zIndex=i+t( -1, 1 ), this._updateZIndex() )}, _updateOpacity: function() {if( this._map&&!Vt.ielt9 ) {ce( this._container, this.options.opacity ); var t, e=+new Date, n=!1, i=!1; for( t in this._tiles ) {var o, s=this._tiles[t]; s.current&&s.loaded&&( o=Math.min( 1, ( e-s.loaded )/200 ), ce( s.el, o ), o<1?n=!0:( s.active?i=!0:this._onOpaqueTile( s ), s.active=!0 ) )}i&&!this._noPrune&&this._pruneTiles(), n&&( T( this._fadeFrame ), this._fadeFrame=P( this._updateOpacity, this ) )}}, _onOpaqueTile: l, _initContainer: function() {this._container||( this._container=Kt( 'div', 'leaflet-layer '+( this.options.className||'' ) ), this._updateZIndex(), this.options.opacity<1&&this._updateOpacity(), this.getPane().appendChild( this._container ) )}, _updateLevels: function() {var t=this._tileZoom, e=this.options.maxZoom; if( void 0!==t ) {for( var n in this._levels ) {n=Number( n ), this._levels[n].el.children.length||n===t?( this._levels[n].el.style.zIndex=e-Math.abs( t-n ), this._onUpdateLevel( n ) ):( Xt( this._levels[n].el ), this._removeTilesAtZoom( n ), this._onRemoveLevel( n ), delete this._levels[n] )}var i=this._levels[t], o=this._map; return i||( ( i=this._levels[t]={} ).el=Kt( 'div', 'leaflet-tile-container leaflet-zoom-animated', this._container ), i.el.style.zIndex=e, i.origin=o.project( o.unproject( o.getPixelOrigin() ), t ).round(), i.zoom=t, this._setZoomTransform( i, o.getCenter(), o.getZoom() ), i.el.offsetWidth, this._onCreateLevel( i ) ), this._level=i}}, _onUpdateLevel: l, _onRemoveLevel: l, _onCreateLevel: l, _pruneTiles: function() {
      if( this._map ) {
        var t, e, n, i=this._map.getZoom(); if( i>this.options.maxZoom||i<this.options.minZoom ) {this._removeAllTiles()}
        else{for( t in this._tiles ) {( n=this._tiles[t] ).retain=n.current}for( t in this._tiles ) {( n=this._tiles[t] ).current&&!n.active&&( e=n.coords, this._retainParent( e.x, e.y, e.z, e.z-5 )||this._retainChildren( e.x, e.y, e.z, e.z+2 ) )}for( t in this._tiles ) {this._tiles[t].retain||this._removeTile( t )}}
      }
    }, _removeTilesAtZoom: function( t ) {for( var e in this._tiles ) {this._tiles[e].coords.z===t&&this._removeTile( e )}}, _removeAllTiles: function() {for( var t in this._tiles ) {this._removeTile( t )}}, _invalidateAll: function() {for( var t in this._levels ) {Xt( this._levels[t].el ), this._onRemoveLevel( Number( t ) ), delete this._levels[t]}this._removeAllTiles(), this._tileZoom=void 0}, _retainParent: function( t, e, n, i ) {n-=1; var o=( ( o=new E( +( t=Math.floor( t/2 ) ), +( e=Math.floor( e/2 ) ) ) ).z=n, this._tileCoordsToKey( o ) ); return( o=this._tiles[o] )&&o.active?o.retain=!0:( o&&o.loaded&&( o.retain=!0 ), i<n&&this._retainParent( t, e, n, i ) )}, _retainChildren: function( t, e, n, i ) {for( var o=2*t; o<2*t+2; o++ ) {for( var s=2*e; s<2*e+2; s++ ) {var r=( ( r=new E( o, s ) ).z=n+1, this._tileCoordsToKey( r ) ); ( r=this._tiles[r] )&&r.active?r.retain=!0:( r&&r.loaded&&( r.retain=!0 ), n+1<i&&this._retainChildren( o, s, n+1, i ) )}}}, _resetView: function( t ) {t=t&&( t.pinch||t.flyTo ), this._setView( this._map.getCenter(), this._map.getZoom(), t, t )}, _animateZoom: function( t ) {this._setView( t.center, t.zoom, !0, t.noUpdate )}, _clampZoom: function( t ) {var e=this.options; return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t}, _setView: function( t, e, n, i ) {var o=Math.round( e ), s=( o=void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom?void 0:this._clampZoom( o ), this.options.updateWhenZooming&&o!==this._tileZoom ); i&&!s||( this._tileZoom=o, this._abortLoading&&this._abortLoading(), this._updateLevels(), this._resetGrid(), void 0!==o&&this._update( t ), n||this._pruneTiles(), this._noPrune=!!n ), this._setZoomTransforms( t, e )}, _setZoomTransforms: function( t, e ) {for( var n in this._levels ) {this._setZoomTransform( this._levels[n], t, e )}}, _setZoomTransform: function( t, e, n ) {var i=this._map.getZoomScale( n, t.zoom ); e=t.origin.multiplyBy( i ).subtract( this._map._getNewPixelOrigin( e, n ) ).round(); Vt.any3d?ue( t.el, e, i ):he( t.el, e )}, _resetGrid: function() {var t=this._map, e=t.options.crs, n=this._tileSize=this.getTileSize(), i=this._tileZoom, o=this._map.getPixelWorldBounds( this._tileZoom ); o&&( this._globalTileRange=this._pxBoundsToTileRange( o ) ), this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor( t.project( [0, e.wrapLng[0]], i ).x/n.x ), Math.ceil( t.project( [0, e.wrapLng[1]], i ).x/n.y )], this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor( t.project( [e.wrapLat[0], 0], i ).y/n.x ), Math.ceil( t.project( [e.wrapLat[1], 0], i ).y/n.y )]}, _onMoveEnd: function() {this._map&&!this._map._animatingZoom&&this._update()}, _getTiledPixelBounds: function( t ) {var e=( n=this._map )._animatingZoom?Math.max( n._animateToZoom, n.getZoom() ):n.getZoom(), n=( e=n.getZoomScale( e, this._tileZoom ), t=n.project( t, this._tileZoom ).floor(), n.getSize().divideBy( 2*e ) ); return new I( t.subtract( n ), t.add( n ) )}, _update: function( t ) {
      if( i=this._map ) {
        var e=this._clampZoom( i.getZoom() ); if( void 0===t&&( t=i.getCenter() ), void 0!==this._tileZoom ) {
          var n, i=this._getTiledPixelBounds( t ), o=this._pxBoundsToTileRange( i ), s=o.getCenter(), r=[], a=( i=this.options.keepBuffer, new I( o.getBottomLeft().subtract( [i, -i] ), o.getTopRight().add( [i, -i] ) ) ); if( !( isFinite( o.min.x )&&isFinite( o.min.y )&&isFinite( o.max.x )&&isFinite( o.max.y ) ) ) {throw new Error( 'Attempted to load an infinite number of tiles' )}for( n in this._tiles ) {var c=this._tiles[n].coords; c.z===this._tileZoom&&a.contains( new E( c.x, c.y ) )||( this._tiles[n].current=!1 )}if( 1<Math.abs( e-this._tileZoom ) ) {this._setView( t, e )}
          else{for( var l=o.min.y; l<=o.max.y; l++ ) {for( var u=o.min.x; u<=o.max.x; u++ ) {var h, d=new E( u, l ); d.z=this._tileZoom, this._isValidTile( d )&&( ( h=this._tiles[this._tileCoordsToKey( d )] )?h.current=!0:r.push( d ) )}}if( r.sort( ( function( t, e ) {return t.distanceTo( s )-e.distanceTo( s )} ) ), 0!==r.length ) {this._loading||( this._loading=!0, this.fire( 'loading' ) ); var p=document.createDocumentFragment(); for( u=0; u<r.length; u++ ) {this._addTile( r[u], p )}this._level.el.appendChild( p )}}
        }
      }
    }, _isValidTile: function( t ) {var e=this._map.options.crs; if( !e.infinite ) {var n=this._globalTileRange; if( !e.wrapLng&&( t.x<n.min.x||t.x>n.max.x )||!e.wrapLat&&( t.y<n.min.y||t.y>n.max.y ) ) {return!1}}return!this.options.bounds||( e=this._tileCoordsToBounds( t ), D( this.options.bounds ).overlaps( e ) )}, _keyToBounds: function( t ) {return this._tileCoordsToBounds( this._keyToTileCoords( t ) )}, _tileCoordsToNwSe: function( t ) {var e=this._map, n=this.getTileSize(), i=t.scaleBy( n ); n=i.add( n ); return[e.unproject( i, t.z ), e.unproject( n, t.z )]}, _tileCoordsToBounds: function( t ) {return t=new B( ( t=this._tileCoordsToNwSe( t ) )[0], t[1] ), this.options.noWrap?t:this._map.wrapLatLngBounds( t )}, _tileCoordsToKey: function( t ) {return t.x+':'+t.y+':'+t.z}, _keyToTileCoords: function( t ) {var e=new E( +( t=t.split( ':' ) )[0], +t[1] ); return e.z=+t[2], e}, _removeTile: function( t ) {var e=this._tiles[t]; e&&( Xt( e.el ), delete this._tiles[t], this.fire( 'tileunload', { tile: e.el, coords: this._keyToTileCoords( t ) } ) )}, _initTile: function( t ) {oe( t, 'leaflet-tile' ); var e=this.getTileSize(); t.style.width=e.x+'px', t.style.height=e.y+'px', t.onselectstart=l, t.onmousemove=l, Vt.ielt9&&this.options.opacity<1&&ce( t, this.options.opacity )}, _addTile: function( t, e ) {var n=this._getTilePos( t ), i=this._tileCoordsToKey( t ), s=this.createTile( this._wrapCoords( t ), o( this._tileReady, this, t ) ); this._initTile( s ), this.createTile.length<2&&P( o( this._tileReady, this, t, null, s ) ), he( s, n ), this._tiles[i]={ el: s, coords: t, current: !0 }, e.appendChild( s ), this.fire( 'tileloadstart', { tile: s, coords: t } )}, _tileReady: function( t, e, n ) {e&&this.fire( 'tileerror', { error: e, tile: n, coords: t } ); var i=this._tileCoordsToKey( t ); ( n=this._tiles[i] )&&( n.loaded=+new Date, this._map._fadeAnimated?( ce( n.el, 0 ), T( this._fadeFrame ), this._fadeFrame=P( this._updateOpacity, this ) ):( n.active=!0, this._pruneTiles() ), e||( oe( n.el, 'leaflet-tile-loaded' ), this.fire( 'tileload', { tile: n.el, coords: t } ) ), this._noTilesToLoad()&&( this._loading=!1, this.fire( 'load' ), Vt.ielt9||!this._map._fadeAnimated?P( this._pruneTiles, this ):setTimeout( o( this._pruneTiles, this ), 250 ) ) )}, _getTilePos: function( t ) {return t.scaleBy( this.getTileSize() ).subtract( this._level.origin )}, _wrapCoords: function( t ) {var e=new E( this._wrapX?c( t.x, this._wrapX ):t.x, this._wrapY?c( t.y, this._wrapY ):t.y ); return e.z=t.z, e}, _pxBoundsToTileRange: function( t ) {var e=this.getTileSize(); return new I( t.min.unscaleBy( e ).floor(), t.max.unscaleBy( e ).ceil().subtract( [1, 1] ) )}, _noTilesToLoad: function() {for( var t in this._tiles ) {if( !this._tiles[t].loaded ) {return!1}}return!0} } ), En=Mn.extend( { options: { minZoom: 0, maxZoom: 18, subdomains: 'abc', errorTileUrl: '', zoomOffset: 0, tms: !1, zoomReverse: !1, detectRetina: !1, crossOrigin: !1, referrerPolicy: !1 }, initialize: function( t, e ) {this._url=t, ( e=p( this, e ) ).detectRetina&&Vt.retina&&0<e.maxZoom&&( e.tileSize=Math.floor( e.tileSize/2 ), e.zoomReverse?( e.zoomOffset--, e.minZoom++ ):( e.zoomOffset++, e.maxZoom-- ), e.minZoom=Math.max( 0, e.minZoom ) ), 'string'==typeof e.subdomains&&( e.subdomains=e.subdomains.split( '' ) ), this.on( 'tileunload', this._onTileRemove )}, setUrl: function( t, e ) {return this._url===t&&void 0===e&&( e=!0 ), this._url=t, e||this.redraw(), this}, createTile: function( t, e ) {var n=document.createElement( 'img' ); return ye( n, 'load', o( this._tileOnLoad, this, e, n ) ), ye( n, 'error', o( this._tileOnError, this, e, n ) ), !this.options.crossOrigin&&''!==this.options.crossOrigin||( n.crossOrigin=!0===this.options.crossOrigin?'':this.options.crossOrigin ), 'string'==typeof this.options.referrerPolicy&&( n.referrerPolicy=this.options.referrerPolicy ), n.alt='', n.setAttribute( 'role', 'presentation' ), n.src=this.getTileUrl( t ), n}, getTileUrl: function( t ) {var n={ r: Vt.retina?'@2x':'', s: this._getSubdomain( t ), x: t.x, y: t.y, z: this._getZoomForUrl() }; return this._map&&!this._map.options.crs.infinite&&( t=this._globalTileRange.max.y-t.y, this.options.tms&&( n.y=t ), n['-y']=t ), g( this._url, e( n, this.options ) )}, _tileOnLoad: function( t, e ) {Vt.ielt9?setTimeout( o( t, this, null, e ), 0 ):t( null, e )}, _tileOnError: function( t, e, n ) {var i=this.options.errorTileUrl; i&&e.getAttribute( 'src' )!==i&&( e.src=i ), t( n, e )}, _onTileRemove: function( t ) {t.tile.onload=null}, _getZoomForUrl: function() {var t=this._tileZoom, e=this.options.maxZoom; return( t=this.options.zoomReverse?e-t:t )+this.options.zoomOffset}, _getSubdomain: function( t ) {return t=Math.abs( t.x+t.y )%this.options.subdomains.length, this.options.subdomains[t]}, _abortLoading: function() {var t, e, n; for( t in this._tiles ) {this._tiles[t].coords.z!==this._tileZoom&&( ( n=this._tiles[t].el ).onload=l, n.onerror=l, n.complete||( n.src=y, e=this._tiles[t].coords, Xt( n ), delete this._tiles[t], this.fire( 'tileabort', { tile: n, coords: e } ) ) )}}, _removeTile: function( t ) {var e=this._tiles[t]; if( e ) {return e.el.setAttribute( 'src', y ), Mn.prototype._removeTile.call( this, t )}}, _tileReady: function( t, e, n ) {if( this._map&&( !n||n.getAttribute( 'src' )!==y ) ) {return Mn.prototype._tileReady.call( this, t, e, n )}} } ); function An( t, e ) {return new En( t, e )}var On=En.extend( { defaultWmsParams: { service: 'WMS', request: 'GetMap', layers: '', styles: '', format: 'image/jpeg', transparent: !1, version: '1.1.1' }, options: { crs: null, uppercase: !1 }, initialize: function( t, n ) {this._url=t; var i, o=e( {}, this.defaultWmsParams ); for( i in n ) {i in this.options||( o[i]=n[i] )}t=( n=p( this, n ) ).detectRetina&&Vt.retina?2:1; var s=this.getTileSize(); o.width=s.x*t, o.height=s.y*t, this.wmsParams=o}, onAdd: function( t ) {this._crs=this.options.crs||t.options.crs, this._wmsVersion=parseFloat( this.wmsParams.version ); var e=1.3<=this._wmsVersion?'crs':'srs'; this.wmsParams[e]=this._crs.code, En.prototype.onAdd.call( this, t )}, getTileUrl: function( t ) {var e=this._tileCoordsToNwSe( t ), n=( e=( n=z( ( n=this._crs ).project( e[0] ), n.project( e[1] ) ) ).min, n.max ); e=( 1.3<=this._wmsVersion&&this._crs===en?[e.y, e.x, n.y, n.x]:[e.x, e.y, n.x, n.y] ).join( ',' ); return( n=En.prototype.getTileUrl.call( this, t ) )+f( this.wmsParams, n, this.options.uppercase )+( this.options.uppercase?'&BBOX=':'&bbox=' )+e}, setParams: function( t, n ) {return e( this.wmsParams, t ), n||this.redraw(), this} } ); En.WMS=On, An.wms=function( t, e ) {return new On( t, e )}; var In=lt.extend( { options: { padding: 0.1 }, initialize: function( t ) {p( this, t ), r( this ), this._layers=this._layers||{}}, onAdd: function() {this._container||( this._initContainer(), this._zoomAnimated&&oe( this._container, 'leaflet-zoom-animated' ) ), this.getPane().appendChild( this._container ), this._update(), this.on( 'update', this._updatePaths, this )}, onRemove: function() {this.off( 'update', this._updatePaths, this ), this._destroyContainer()}, getEvents: function() {var t={ viewreset: this._reset, zoom: this._onZoom, moveend: this._update, zoomend: this._onZoomEnd }; return this._zoomAnimated&&( t.zoomanim=this._onAnimZoom ), t}, _onAnimZoom: function( t ) {this._updateTransform( t.center, t.zoom )}, _onZoom: function() {this._updateTransform( this._map.getCenter(), this._map.getZoom() )}, _updateTransform: function( t, e ) {var n=this._map.getZoomScale( e, this._zoom ), i=this._map.getSize().multiplyBy( 0.5+this.options.padding ), o=this._map.project( this._center, e ); i=i.multiplyBy( -n ).add( o ).subtract( this._map._getNewPixelOrigin( t, e ) ); Vt.any3d?ue( this._container, i, n ):he( this._container, i )}, _reset: function() {for( var t in this._update(), this._updateTransform( this._center, this._zoom ), this._layers ) {this._layers[t]._reset()}}, _onZoomEnd: function() {for( var t in this._layers ) {this._layers[t]._project()}}, _updatePaths: function() {for( var t in this._layers ) {this._layers[t]._update()}}, _update: function() {var t=this.options.padding, e=this._map.getSize(), n=this._map.containerPointToLayerPoint( e.multiplyBy( -t ) ).round(); this._bounds=new I( n, n.add( e.multiplyBy( 1+2*t ) ).round() ), this._center=this._map.getCenter(), this._zoom=this._map.getZoom()} } ), zn=In.extend( { options: { tolerance: 0 }, getEvents: function() {var t=In.prototype.getEvents.call( this ); return t.viewprereset=this._onViewPreReset, t}, _onViewPreReset: function() {this._postponeUpdatePaths=!0}, onAdd: function() {In.prototype.onAdd.call( this ), this._draw()}, _initContainer: function() {var t=this._container=document.createElement( 'canvas' ); ye( t, 'mousemove', this._onMouseMove, this ), ye( t, 'click dblclick mousedown mouseup contextmenu', this._onClick, this ), ye( t, 'mouseout', this._handleMouseOut, this ), t._leaflet_disable_events=!0, this._ctx=t.getContext( '2d' )}, _destroyContainer: function() {T( this._redrawRequest ), delete this._ctx, Xt( this._container ), we( this._container ), delete this._container}, _updatePaths: function() {if( !this._postponeUpdatePaths ) {for( var t in this._redrawBounds=null, this._layers ) {this._layers[t]._update()}this._redraw()}}, _update: function() {var t, e, n, i; this._map._animatingZoom&&this._bounds||( In.prototype._update.call( this ), t=this._bounds, e=this._container, n=t.getSize(), i=Vt.retina?2:1, he( e, t.min ), e.width=i*n.x, e.height=i*n.y, e.style.width=n.x+'px', e.style.height=n.y+'px', Vt.retina&&this._ctx.scale( 2, 2 ), this._ctx.translate( -t.min.x, -t.min.y ), this.fire( 'update' ) )}, _reset: function() {In.prototype._reset.call( this ), this._postponeUpdatePaths&&( this._postponeUpdatePaths=!1, this._updatePaths() )}, _initPath: function( t ) {this._updateDashArray( t ), t=( this._layers[r( t )]=t )._order={ layer: t, prev: this._drawLast, next: null }, this._drawLast&&( this._drawLast.next=t ), this._drawLast=t, this._drawFirst=this._drawFirst||this._drawLast}, _addPath: function( t ) {this._requestRedraw( t )}, _removePath: function( t ) {var e=( n=t._order ).next, n=n.prev; e?e.prev=n:this._drawLast=n, n?n.next=e:this._drawFirst=e, delete t._order, delete this._layers[r( t )], this._requestRedraw( t )}, _updatePath: function( t ) {this._extendRedrawBounds( t ), t._project(), t._update(), this._requestRedraw( t )}, _updateStyle: function( t ) {this._updateDashArray( t ), this._requestRedraw( t )}, _updateDashArray: function( t ) {
    if( 'string'==typeof t.options.dashArray ) {for( var e, n=t.options.dashArray.split( /[, ]+/ ), i=[], o=0; o<n.length; o++ ) {if( e=Number( n[o] ), isNaN( e ) ) {return}i.push( e )}t.options._dashArray=i}
    else {t.options._dashArray=t.options.dashArray}
  }, _requestRedraw: function( t ) {this._map&&( this._extendRedrawBounds( t ), this._redrawRequest=this._redrawRequest||P( this._redraw, this ) )}, _extendRedrawBounds: function( t ) {var e; t._pxBounds&&( e=( t.options.weight||0 )+1, this._redrawBounds=this._redrawBounds||new I, this._redrawBounds.extend( t._pxBounds.min.subtract( [e, e] ) ), this._redrawBounds.extend( t._pxBounds.max.add( [e, e] ) ) )}, _redraw: function() {this._redrawRequest=null, this._redrawBounds&&( this._redrawBounds.min._floor(), this._redrawBounds.max._ceil() ), this._clear(), this._draw(), this._redrawBounds=null}, _clear: function() {var t, e=this._redrawBounds; e?( t=e.getSize(), this._ctx.clearRect( e.min.x, e.min.y, t.x, t.y ) ):( this._ctx.save(), this._ctx.setTransform( 1, 0, 0, 1, 0, 0 ), this._ctx.clearRect( 0, 0, this._container.width, this._container.height ), this._ctx.restore() )}, _draw: function() {var t, e, n=this._redrawBounds; this._ctx.save(), n&&( e=n.getSize(), this._ctx.beginPath(), this._ctx.rect( n.min.x, n.min.y, e.x, e.y ), this._ctx.clip() ), this._drawing=!0; for( var i=this._drawFirst; i; i=i.next ) {t=i.layer, ( !n||t._pxBounds&&t._pxBounds.intersects( n ) )&&t._updatePath()}this._drawing=!1, this._ctx.restore()}, _updatePoly: function( t, e ) {if( this._drawing ) {var n, i, o, s, r=t._parts, a=r.length, c=this._ctx; if( a ) {for( c.beginPath(), n=0; n<a; n++ ) {for( i=0, o=r[n].length; i<o; i++ ) {s=r[n][i], c[i?'lineTo':'moveTo']( s.x, s.y )}e&&c.closePath()}this._fillStroke( c, t )}}}, _updateCircle: function( t ) {var e, n, i, o; this._drawing&&!t._empty()&&( e=t._point, n=this._ctx, i=Math.max( Math.round( t._radius ), 1 ), 1!=( o=( Math.max( Math.round( t._radiusY ), 1 )||i )/i )&&( n.save(), n.scale( 1, o ) ), n.beginPath(), n.arc( e.x, e.y/o, i, 0, 2*Math.PI, !1 ), 1!=o&&n.restore(), this._fillStroke( n, t ) )}, _fillStroke: function( t, e ) {var n=e.options; n.fill&&( t.globalAlpha=n.fillOpacity, t.fillStyle=n.fillColor||n.color, t.fill( n.fillRule||'evenodd' ) ), n.stroke&&0!==n.weight&&( t.setLineDash&&t.setLineDash( e.options&&e.options._dashArray||[] ), t.globalAlpha=n.opacity, t.lineWidth=n.weight, t.strokeStyle=n.color, t.lineCap=n.lineCap, t.lineJoin=n.lineJoin, t.stroke() )}, _onClick: function( t ) {for( var e, n, i=this._map.mouseEventToLayerPoint( t ), o=this._drawFirst; o; o=o.next ) {( e=o.layer ).options.interactive&&e._containsPoint( i )&&( ( 'click'===t.type||'preclick'===t.type )&&this._map._draggableMoved( e )||( n=e ) )}this._fireEvent( !!n&&[n], t )}, _onMouseMove: function( t ) {var e; !this._map||this._map.dragging.moving()||this._map._animatingZoom||( e=this._map.mouseEventToLayerPoint( t ), this._handleMouseHover( t, e ) )}, _handleMouseOut: function( t ) {var e=this._hoveredLayer; e&&( se( this._container, 'leaflet-interactive' ), this._fireEvent( [e], t, 'mouseout' ), this._hoveredLayer=null, this._mouseHoverThrottled=!1 )}, _handleMouseHover: function( t, e ) {if( !this._mouseHoverThrottled ) {for( var n, i, s=this._drawFirst; s; s=s.next ) {( n=s.layer ).options.interactive&&n._containsPoint( e )&&( i=n )}i!==this._hoveredLayer&&( this._handleMouseOut( t ), i&&( oe( this._container, 'leaflet-interactive' ), this._fireEvent( [i], t, 'mouseover' ), this._hoveredLayer=i ) ), this._fireEvent( !!this._hoveredLayer&&[this._hoveredLayer], t ), this._mouseHoverThrottled=!0, setTimeout( o( ( function() {this._mouseHoverThrottled=!1} ), this ), 32 )}}, _fireEvent: function( t, e, n ) {this._map._fireDOMEvent( e, n||e.type, t )}, _bringToFront: function( t ) {var e, n, i=t._order; i&&( e=i.next, n=i.prev, e&&( ( e.prev=n )?n.next=e:e&&( this._drawFirst=e ), i.prev=this._drawLast, ( this._drawLast.next=i ).next=null, this._drawLast=i, this._requestRedraw( t ) ) )}, _bringToBack: function( t ) {var e, n, i=t._order; i&&( e=i.next, ( n=i.prev )&&( ( n.next=e )?e.prev=n:n&&( this._drawLast=n ), i.prev=null, i.next=this._drawFirst, this._drawFirst.prev=i, this._drawFirst=i, this._requestRedraw( t ) ) )} } ); function Bn( t ) {return Vt.canvas?new zn( t ):null}var Dn=function() {
      try{return document.namespaces.add( 'lvml', 'urn:schemas-microsoft-com:vml' ), function( t ) {return document.createElement( '<lvml:'+t+' class="lvml">' )}}
      catch( t ) {}return function( t ) {return document.createElement( '<'+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">' )};
    }(), Rn=( dt={ _initContainer: function() {this._container=Kt( 'div', 'leaflet-vml-container' )}, _update: function() {this._map._animatingZoom||( In.prototype._update.call( this ), this.fire( 'update' ) )}, _initPath: function( t ) {var e=t._container=Dn( 'shape' ); oe( e, 'leaflet-vml-shape '+( this.options.className||'' ) ), e.coordsize='1 1', t._path=Dn( 'path' ), e.appendChild( t._path ), this._updateStyle( t ), this._layers[r( t )]=t}, _addPath: function( t ) {var e=t._container; this._container.appendChild( e ), t.options.interactive&&t.addInteractiveTarget( e )}, _removePath: function( t ) {var e=t._container; Xt( e ), t.removeInteractiveTarget( e ), delete this._layers[r( t )]}, _updateStyle: function( t ) {var e=t._stroke, n=t._fill, i=t.options, o=t._container; o.stroked=!!i.stroke, o.filled=!!i.fill, i.stroke?( e=e||( t._stroke=Dn( 'stroke' ) ), o.appendChild( e ), e.weight=i.weight+'px', e.color=i.color, e.opacity=i.opacity, i.dashArray?e.dashStyle=_( i.dashArray )?i.dashArray.join( ' ' ):i.dashArray.replace( /( *, *)/g, ' ' ):e.dashStyle='', e.endcap=i.lineCap.replace( 'butt', 'flat' ), e.joinstyle=i.lineJoin ):e&&( o.removeChild( e ), t._stroke=null ), i.fill?( n=n||( t._fill=Dn( 'fill' ) ), o.appendChild( n ), n.color=i.fillColor||i.color, n.opacity=i.fillOpacity ):n&&( o.removeChild( n ), t._fill=null )}, _updateCircle: function( t ) {var e=t._point.round(), n=Math.round( t._radius ), i=Math.round( t._radiusY||n ); this._setPath( t, t._empty()?'M0 0':'AL '+e.x+','+e.y+' '+n+','+i+' 0,23592600' )}, _setPath: function( t, e ) {t._path.v=e}, _bringToFront: function( t ) {ee( t._container )}, _bringToBack: function( t ) {ne( t._container )} }, Vt.vml?Dn:G ), Zn=In.extend( { _initContainer: function() {this._container=Rn( 'svg' ), this._container.setAttribute( 'pointer-events', 'none' ), this._rootGroup=Rn( 'g' ), this._container.appendChild( this._rootGroup )}, _destroyContainer: function() {Xt( this._container ), we( this._container ), delete this._container, delete this._rootGroup, delete this._svgSize}, _update: function() {var t, e, n; this._map._animatingZoom&&this._bounds||( In.prototype._update.call( this ), e=( t=this._bounds ).getSize(), n=this._container, this._svgSize&&this._svgSize.equals( e )||( this._svgSize=e, n.setAttribute( 'width', e.x ), n.setAttribute( 'height', e.y ) ), he( n, t.min ), n.setAttribute( 'viewBox', [t.min.x, t.min.y, e.x, e.y].join( ' ' ) ), this.fire( 'update' ) )}, _initPath: function( t ) {var e=t._path=Rn( 'path' ); t.options.className&&oe( e, t.options.className ), t.options.interactive&&oe( e, 'leaflet-interactive' ), this._updateStyle( t ), this._layers[r( t )]=t}, _addPath: function( t ) {this._rootGroup||this._initContainer(), this._rootGroup.appendChild( t._path ), t.addInteractiveTarget( t._path )}, _removePath: function( t ) {Xt( t._path ), t.removeInteractiveTarget( t._path ), delete this._layers[r( t )]}, _updatePath: function( t ) {t._project(), t._update()}, _updateStyle: function( t ) {var e=t._path; t=t.options; e&&( t.stroke?( e.setAttribute( 'stroke', t.color ), e.setAttribute( 'stroke-opacity', t.opacity ), e.setAttribute( 'stroke-width', t.weight ), e.setAttribute( 'stroke-linecap', t.lineCap ), e.setAttribute( 'stroke-linejoin', t.lineJoin ), t.dashArray?e.setAttribute( 'stroke-dasharray', t.dashArray ):e.removeAttribute( 'stroke-dasharray' ), t.dashOffset?e.setAttribute( 'stroke-dashoffset', t.dashOffset ):e.removeAttribute( 'stroke-dashoffset' ) ):e.setAttribute( 'stroke', 'none' ), t.fill?( e.setAttribute( 'fill', t.fillColor||t.color ), e.setAttribute( 'fill-opacity', t.fillOpacity ), e.setAttribute( 'fill-rule', t.fillRule||'evenodd' ) ):e.setAttribute( 'fill', 'none' ) )}, _updatePoly: function( t, e ) {this._setPath( t, Y( t._parts, e ) )}, _updateCircle: function( t ) {var e=t._point, n=Math.max( Math.round( t._radius ), 1 ), i='a'+n+','+( Math.max( Math.round( t._radiusY ), 1 )||n )+' 0 1,0 '; e=t._empty()?'M0 0':'M'+( e.x-n )+','+e.y+i+2*n+',0 '+i+2*-n+',0 '; this._setPath( t, e )}, _setPath: function( t, e ) {t._path.setAttribute( 'd', e )}, _bringToFront: function( t ) {ee( t._path )}, _bringToBack: function( t ) {ne( t._path )} } ); function jn( t ) {return Vt.svg||Vt.vml?new Zn( t ):null}Vt.vml&&Zn.include( dt ), ze.include( { getRenderer: function( t ) {return t=( t=t.options.renderer||this._getPaneRenderer( t.options.pane )||this.options.renderer||this._renderer )||( this._renderer=this._createRenderer() ), this.hasLayer( t )||this.addLayer( t ), t}, _getPaneRenderer: function( t ) {if( 'overlayPane'===t||void 0===t ) {return!1}var e=this._paneRenderers[t]; return void 0===e&&( e=this._createRenderer( { pane: t } ), this._paneRenderers[t]=e ), e}, _createRenderer: function( t ) {return this.options.preferCanvas&&Bn( t )||jn( t )} } ); var Fn=pn.extend( { initialize: function( t, e ) {pn.prototype.initialize.call( this, this._boundsToLatLngs( t ), e )}, setBounds: function( t ) {return this.setLatLngs( this._boundsToLatLngs( t ) )}, _boundsToLatLngs: function( t ) {return[( t=D( t ) ).getSouthWest(), t.getNorthWest(), t.getNorthEast(), t.getSouthEast()]} } ); Zn.create=Rn, Zn.pointsToPath=Y, fn.geometryToLayer=mn, fn.coordsToLatLng=_n, fn.coordsToLatLngs=vn, fn.latLngToCoords=yn, fn.latLngsToCoords=bn, fn.getFeature=wn, fn.asFeature=xn, ze.mergeOptions( { boxZoom: !0 } ); Q=X.extend( { initialize: function( t ) {this._map=t, this._container=t._container, this._pane=t._panes.overlayPane, this._resetStateTimeout=0, t.on( 'unload', this._destroy, this )}, addHooks: function() {ye( this._container, 'mousedown', this._onMouseDown, this )}, removeHooks: function() {we( this._container, 'mousedown', this._onMouseDown, this )}, moved: function() {return this._moved}, _destroy: function() {Xt( this._pane ), delete this._pane}, _resetState: function() {this._resetStateTimeout=0, this._moved=!1}, _clearDeferredResetState: function() {0!==this._resetStateTimeout&&( clearTimeout( this._resetStateTimeout ), this._resetStateTimeout=0 )}, _onMouseDown: function( t ) {if( !t.shiftKey||1!==t.which&&1!==t.button ) {return!1}this._clearDeferredResetState(), this._resetState(), Ht(), pe(), this._startPoint=this._map.mouseEventToContainerPoint( t ), ye( document, { contextmenu: Ne, mousemove: this._onMouseMove, mouseup: this._onMouseUp, keydown: this._onKeyDown }, this )}, _onMouseMove: function( t ) {this._moved||( this._moved=!0, this._box=Kt( 'div', 'leaflet-zoom-box', this._container ), oe( this._container, 'leaflet-crosshair' ), this._map.fire( 'boxzoomstart' ) ), this._point=this._map.mouseEventToContainerPoint( t ); var e=( t=new I( this._point, this._startPoint ) ).getSize(); he( this._box, t.min ), this._box.style.width=e.x+'px', this._box.style.height=e.y+'px'}, _finish: function() {this._moved&&( Xt( this._box ), se( this._container, 'leaflet-crosshair' ) ), qt(), fe(), we( document, { contextmenu: Ne, mousemove: this._onMouseMove, mouseup: this._onMouseUp, keydown: this._onKeyDown }, this )}, _onMouseUp: function( t ) {1!==t.which&&1!==t.button||( this._finish(), this._moved&&( this._clearDeferredResetState(), this._resetStateTimeout=setTimeout( o( this._resetState, this ), 0 ), t=new B( this._map.containerPointToLatLng( this._startPoint ), this._map.containerPointToLatLng( this._point ) ), this._map.fitBounds( t ).fire( 'boxzoomend', { boxZoomBounds: t } ) ) )}, _onKeyDown: function( t ) {27===t.keyCode&&( this._finish(), this._clearDeferredResetState(), this._resetState() )} } ), ze.addInitHook( 'addHandler', 'boxZoom', Q ), ze.mergeOptions( { doubleClickZoom: !0 } ), pt=X.extend( { addHooks: function() {this._map.on( 'dblclick', this._onDoubleClick, this )}, removeHooks: function() {this._map.off( 'dblclick', this._onDoubleClick, this )}, _onDoubleClick: function( t ) {var e=this._map, n=e.getZoom(), i=e.options.zoomDelta; n=t.originalEvent.shiftKey?n-i:n+i; 'center'===e.options.doubleClickZoom?e.setZoom( n ):e.setZoomAround( t.containerPoint, n )} } ); var Hn=( ze.addInitHook( 'addHandler', 'doubleClickZoom', pt ), ze.mergeOptions( { dragging: !0, inertia: !0, inertiaDeceleration: 3400, inertiaMaxSpeed: 1/0, easeLinearity: 0.2, worldCopyJump: !1, maxBoundsViscosity: 0 } ), X.extend( { addHooks: function() {var t; this._draggable||( t=this._map, this._draggable=new Ue( t._mapPane, t._container ), this._draggable.on( { dragstart: this._onDragStart, drag: this._onDrag, dragend: this._onDragEnd }, this ), this._draggable.on( 'predrag', this._onPreDragLimit, this ), t.options.worldCopyJump&&( this._draggable.on( 'predrag', this._onPreDragWrap, this ), t.on( 'zoomend', this._onZoomEnd, this ), t.whenReady( this._onZoomEnd, this ) ) ), oe( this._map._container, 'leaflet-grab leaflet-touch-drag' ), this._draggable.enable(), this._positions=[], this._times=[]}, removeHooks: function() {se( this._map._container, 'leaflet-grab' ), se( this._map._container, 'leaflet-touch-drag' ), this._draggable.disable()}, moved: function() {return this._draggable&&this._draggable._moved}, moving: function() {return this._draggable&&this._draggable._moving}, _onDragStart: function() {var t, e=this._map; e._stop(), this._map.options.maxBounds&&this._map.options.maxBoundsViscosity?( t=D( this._map.options.maxBounds ), this._offsetLimit=z( this._map.latLngToContainerPoint( t.getNorthWest() ).multiplyBy( -1 ), this._map.latLngToContainerPoint( t.getSouthEast() ).multiplyBy( -1 ).add( this._map.getSize() ) ), this._viscosity=Math.min( 1, Math.max( 0, this._map.options.maxBoundsViscosity ) ) ):this._offsetLimit=null, e.fire( 'movestart' ).fire( 'dragstart' ), e.options.inertia&&( this._positions=[], this._times=[] )}, _onDrag: function( t ) {var e, n; this._map.options.inertia&&( e=this._lastTime=+new Date, n=this._lastPos=this._draggable._absPos||this._draggable._newPos, this._positions.push( n ), this._times.push( e ), this._prunePositions( e ) ), this._map.fire( 'move', t ).fire( 'drag', t )}, _prunePositions: function( t ) {for( ;1<this._positions.length&&50<t-this._times[0]; ) {this._positions.shift(), this._times.shift()}}, _onZoomEnd: function() {var t=this._map.getSize().divideBy( 2 ), e=this._map.latLngToLayerPoint( [0, 0] ); this._initialWorldOffset=e.subtract( t ).x, this._worldWidth=this._map.getPixelWorldBounds().getSize().x}, _viscousLimit: function( t, e ) {return t-( t-e )*this._viscosity}, _onPreDragLimit: function() {var t, e; this._viscosity&&this._offsetLimit&&( t=this._draggable._newPos.subtract( this._draggable._startPos ), e=this._offsetLimit, t.x<e.min.x&&( t.x=this._viscousLimit( t.x, e.min.x ) ), t.y<e.min.y&&( t.y=this._viscousLimit( t.y, e.min.y ) ), t.x>e.max.x&&( t.x=this._viscousLimit( t.x, e.max.x ) ), t.y>e.max.y&&( t.y=this._viscousLimit( t.y, e.max.y ) ), this._draggable._newPos=this._draggable._startPos.add( t ) )}, _onPreDragWrap: function() {var t=this._worldWidth, e=Math.round( t/2 ), n=this._initialWorldOffset, i=( ( o=this._draggable._newPos.x )-e+n )%t+e-n, o=( o+e+n )%t-e-n; t=Math.abs( i+n )<Math.abs( o+n )?i:o; this._draggable._absPos=this._draggable._newPos.clone(), this._draggable._newPos.x=t}, _onDragEnd: function( t ) {var e, n, i, o, s=this._map, r=s.options, a=!r.inertia||t.noInertia||this._times.length<2; s.fire( 'dragend', t ), a?s.fire( 'moveend' ):( this._prunePositions( +new Date ), t=this._lastPos.subtract( this._positions[0] ), a=( this._lastTime-this._times[0] )/1e3, e=r.easeLinearity, a=( t=t.multiplyBy( e/a ) ).distanceTo( [0, 0] ), n=Math.min( r.inertiaMaxSpeed, a ), t=t.multiplyBy( n/a ), i=n/( r.inertiaDeceleration*e ), ( o=t.multiplyBy( -i/2 ).round() ).x||o.y?( o=s._limitOffset( o, s.options.maxBounds ), P( ( function() {s.panBy( o, { duration: i, easeLinearity: e, noMoveStart: !0, animate: !0 } )} ) ) ):s.fire( 'moveend' ) )} } ) ), qn=( ft=( ze.addInitHook( 'addHandler', 'dragging', Hn ), ze.mergeOptions( { keyboard: !0, keyboardPanDelta: 80 } ), X.extend( { keyCodes: { left: [37], right: [39], down: [40], up: [38], zoomIn: [187, 107, 61, 171], zoomOut: [189, 109, 54, 173] }, initialize: function( t ) {this._map=t, this._setPanDelta( t.options.keyboardPanDelta ), this._setZoomDelta( t.options.zoomDelta )}, addHooks: function() {var t=this._map._container; t.tabIndex<=0&&( t.tabIndex='0' ), ye( t, { focus: this._onFocus, blur: this._onBlur, mousedown: this._onMouseDown }, this ), this._map.on( { focus: this._addHooks, blur: this._removeHooks }, this )}, removeHooks: function() {this._removeHooks(), we( this._map._container, { focus: this._onFocus, blur: this._onBlur, mousedown: this._onMouseDown }, this ), this._map.off( { focus: this._addHooks, blur: this._removeHooks }, this )}, _onMouseDown: function() {var t, e, n; this._focused||( n=document.body, t=document.documentElement, e=n.scrollTop||t.scrollTop, n=n.scrollLeft||t.scrollLeft, this._map._container.focus(), window.scrollTo( n, e ) )}, _onFocus: function() {this._focused=!0, this._map.fire( 'focus' )}, _onBlur: function() {this._focused=!1, this._map.fire( 'blur' )}, _setPanDelta: function( t ) {for( var e=this._panKeys={}, n=this.keyCodes, i=0, o=n.left.length; i<o; i++ ) {e[n.left[i]]=[-1*t, 0]}for( i=0, o=n.right.length; i<o; i++ ) {e[n.right[i]]=[t, 0]}for( i=0, o=n.down.length; i<o; i++ ) {e[n.down[i]]=[0, t]}for( i=0, o=n.up.length; i<o; i++ ) {e[n.up[i]]=[0, -1*t]}}, _setZoomDelta: function( t ) {for( var e=this._zoomKeys={}, n=this.keyCodes, i=0, o=n.zoomIn.length; i<o; i++ ) {e[n.zoomIn[i]]=t}for( i=0, o=n.zoomOut.length; i<o; i++ ) {e[n.zoomOut[i]]=-t}}, _addHooks: function() {ye( document, 'keydown', this._onKeyDown, this )}, _removeHooks: function() {we( document, 'keydown', this._onKeyDown, this )}, _onKeyDown: function( t ) {
    if( !( t.altKey||t.ctrlKey||t.metaKey ) ) {
      var e, n=t.keyCode, i=this._map; if( n in this._panKeys ) {i._panAnim&&i._panAnim._inProgress||( e=this._panKeys[n], t.shiftKey&&( e=O( e ).multiplyBy( 3 ) ), i.panBy( e ), i.options.maxBounds&&i.panInsideBounds( i.options.maxBounds ) )}
      else if( n in this._zoomKeys ) {i.setZoom( i.getZoom()+( t.shiftKey?3:1 )*this._zoomKeys[n] )}
      else{if( 27!==n||!i._popup||!i._popup.options.closeOnEscapeKey ) {return}i.closePopup()}Ne( t );
    }
  } } ) ), mt=( ze.addInitHook( 'addHandler', 'keyboard', ft ), ze.mergeOptions( { scrollWheelZoom: !0, wheelDebounceTime: 40, wheelPxPerZoomLevel: 60 } ), X.extend( { addHooks: function() {ye( this._map._container, 'wheel', this._onWheelScroll, this ), this._delta=0}, removeHooks: function() {we( this._map._container, 'wheel', this._onWheelScroll, this )}, _onWheelScroll: function( t ) {var e=Ae( t ), n=this._map.options.wheelDebounceTime; this._delta+=e, this._lastMousePos=this._map.mouseEventToContainerPoint( t ), this._startTime||( this._startTime=+new Date ), e=Math.max( n-( +new Date-this._startTime ), 0 ); clearTimeout( this._timer ), this._timer=setTimeout( o( this._performZoom, this ), e ), Ne( t )}, _performZoom: function() {var t=this._map, e=t.getZoom(), n=this._map.options.zoomSnap||0, i=( t._stop(), this._delta/( 4*this._map.options.wheelPxPerZoomLevel ) ); i=4*Math.log( 2/( 1+Math.exp( -Math.abs( i ) ) ) )/Math.LN2, n=n?Math.ceil( i/n )*n:i, i=t._limitZoom( e+( 0<this._delta?n:-n ) )-e; this._delta=0, this._startTime=null, i&&( 'center'===t.options.scrollWheelZoom?t.setZoom( e+i ):t.setZoomAround( this._lastMousePos, e+i ) )} } ) ), gt=( ze.addInitHook( 'addHandler', 'scrollWheelZoom', mt ), ze.mergeOptions( { tapHold: Vt.touchNative&&Vt.safari&&Vt.mobile, tapTolerance: 15 } ), X.extend( { addHooks: function() {ye( this._map._container, 'touchstart', this._onDown, this )}, removeHooks: function() {we( this._map._container, 'touchstart', this._onDown, this )}, _onDown: function( t ) {var e; clearTimeout( this._holdTimeout ), 1===t.touches.length&&( e=t.touches[0], this._startPos=this._newPos=new E( e.clientX, e.clientY ), this._holdTimeout=setTimeout( o( ( function() {this._cancel(), this._isTapValid()&&( ye( document, 'touchend', ke ), ye( document, 'touchend touchcancel', this._cancelClickPrevent ), this._simulateEvent( 'contextmenu', e ) )} ), this ), 600 ), ye( document, 'touchend touchcancel contextmenu', this._cancel, this ), ye( document, 'touchmove', this._onMove, this ) )}, _cancelClickPrevent: function t() {we( document, 'touchend', ke ), we( document, 'touchend touchcancel', t )}, _cancel: function() {clearTimeout( this._holdTimeout ), we( document, 'touchend touchcancel contextmenu', this._cancel, this ), we( document, 'touchmove', this._onMove, this )}, _onMove: function( t ) {t=t.touches[0], this._newPos=new E( t.clientX, t.clientY )}, _isTapValid: function() {return this._newPos.distanceTo( this._startPos )<=this._map.options.tapTolerance}, _simulateEvent: function( t, e ) {( t=new MouseEvent( t, { bubbles: !0, cancelable: !0, view: window, screenX: e.screenX, screenY: e.screenY, clientX: e.clientX, clientY: e.clientY } ) )._simulated=!0, e.target.dispatchEvent( t )} } ) ), _t=( ze.addInitHook( 'addHandler', 'tapHold', gt ), ze.mergeOptions( { touchZoom: Vt.touch, bounceAtZoomLimits: !0 } ), X.extend( { addHooks: function() {oe( this._map._container, 'leaflet-touch-zoom' ), ye( this._map._container, 'touchstart', this._onTouchStart, this )}, removeHooks: function() {se( this._map._container, 'leaflet-touch-zoom' ), we( this._map._container, 'touchstart', this._onTouchStart, this )}, _onTouchStart: function( t ) {var e, n, i=this._map; !t.touches||2!==t.touches.length||i._animatingZoom||this._zooming||( e=i.mouseEventToContainerPoint( t.touches[0] ), n=i.mouseEventToContainerPoint( t.touches[1] ), this._centerPoint=i.getSize()._divideBy( 2 ), this._startLatLng=i.containerPointToLatLng( this._centerPoint ), 'center'!==i.options.touchZoom&&( this._pinchStartLatLng=i.containerPointToLatLng( e.add( n )._divideBy( 2 ) ) ), this._startDist=e.distanceTo( n ), this._startZoom=i.getZoom(), this._moved=!1, this._zooming=!0, i._stop(), ye( document, 'touchmove', this._onTouchMove, this ), ye( document, 'touchend touchcancel', this._onTouchEnd, this ), ke( t ) )}, _onTouchMove: function( t ) {
    if( t.touches&&2===t.touches.length&&this._zooming ) {
      var e=this._map, n=e.mouseEventToContainerPoint( t.touches[0] ), i=e.mouseEventToContainerPoint( t.touches[1] ), s=n.distanceTo( i )/this._startDist; if( this._zoom=e.getScaleZoom( s, this._startZoom ), !e.options.bounceAtZoomLimits&&( this._zoom<e.getMinZoom()&&s<1||this._zoom>e.getMaxZoom()&&1<s )&&( this._zoom=e._limitZoom( this._zoom ) ), 'center'===e.options.touchZoom ) {if( this._center=this._startLatLng, 1==s ) {return}}
      else{if( n=n._add( i )._divideBy( 2 )._subtract( this._centerPoint ), 1==s&&0===n.x&&0===n.y ) {return}this._center=e.unproject( e.project( this._pinchStartLatLng, this._zoom ).subtract( n ), this._zoom )}this._moved||( e._moveStart( !0, !1 ), this._moved=!0 ), T( this._animRequest ), i=o( e._move, e, this._center, this._zoom, { pinch: !0, round: !1 } ), this._animRequest=P( i, this, !0 ), ke( t );
    }
  }, _onTouchEnd: function() {this._moved&&this._zooming?( this._zooming=!1, T( this._animRequest ), we( document, 'touchmove', this._onTouchMove, this ), we( document, 'touchend touchcancel', this._onTouchEnd, this ), this._map.options.zoomAnimation?this._map._animateZoom( this._center, this._map._limitZoom( this._zoom ), !0, this._map.options.zoomSnap ):this._map._resetView( this._center, this._map._limitZoom( this._zoom ) ) ):this._zooming=!1} } ) ), ze.addInitHook( 'addHandler', 'touchZoom', _t ), ze.BoxZoom=Q, ze.DoubleClickZoom=pt, ze.Drag=Hn, ze.Keyboard=ft, ze.ScrollWheelZoom=mt, ze.TapHold=gt, ze.TouchZoom=_t, t.Bounds=I, t.Browser=Vt, t.CRS=j, t.Canvas=zn, t.Circle=hn, t.CircleMarker=un, t.Class=k, t.Control=Re, t.DivIcon=Nn, t.DivOverlay=Ln, t.DomEvent=K, t.DomUtil=J, t.Draggable=Ue, t.Evented=M, t.FeatureGroup=on, t.GeoJSON=fn, t.GridLayer=Mn, t.Handler=X, t.Icon=sn, t.ImageOverlay=Sn, t.LatLng=R, t.LatLngBounds=B, t.Layer=lt, t.LayerGroup=nn, t.LineUtil=et, t.Map=ze, t.Marker=cn, t.Mixin=tt, t.Path=ln, t.Point=E, t.PolyUtil=nt, t.Polygon=pn, t.Polyline=dn, t.Popup=Vn, t.PosAnimation=Ie, t.Projection=st, t.Rectangle=Fn, t.Renderer=In, t.SVG=Zn, t.SVGOverlay=Tn, t.TileLayer=En, t.Tooltip=kn, t.Transformation=q, t.Util=V, t.VideoOverlay=Pn, t.bind=o, t.bounds=z, t.canvas=Bn, t.circle=function( t, e, n ) {return new hn( t, e, n )}, t.circleMarker=function( t, e ) {return new un( t, e )}, t.control=Be, t.divIcon=function( t ) {return new Nn( t )}, t.extend=e, t.featureGroup=function( t, e ) {return new on( t, e )}, t.geoJSON=Cn, t.geoJson=ht, t.gridLayer=function( t ) {return new Mn( t )}, t.icon=function( t ) {return new sn( t )}, t.imageOverlay=function( t, e, n ) {return new Sn( t, e, n )}, t.latLng=Z, t.latLngBounds=D, t.layerGroup=function( t, e ) {return new nn( t, e )}, t.map=function( t, e ) {return new ze( t, e )}, t.marker=function( t, e ) {return new cn( t, e )}, t.point=O, t.polygon=function( t, e ) {return new pn( t, e )}, t.polyline=function( t, e ) {return new dn( t, e )}, t.popup=function( t, e ) {return new Vn( t, e )}, t.rectangle=function( t, e ) {return new Fn( t, e )}, t.setOptions=p, t.stamp=r, t.svg=jn, t.svgOverlay=function( t, e, n ) {return new Tn( t, e, n )}, t.tileLayer=An, t.tooltip=function( t, e ) {return new kn( t, e )}, t.transformation=U, t.version='1.8.0', t.videoOverlay=function( t, e, n ) {return new Pn( t, e, n )}, window.L ); t.noConflict=function() {return window.L=qn, this}, window.L=t;
} ) ), function( t, e ) {'use strict'; 'object'==typeof module&&'object'==typeof module.exports?module.exports=t.document?e( t, !0 ):function( t ) {if( !t.document ) {throw new Error( 'jQuery requires a window with a document' )}return e( t )}:e( t )}( 'undefined'!=typeof window?window:this, ( function( t, e ) {
  'use strict'; var n=[], i=Object.getPrototypeOf, o=n.slice, s=n.flat?function( t ) {return n.flat.call( t )}:function( t ) {return n.concat.apply( [], t )}, r=n.push, a=n.indexOf, c={}, l=c.toString, u=c.hasOwnProperty, h=u.toString, d=h.call( Object ), p={}, f=function( t ) {return'function'==typeof t&&'number'!=typeof t.nodeType&&'function'!=typeof t.item}, m=function( t ) {return null!=t&&t===t.window}, g=t.document, _={ type: !0, src: !0, nonce: !0, noModule: !0 }; function v( t, e, n ) {var i, o, s=( n=n||g ).createElement( 'script' ); if( s.text=t, e ) {for( i in _ ) {( o=e[i]||e.getAttribute&&e.getAttribute( i ) )&&s.setAttribute( i, o )}}n.head.appendChild( s ).parentNode.removeChild( s )}function y( t ) {return null==t?t+'':'object'==typeof t||'function'==typeof t?c[l.call( t )]||'object':typeof t}var b='3.6.0 -ajax,-ajax/jsonp,-ajax/load,-ajax/script,-ajax/var/location,-ajax/var/nonce,-ajax/var/rquery,-ajax/xhr,-manipulation/_evalUrl,-deprecated/ajax-event-alias,-effects,-effects/Tween,-effects/animatedSelector', w=function( t, e ) {return new w.fn.init( t, e )}; function x( t ) {var e=!!t&&'length'in t&&t.length, n=y( t ); return!f( t )&&!m( t )&&( 'array'===n||0===e||'number'==typeof e&&0<e&&e-1 in t )}w.fn=w.prototype={ jquery: b, constructor: w, length: 0, toArray: function() {return o.call( this )}, get: function( t ) {return null==t?o.call( this ):t<0?this[t+this.length]:this[t]}, pushStack: function( t ) {var e=w.merge( this.constructor(), t ); return e.prevObject=this, e}, each: function( t ) {return w.each( this, t )}, map: function( t ) {return this.pushStack( w.map( this, ( function( e, n ) {return t.call( e, n, e )} ) ) )}, slice: function() {return this.pushStack( o.apply( this, arguments ) )}, first: function() {return this.eq( 0 )}, last: function() {return this.eq( -1 )}, even: function() {return this.pushStack( w.grep( this, ( function( t, e ) {return( e+1 )%2} ) ) )}, odd: function() {return this.pushStack( w.grep( this, ( function( t, e ) {return e%2} ) ) )}, eq: function( t ) {var e=this.length, n=+t+( t<0?e:0 ); return this.pushStack( 0<=n&&n<e?[this[n]]:[] )}, end: function() {return this.prevObject||this.constructor()}, push: r, sort: n.sort, splice: n.splice }, w.extend=w.fn.extend=function() {var t, e, n, i, o, s, r=arguments[0]||{}, a=1, c=arguments.length, l=!1; for( 'boolean'==typeof r&&( l=r, r=arguments[a]||{}, a++ ), 'object'==typeof r||f( r )||( r={} ), a===c&&( r=this, a-- ); a<c; a++ ) {if( null!=( t=arguments[a] ) ) {for( e in t ) {i=t[e], '__proto__'!==e&&r!==i&&( l&&i&&( w.isPlainObject( i )||( o=Array.isArray( i ) ) )?( n=r[e], s=o&&!Array.isArray( n )?[]:o||w.isPlainObject( n )?n:{}, o=!1, r[e]=w.extend( l, s, i ) ):void 0!==i&&( r[e]=i ) )}}}return r}, w.extend( { expando: 'jQuery'+( b+Math.random() ).replace( /\D/g, '' ), isReady: !0, error: function( t ) {throw new Error( t )}, noop: function() {}, isPlainObject: function( t ) {var e, n; return!( !t||'[object Object]'!==l.call( t )||( e=i( t ) )&&( 'function'!=typeof( n=u.call( e, 'constructor' )&&e.constructor )||h.call( n )!==d ) )}, isEmptyObject: function( t ) {var e; for( e in t ) {return!1}return!0}, globalEval: function( t, e, n ) {v( t, { nonce: e&&e.nonce }, n )}, each: function( t, e ) {
    var n, i=0; if( x( t ) ) {for( n=t.length; i<n&&!1!==e.call( t[i], i, t[i] ); i++ ) {}}
    else {for( i in t ) {if( !1===e.call( t[i], i, t[i] ) ) {break}}}return t;
  }, makeArray: function( t, e ) {var n=e||[]; return null!=t&&( x( Object( t ) )?w.merge( n, 'string'==typeof t?[t]:t ):r.call( n, t ) ), n}, inArray: function( t, e, n ) {return null==e?-1:a.call( e, t, n )}, merge: function( t, e ) {for( var n=+e.length, i=0, o=t.length; i<n; i++ ) {t[o++]=e[i]}return t.length=o, t}, grep: function( t, e, n ) {for( var i=[], o=0, s=t.length, r=!n; o<s; o++ ) {!e( t[o], o )!==r&&i.push( t[o] )}return i}, map: function( t, e, n ) {
    var i, o, r=0, a=[]; if( x( t ) ) {for( i=t.length; r<i; r++ ) {null!=( o=e( t[r], r, n ) )&&a.push( o )}}
    else {for( r in t ) {null!=( o=e( t[r], r, n ) )&&a.push( o )}}return s( a );
  }, guid: 1, support: p } ), 'function'==typeof Symbol&&( w.fn[Symbol.iterator]=n[Symbol.iterator] ), w.each( 'Boolean Number String Function Array Date RegExp Object Error Symbol'.split( ' ' ), ( function( t, e ) {c['[object '+e+']']=e.toLowerCase()} ) ); var C=function( t ) {
    var e, n, i, o, s, r, a, c, l, u, h, d, p, f, m, g, _, v, y, b='sizzle'+1*new Date, w=t.document, x=0, C=0, S=ct(), P=ct(), T=ct(), L=ct(), V=function( t, e ) {return t===e&&( h=!0 ), 0}, k={}.hasOwnProperty, N=[], M=N.pop, E=N.push, A=N.push, O=N.slice, I=function( t, e ) {for( var n=0, i=t.length; n<i; n++ ) {if( t[n]===e ) {return n}}return-1}, z='checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped', B='[\\x20\\t\\r\\n\\f]', D='(?:\\\\[\\da-fA-F]{1,6}'+B+'?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+', R='\\['+B+'*('+D+')(?:'+B+'*([*^$|!~]?=)'+B+'*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|('+D+'))|)'+B+'*\\]', Z=':('+D+')(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|'+R+')*)|.*)\\)|)', j=new RegExp( B+'+', 'g' ), F=new RegExp( '^'+B+'+|((?:^|[^\\\\])(?:\\\\.)*)'+B+'+$', 'g' ), H=new RegExp( '^'+B+'*,'+B+'*' ), q=new RegExp( '^'+B+'*([>+~]|'+B+')'+B+'*' ), U=new RegExp( B+'|>' ), W=new RegExp( Z ), $=new RegExp( '^'+D+'$' ), G={ ID: new RegExp( '^#('+D+')' ), CLASS: new RegExp( '^\\.('+D+')' ), TAG: new RegExp( '^('+D+'|[*])' ), ATTR: new RegExp( '^'+R ), PSEUDO: new RegExp( '^'+Z ), CHILD: new RegExp( '^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\('+B+'*(even|odd|(([+-]|)(\\d*)n|)'+B+'*(?:([+-]|)'+B+'*(\\d+)|))'+B+'*\\)|)', 'i' ), bool: new RegExp( '^(?:'+z+')$', 'i' ), needsContext: new RegExp( '^'+B+'*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\('+B+'*((?:-\\d)?\\d*)'+B+'*\\)|)(?=[^-]|$)', 'i' ) }, Y=/HTML$/i, Q=/^(?:input|select|textarea|button)$/i, J=/^h\d$/i, K=/^[^{]+\{\s*\[native \w/, X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, tt=/[+~]/, et=new RegExp( '\\\\[\\da-fA-F]{1,6}'+B+'?|\\\\([^\\r\\n\\f])', 'g' ), nt=function( t, e ) {var n='0x'+t.slice( 1 )-65536; return e||( n<0?String.fromCharCode( n+65536 ):String.fromCharCode( n>>10|55296, 1023&n|56320 ) )}, it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g, ot=function( t, e ) {return e?'\0'===t?'�':t.slice( 0, -1 )+'\\'+t.charCodeAt( t.length-1 ).toString( 16 )+' ':'\\'+t}, st=function() {d()}, rt=bt( ( function( t ) {return!0===t.disabled&&'fieldset'===t.nodeName.toLowerCase()} ), { dir: 'parentNode', next: 'legend' } ); try{A.apply( N=O.call( w.childNodes ), w.childNodes ), N[w.childNodes.length].nodeType}
    catch( e ) {A={ apply: N.length?function( t, e ) {E.apply( t, O.call( e ) )}:function( t, e ) {for( var n=t.length, i=0; t[n++]=e[i++]; ) {}t.length=n-1} }}function at( t, e, i, o ) {
      var s, a, l, u, h, f, _, v=e&&e.ownerDocument, w=e?e.nodeType:9; if( i=i||[], 'string'!=typeof t||!t||1!==w&&9!==w&&11!==w ) {return i}if( !o&&( d( e ), e=e||p, m ) ) {
        if( 11!==w&&( h=X.exec( t ) ) ) {
          if( s=h[1] ) {
            if( 9===w ) {if( !( l=e.getElementById( s ) ) ) {return i}if( l.id===s ) {return i.push( l ), i}}
            else if( v&&( l=v.getElementById( s ) )&&y( e, l )&&l.id===s ) {return i.push( l ), i}
          }
          else{if( h[2] ) {return A.apply( i, e.getElementsByTagName( t ) ), i}if( ( s=h[3] )&&n.getElementsByClassName&&e.getElementsByClassName ) {return A.apply( i, e.getElementsByClassName( s ) ), i}}
        }if( n.qsa&&!L[t+' ']&&( !g||!g.test( t ) )&&( 1!==w||'object'!==e.nodeName.toLowerCase() ) ) {
          if( _=t, v=e, 1===w&&( U.test( t )||q.test( t ) ) ) {for( ( v=tt.test( t )&&_t( e.parentNode )||e )===e&&n.scope||( ( u=e.getAttribute( 'id' ) )?u=u.replace( it, ot ):e.setAttribute( 'id', u=b ) ), a=( f=r( t ) ).length; a--; ) {f[a]=( u?'#'+u:':scope' )+' '+yt( f[a] )}_=f.join( ',' )}try{return A.apply( i, v.querySelectorAll( _ ) ), i}
          catch( e ) {L( t, !0 )}
          finally{u===b&&e.removeAttribute( 'id' )}
        }
      }return c( t.replace( F, '$1' ), e, i, o );
    }function ct() {var t=[]; return function e( n, o ) {return t.push( n+' ' )>i.cacheLength&&delete e[t.shift()], e[n+' ']=o}}function lt( t ) {return t[b]=!0, t}function ut( t ) {
      var e=p.createElement( 'fieldset' ); try{return!!t( e )}
      catch( t ) {return!1}
      finally{e.parentNode&&e.parentNode.removeChild( e ), e=null}
    }function ht( t, e ) {for( var n=t.split( '|' ), o=n.length; o--; ) {i.attrHandle[n[o]]=e}}function dt( t, e ) {var n=e&&t, i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex; if( i ) {return i}if( n ) {for( ;n=n.nextSibling; ) {if( n===e ) {return-1}}}return t?1:-1}function pt( t ) {return function( e ) {return'input'===e.nodeName.toLowerCase()&&e.type===t}}function ft( t ) {return function( e ) {var n=e.nodeName.toLowerCase(); return( 'input'===n||'button'===n )&&e.type===t}}function mt( t ) {return function( e ) {return'form'in e?e.parentNode&&!1===e.disabled?'label'in e?'label'in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt( e )===t:e.disabled===t:'label'in e&&e.disabled===t}}function gt( t ) {return lt( ( function( e ) {return e=+e, lt( ( function( n, i ) {for( var o, s=t( [], n.length, e ), r=s.length; r--; ) {n[o=s[r]]&&( n[o]=!( i[o]=n[o] ) )}} ) )} ) )}function _t( t ) {return t&&void 0!==t.getElementsByTagName&&t}for( e in n=at.support={}, s=at.isXML=function( t ) {var e=t&&t.namespaceURI, n=t&&( t.ownerDocument||t ).documentElement; return!Y.test( e||n&&n.nodeName||'HTML' )}, d=at.setDocument=function( t ) {var e, o, r=t?t.ownerDocument||t:w; return r!=p&&9===r.nodeType&&r.documentElement&&( f=( p=r ).documentElement, m=!s( p ), w!=p&&( o=p.defaultView )&&o.top!==o&&( o.addEventListener?o.addEventListener( 'unload', st, !1 ):o.attachEvent&&o.attachEvent( 'onunload', st ) ), n.scope=ut( ( function( t ) {return f.appendChild( t ).appendChild( p.createElement( 'div' ) ), void 0!==t.querySelectorAll&&!t.querySelectorAll( ':scope fieldset div' ).length} ) ), n.attributes=ut( ( function( t ) {return t.className='i', !t.getAttribute( 'className' )} ) ), n.getElementsByTagName=ut( ( function( t ) {return t.appendChild( p.createComment( '' ) ), !t.getElementsByTagName( '*' ).length} ) ), n.getElementsByClassName=K.test( p.getElementsByClassName ), n.getById=ut( ( function( t ) {return f.appendChild( t ).id=b, !p.getElementsByName||!p.getElementsByName( b ).length} ) ), n.getById?( i.filter.ID=function( t ) {var e=t.replace( et, nt ); return function( t ) {return t.getAttribute( 'id' )===e}}, i.find.ID=function( t, e ) {if( void 0!==e.getElementById&&m ) {var n=e.getElementById( t ); return n?[n]:[]}} ):( i.filter.ID=function( t ) {var e=t.replace( et, nt ); return function( t ) {var n=void 0!==t.getAttributeNode&&t.getAttributeNode( 'id' ); return n&&n.value===e}}, i.find.ID=function( t, e ) {if( void 0!==e.getElementById&&m ) {var n, i, o, s=e.getElementById( t ); if( s ) {if( ( n=s.getAttributeNode( 'id' ) )&&n.value===t ) {return[s]}for( o=e.getElementsByName( t ), i=0; s=o[i++]; ) {if( ( n=s.getAttributeNode( 'id' ) )&&n.value===t ) {return[s]}}}return[]}} ), i.find.TAG=n.getElementsByTagName?function( t, e ) {return void 0!==e.getElementsByTagName?e.getElementsByTagName( t ):n.qsa?e.querySelectorAll( t ):void 0}:function( t, e ) {var n, i=[], o=0, s=e.getElementsByTagName( t ); if( '*'===t ) {for( ;n=s[o++]; ) {1===n.nodeType&&i.push( n )}return i}return s}, i.find.CLASS=n.getElementsByClassName&&function( t, e ) {if( void 0!==e.getElementsByClassName&&m ) {return e.getElementsByClassName( t )}}, _=[], g=[], ( n.qsa=K.test( p.querySelectorAll ) )&&( ut( ( function( t ) {var e; f.appendChild( t ).innerHTML='<a id=\''+b+'\'></a><select id=\''+b+'-\r\\\' msallowcapture=\'\'><option selected=\'\'></option></select>', t.querySelectorAll( '[msallowcapture^=\'\']' ).length&&g.push( '[*^$]='+B+'*(?:\'\'|"")' ), t.querySelectorAll( '[selected]' ).length||g.push( '\\['+B+'*(?:value|'+z+')' ), t.querySelectorAll( '[id~='+b+'-]' ).length||g.push( '~=' ), ( e=p.createElement( 'input' ) ).setAttribute( 'name', '' ), t.appendChild( e ), t.querySelectorAll( '[name=\'\']' ).length||g.push( '\\['+B+'*name'+B+'*='+B+'*(?:\'\'|"")' ), t.querySelectorAll( ':checked' ).length||g.push( ':checked' ), t.querySelectorAll( 'a#'+b+'+*' ).length||g.push( '.#.+[+~]' ), t.querySelectorAll( '\\\f' ), g.push( '[\\r\\n\\f]' )} ) ), ut( ( function( t ) {t.innerHTML='<a href=\'\' disabled=\'disabled\'></a><select disabled=\'disabled\'><option/></select>'; var e=p.createElement( 'input' ); e.setAttribute( 'type', 'hidden' ), t.appendChild( e ).setAttribute( 'name', 'D' ), t.querySelectorAll( '[name=d]' ).length&&g.push( 'name'+B+'*[*^$|!~]?=' ), 2!==t.querySelectorAll( ':enabled' ).length&&g.push( ':enabled', ':disabled' ), f.appendChild( t ).disabled=!0, 2!==t.querySelectorAll( ':disabled' ).length&&g.push( ':enabled', ':disabled' ), t.querySelectorAll( '*,:x' ), g.push( ',.*:' )} ) ) ), ( n.matchesSelector=K.test( v=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector ) )&&ut( ( function( t ) {n.disconnectedMatch=v.call( t, '*' ), v.call( t, '[s!=\'\']:x' ), _.push( '!=', Z )} ) ), g=g.length&&new RegExp( g.join( '|' ) ), _=_.length&&new RegExp( _.join( '|' ) ), e=K.test( f.compareDocumentPosition ), y=e||K.test( f.contains )?function( t, e ) {var n=9===t.nodeType?t.documentElement:t, i=e&&e.parentNode; return t===i||!( !i||1!==i.nodeType||!( n.contains?n.contains( i ):t.compareDocumentPosition&&16&t.compareDocumentPosition( i ) ) )}:function( t, e ) {if( e ) {for( ;e=e.parentNode; ) {if( e===t ) {return!0}}}return!1}, V=e?function( t, e ) {if( t===e ) {return h=!0, 0}var i=!t.compareDocumentPosition-!e.compareDocumentPosition; return i||( 1&( i=( t.ownerDocument||t )==( e.ownerDocument||e )?t.compareDocumentPosition( e ):1 )||!n.sortDetached&&e.compareDocumentPosition( t )===i?t==p||t.ownerDocument==w&&y( w, t )?-1:e==p||e.ownerDocument==w&&y( w, e )?1:u?I( u, t )-I( u, e ):0:4&i?-1:1 )}:function( t, e ) {if( t===e ) {return h=!0, 0}var n, i=0, o=t.parentNode, s=e.parentNode, r=[t], a=[e]; if( !o||!s ) {return t==p?-1:e==p?1:o?-1:s?1:u?I( u, t )-I( u, e ):0}if( o===s ) {return dt( t, e )}for( n=t; n=n.parentNode; ) {r.unshift( n )}for( n=e; n=n.parentNode; ) {a.unshift( n )}for( ;r[i]===a[i]; ) {i++}return i?dt( r[i], a[i] ):r[i]==w?-1:a[i]==w?1:0} ), p}, at.matches=function( t, e ) {return at( t, null, null, e )}, at.matchesSelector=function( t, e ) {
      if( d( t ), n.matchesSelector&&m&&!L[e+' ']&&( !_||!_.test( e ) )&&( !g||!g.test( e ) ) ) {
        try{var i=v.call( t, e ); if( i||n.disconnectedMatch||t.document&&11!==t.document.nodeType ) {return i}}
        catch( t ) {L( e, !0 )}
      }return 0<at( e, p, null, [t] ).length;
    }, at.contains=function( t, e ) {return( t.ownerDocument||t )!=p&&d( t ), y( t, e )}, at.attr=function( t, e ) {( t.ownerDocument||t )!=p&&d( t ); var o=i.attrHandle[e.toLowerCase()], s=o&&k.call( i.attrHandle, e.toLowerCase() )?o( t, e, !m ):void 0; return void 0!==s?s:n.attributes||!m?t.getAttribute( e ):( s=t.getAttributeNode( e ) )&&s.specified?s.value:null}, at.escape=function( t ) {return( t+'' ).replace( it, ot )}, at.error=function( t ) {throw new Error( 'Syntax error, unrecognized expression: '+t )}, at.uniqueSort=function( t ) {var e, i=[], o=0, s=0; if( h=!n.detectDuplicates, u=!n.sortStable&&t.slice( 0 ), t.sort( V ), h ) {for( ;e=t[s++]; ) {e===t[s]&&( o=i.push( s ) )}for( ;o--; ) {t.splice( i[o], 1 )}}return u=null, t}, o=at.getText=function( t ) {
      var e, n='', i=0, s=t.nodeType; if( s ) {
        if( 1===s||9===s||11===s ) {if( 'string'==typeof t.textContent ) {return t.textContent}for( t=t.firstChild; t; t=t.nextSibling ) {n+=o( t )}}
        else if( 3===s||4===s ) {return t.nodeValue}
      }
      else {for( ;e=t[i++]; ) {n+=o( e )}}return n;
    }, ( i=at.selectors={ cacheLength: 50, createPseudo: lt, match: G, attrHandle: {}, find: {}, relative: { '>': { dir: 'parentNode', first: !0 }, ' ': { dir: 'parentNode' }, '+': { dir: 'previousSibling', first: !0 }, '~': { dir: 'previousSibling' } }, preFilter: { ATTR: function( t ) {return t[1]=t[1].replace( et, nt ), t[3]=( t[3]||t[4]||t[5]||'' ).replace( et, nt ), '~='===t[2]&&( t[3]=' '+t[3]+' ' ), t.slice( 0, 4 )}, CHILD: function( t ) {return t[1]=t[1].toLowerCase(), 'nth'===t[1].slice( 0, 3 )?( t[3]||at.error( t[0] ), t[4]=+( t[4]?t[5]+( t[6]||1 ):2*( 'even'===t[3]||'odd'===t[3] ) ), t[5]=+( t[7]+t[8]||'odd'===t[3] ) ):t[3]&&at.error( t[0] ), t}, PSEUDO: function( t ) {var e, n=!t[6]&&t[2]; return G.CHILD.test( t[0] )?null:( t[3]?t[2]=t[4]||t[5]||'':n&&W.test( n )&&( e=r( n, !0 ) )&&( e=n.indexOf( ')', n.length-e )-n.length )&&( t[0]=t[0].slice( 0, e ), t[2]=n.slice( 0, e ) ), t.slice( 0, 3 ) )} }, filter: { TAG: function( t ) {var e=t.replace( et, nt ).toLowerCase(); return'*'===t?function() {return!0}:function( t ) {return t.nodeName&&t.nodeName.toLowerCase()===e}}, CLASS: function( t ) {var e=S[t+' ']; return e||( e=new RegExp( '(^|'+B+')'+t+'('+B+'|$)' ) )&&S( t, ( function( t ) {return e.test( 'string'==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute( 'class' )||'' )} ) )}, ATTR: function( t, e, n ) {return function( i ) {var o=at.attr( i, t ); return null==o?'!='===e:!e||( o+='', '='===e?o===n:'!='===e?o!==n:'^='===e?n&&0===o.indexOf( n ):'*='===e?n&&-1<o.indexOf( n ):'$='===e?n&&o.slice( -n.length )===n:'~='===e?-1<( ' '+o.replace( j, ' ' )+' ' ).indexOf( n ):'|='===e&&( o===n||o.slice( 0, n.length+1 )===n+'-' ) )}}, CHILD: function( t, e, n, i, o ) {
      var s='nth'!==t.slice( 0, 3 ), r='last'!==t.slice( -4 ), a='of-type'===e; return 1===i&&0===o?function( t ) {return!!t.parentNode}:function( e, n, c ) {
        var l, u, h, d, p, f, m=s!==r?'nextSibling':'previousSibling', g=e.parentNode, _=a&&e.nodeName.toLowerCase(), v=!c&&!a, y=!1; if( g ) {
          if( s ) {for( ;m; ) {for( d=e; d=d[m]; ) {if( a?d.nodeName.toLowerCase()===_:1===d.nodeType ) {return!1}}f=m='only'===t&&!f&&'nextSibling'}return!0}if( f=[r?g.firstChild:g.lastChild], r&&v ) {for( y=( p=( l=( u=( h=( d=g )[b]||( d[b]={} ) )[d.uniqueID]||( h[d.uniqueID]={} ) )[t]||[] )[0]===x&&l[1] )&&l[2], d=p&&g.childNodes[p]; d=++p&&d&&d[m]||( y=p=0 )||f.pop(); ) {if( 1===d.nodeType&&++y&&d===e ) {u[t]=[x, p, y]; break}}}
          else if( v&&( y=p=( l=( u=( h=( d=e )[b]||( d[b]={} ) )[d.uniqueID]||( h[d.uniqueID]={} ) )[t]||[] )[0]===x&&l[1] ), !1===y ) {for( ;( d=++p&&d&&d[m]||( y=p=0 )||f.pop() )&&( ( a?d.nodeName.toLowerCase()!==_:1!==d.nodeType )||!++y||( v&&( ( u=( h=d[b]||( d[b]={} ) )[d.uniqueID]||( h[d.uniqueID]={} ) )[t]=[x, y] ), d!==e ) ); ) {}}return( y-=o )===i||y%i==0&&0<=y/i;
        }
      };
    }, PSEUDO: function( t, e ) {var n, o=i.pseudos[t]||i.setFilters[t.toLowerCase()]||at.error( 'unsupported pseudo: '+t ); return o[b]?o( e ):1<o.length?( n=[t, t, '', e], i.setFilters.hasOwnProperty( t.toLowerCase() )?lt( ( function( t, n ) {for( var i, s=o( t, e ), r=s.length; r--; ) {t[i=I( t, s[r] )]=!( n[i]=s[r] )}} ) ):function( t ) {return o( t, 0, n )} ):o} }, pseudos: { not: lt( ( function( t ) {var e=[], n=[], i=a( t.replace( F, '$1' ) ); return i[b]?lt( ( function( t, e, n, o ) {for( var s, r=i( t, null, o, [] ), a=t.length; a--; ) {( s=r[a] )&&( t[a]=!( e[a]=s ) )}} ) ):function( t, o, s ) {return e[0]=t, i( e, null, s, n ), e[0]=null, !n.pop()}} ) ), has: lt( ( function( t ) {return function( e ) {return 0<at( t, e ).length}} ) ), contains: lt( ( function( t ) {return t=t.replace( et, nt ), function( e ) {return-1<( e.textContent||o( e ) ).indexOf( t )}} ) ), lang: lt( ( function( t ) {return $.test( t||'' )||at.error( 'unsupported lang: '+t ), t=t.replace( et, nt ).toLowerCase(), function( e ) {var n; do{if( n=m?e.lang:e.getAttribute( 'xml:lang' )||e.getAttribute( 'lang' ) ) {return( n=n.toLowerCase() )===t||0===n.indexOf( t+'-' )}}while( ( e=e.parentNode )&&1===e.nodeType ); return!1}} ) ), target: function( e ) {var n=t.location&&t.location.hash; return n&&n.slice( 1 )===e.id}, root: function( t ) {return t===f}, focus: function( t ) {return t===p.activeElement&&( !p.hasFocus||p.hasFocus() )&&!!( t.type||t.href||~t.tabIndex )}, enabled: mt( !1 ), disabled: mt( !0 ), checked: function( t ) {var e=t.nodeName.toLowerCase(); return'input'===e&&!!t.checked||'option'===e&&!!t.selected}, selected: function( t ) {return t.parentNode&&t.parentNode.selectedIndex, !0===t.selected}, empty: function( t ) {for( t=t.firstChild; t; t=t.nextSibling ) {if( t.nodeType<6 ) {return!1}}return!0}, parent: function( t ) {return!i.pseudos.empty( t )}, header: function( t ) {return J.test( t.nodeName )}, input: function( t ) {return Q.test( t.nodeName )}, button: function( t ) {var e=t.nodeName.toLowerCase(); return'input'===e&&'button'===t.type||'button'===e}, text: function( t ) {var e; return'input'===t.nodeName.toLowerCase()&&'text'===t.type&&( null==( e=t.getAttribute( 'type' ) )||'text'===e.toLowerCase() )}, first: gt( ( function() {return[0]} ) ), last: gt( ( function( t, e ) {return[e-1]} ) ), eq: gt( ( function( t, e, n ) {return[n<0?n+e:n]} ) ), even: gt( ( function( t, e ) {for( var n=0; n<e; n+=2 ) {t.push( n )}return t} ) ), odd: gt( ( function( t, e ) {for( var n=1; n<e; n+=2 ) {t.push( n )}return t} ) ), lt: gt( ( function( t, e, n ) {for( var i=n<0?n+e:e<n?e:n; 0<=--i; ) {t.push( i )}return t} ) ), gt: gt( ( function( t, e, n ) {for( var i=n<0?n+e:n; ++i<e; ) {t.push( i )}return t} ) ) } } ).pseudos.nth=i.pseudos.eq, { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 } ) {i.pseudos[e]=pt( e )}for( e in{ submit: !0, reset: !0 } ) {i.pseudos[e]=ft( e )}function vt() {}function yt( t ) {for( var e=0, n=t.length, i=''; e<n; e++ ) {i+=t[e].value}return i}function bt( t, e, n ) {
      var i=e.dir, o=e.next, s=o||i, r=n&&'parentNode'===s, a=C++; return e.first?function( e, n, o ) {for( ;e=e[i]; ) {if( 1===e.nodeType||r ) {return t( e, n, o )}}return!1}:function( e, n, c ) {
        var l, u, h, d=[x, a]; if( c ) {for( ;e=e[i]; ) {if( ( 1===e.nodeType||r )&&t( e, n, c ) ) {return!0}}}
        else {
          for( ;e=e[i]; ) {
            if( 1===e.nodeType||r ) {
              if( u=( h=e[b]||( e[b]={} ) )[e.uniqueID]||( h[e.uniqueID]={} ), o&&o===e.nodeName.toLowerCase() ) {e=e[i]||e}
              else{if( ( l=u[s] )&&l[0]===x&&l[1]===a ) {return d[2]=l[2]}if( ( u[s]=d )[2]=t( e, n, c ) ) {return!0}}
            }
          }
        }return!1;
      };
    }function wt( t ) {return 1<t.length?function( e, n, i ) {for( var o=t.length; o--; ) {if( !t[o]( e, n, i ) ) {return!1}}return!0}:t[0]}function xt( t, e, n, i, o ) {for( var s, r=[], a=0, c=t.length, l=null!=e; a<c; a++ ) {( s=t[a] )&&( n&&!n( s, i, o )||( r.push( s ), l&&e.push( a ) ) )}return r}function Ct( t, e, n, i, o, s ) {
      return i&&!i[b]&&( i=Ct( i ) ), o&&!o[b]&&( o=Ct( o, s ) ), lt( ( function( s, r, a, c ) {
        var l, u, h, d=[], p=[], f=r.length, m=s||function( t, e, n ) {for( var i=0, o=e.length; i<o; i++ ) {at( t, e[i], n )}return n}( e||'*', a.nodeType?[a]:a, [] ), g=!t||!s&&e?m:xt( m, d, t, a, c ), _=n?o||( s?t:f||i )?[]:r:g; if( n&&n( g, _, a, c ), i ) {for( l=xt( _, p ), i( l, [], a, c ), u=l.length; u--; ) {( h=l[u] )&&( _[p[u]]=!( g[p[u]]=h ) )}}if( s ) {if( o||t ) {if( o ) {for( l=[], u=_.length; u--; ) {( h=_[u] )&&l.push( g[u]=h )}o( null, _=[], l, c )}for( u=_.length; u--; ) {( h=_[u] )&&-1<( l=o?I( s, h ):d[u] )&&( s[l]=!( r[l]=h ) )}}}
        else {_=xt( _===r?_.splice( f, _.length ):_ ), o?o( null, r, _, c ):A.apply( r, _ )}
      } ) );
    }function St( t ) {
      for( var e, n, o, s=t.length, r=i.relative[t[0].type], a=r||i.relative[' '], c=r?1:0, u=bt( ( function( t ) {return t===e} ), a, !0 ), h=bt( ( function( t ) {return-1<I( e, t )} ), a, !0 ), d=[function( t, n, i ) {var o=!r&&( i||n!==l )||( ( e=n ).nodeType?u( t, n, i ):h( t, n, i ) ); return e=null, o}]; c<s; c++ ) {
        if( n=i.relative[t[c].type] ) {d=[bt( wt( d ), n )]}
        else{if( ( n=i.filter[t[c].type].apply( null, t[c].matches ) )[b] ) {for( o=++c; o<s&&!i.relative[t[o].type]; o++ ) {}return Ct( 1<c&&wt( d ), 1<c&&yt( t.slice( 0, c-1 ).concat( { value: ' '===t[c-2].type?'*':'' } ) ).replace( F, '$1' ), n, c<o&&St( t.slice( c, o ) ), o<s&&St( t=t.slice( o ) ), o<s&&yt( t ) )}d.push( n )}
      }return wt( d );
    }return vt.prototype=i.filters=i.pseudos, i.setFilters=new vt, r=at.tokenize=function( t, e ) {var n, o, s, r, a, c, l, u=P[t+' ']; if( u ) {return e?0:u.slice( 0 )}for( a=t, c=[], l=i.preFilter; a; ) {for( r in n&&!( o=H.exec( a ) )||( o&&( a=a.slice( o[0].length )||a ), c.push( s=[] ) ), n=!1, ( o=q.exec( a ) )&&( n=o.shift(), s.push( { value: n, type: o[0].replace( F, ' ' ) } ), a=a.slice( n.length ) ), i.filter ) {!( o=G[r].exec( a ) )||l[r]&&!( o=l[r]( o ) )||( n=o.shift(), s.push( { value: n, type: r, matches: o } ), a=a.slice( n.length ) )}if( !n ) {break}}return e?a.length:a?at.error( t ):P( t, c ).slice( 0 )}, a=at.compile=function( t, e ) {var n, o, s, a, c, u, h=[], f=[], g=T[t+' ']; if( !g ) {for( e||( e=r( t ) ), n=e.length; n--; ) {( g=St( e[n] ) )[b]?h.push( g ):f.push( g )}( g=T( t, ( o=f, a=0<( s=h ).length, c=0<o.length, u=function( t, e, n, r, u ) {var h, f, g, _=0, v='0', y=t&&[], b=[], w=l, C=t||c&&i.find.TAG( '*', u ), S=x+=null==w?1:Math.random()||0.1, P=C.length; for( u&&( l=e==p||e||u ); v!==P&&null!=( h=C[v] ); v++ ) {if( c&&h ) {for( f=0, e||h.ownerDocument==p||( d( h ), n=!m ); g=o[f++]; ) {if( g( h, e||p, n ) ) {r.push( h ); break}}u&&( x=S )}a&&( ( h=!g&&h )&&_--, t&&y.push( h ) )}if( _+=v, a&&v!==_ ) {for( f=0; g=s[f++]; ) {g( y, b, e, n )}if( t ) {if( 0<_ ) {for( ;v--; ) {y[v]||b[v]||( b[v]=M.call( r ) )}}b=xt( b )}A.apply( r, b ), u&&!t&&0<b.length&&1<_+s.length&&at.uniqueSort( r )}return u&&( x=S, l=w ), y}, a?lt( u ):u ) ) ).selector=t}return g}, c=at.select=function( t, e, n, o ) {var s, c, l, u, h, d='function'==typeof t&&t, p=!o&&r( t=d.selector||t ); if( n=n||[], 1===p.length ) {if( 2<( c=p[0]=p[0].slice( 0 ) ).length&&'ID'===( l=c[0] ).type&&9===e.nodeType&&m&&i.relative[c[1].type] ) {if( !( e=( i.find.ID( l.matches[0].replace( et, nt ), e )||[] )[0] ) ) {return n}d&&( e=e.parentNode ), t=t.slice( c.shift().value.length )}for( s=G.needsContext.test( t )?0:c.length; s--&&( l=c[s], !i.relative[u=l.type] ); ) {if( ( h=i.find[u] )&&( o=h( l.matches[0].replace( et, nt ), tt.test( c[0].type )&&_t( e.parentNode )||e ) ) ) {if( c.splice( s, 1 ), !( t=o.length&&yt( c ) ) ) {return A.apply( n, o ), n}break}}}return( d||a( t, p ) )( o, e, !m, n, !e||tt.test( t )&&_t( e.parentNode )||e ), n}, n.sortStable=b.split( '' ).sort( V ).join( '' )===b, n.detectDuplicates=!!h, d(), n.sortDetached=ut( ( function( t ) {return 1&t.compareDocumentPosition( p.createElement( 'fieldset' ) )} ) ), ut( ( function( t ) {return t.innerHTML='<a href=\'#\'></a>', '#'===t.firstChild.getAttribute( 'href' )} ) )||ht( 'type|href|height|width', ( function( t, e, n ) {if( !n ) {return t.getAttribute( e, 'type'===e.toLowerCase()?1:2 )}} ) ), n.attributes&&ut( ( function( t ) {return t.innerHTML='<input/>', t.firstChild.setAttribute( 'value', '' ), ''===t.firstChild.getAttribute( 'value' )} ) )||ht( 'value', ( function( t, e, n ) {if( !n&&'input'===t.nodeName.toLowerCase() ) {return t.defaultValue}} ) ), ut( ( function( t ) {return null==t.getAttribute( 'disabled' )} ) )||ht( z, ( function( t, e, n ) {var i; if( !n ) {return!0===t[e]?e.toLowerCase():( i=t.getAttributeNode( e ) )&&i.specified?i.value:null}} ) ), at;
  }( t ); w.find=C, w.expr=C.selectors, w.expr[':']=w.expr.pseudos, w.uniqueSort=w.unique=C.uniqueSort, w.text=C.getText, w.isXMLDoc=C.isXML, w.contains=C.contains, w.escapeSelector=C.escape; var S=function( t, e, n ) {for( var i=[], o=void 0!==n; ( t=t[e] )&&9!==t.nodeType; ) {if( 1===t.nodeType ) {if( o&&w( t ).is( n ) ) {break}i.push( t )}}return i}, P=function( t, e ) {for( var n=[]; t; t=t.nextSibling ) {1===t.nodeType&&t!==e&&n.push( t )}return n}, T=w.expr.match.needsContext; function L( t, e ) {return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var V=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i; function k( t, e, n ) {return f( e )?w.grep( t, ( function( t, i ) {return!!e.call( t, i, t )!==n} ) ):e.nodeType?w.grep( t, ( function( t ) {return t===e!==n} ) ):'string'!=typeof e?w.grep( t, ( function( t ) {return-1<a.call( e, t )!==n} ) ):w.filter( e, t, n )}w.filter=function( t, e, n ) {var i=e[0]; return n&&( t=':not('+t+')' ), 1===e.length&&1===i.nodeType?w.find.matchesSelector( i, t )?[i]:[]:w.find.matches( t, w.grep( e, ( function( t ) {return 1===t.nodeType} ) ) )}, w.fn.extend( { find: function( t ) {var e, n, i=this.length, o=this; if( 'string'!=typeof t ) {return this.pushStack( w( t ).filter( ( function() {for( e=0; e<i; e++ ) {if( w.contains( o[e], this ) ) {return!0}}} ) ) )}for( n=this.pushStack( [] ), e=0; e<i; e++ ) {w.find( t, o[e], n )}return 1<i?w.uniqueSort( n ):n}, filter: function( t ) {return this.pushStack( k( this, t||[], !1 ) )}, not: function( t ) {return this.pushStack( k( this, t||[], !0 ) )}, is: function( t ) {return!!k( this, 'string'==typeof t&&T.test( t )?w( t ):t||[], !1 ).length} } ); var N, M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/; ( w.fn.init=function( t, e, n ) {var i, o; if( !t ) {return this}if( n=n||N, 'string'==typeof t ) {if( !( i='<'===t[0]&&'>'===t[t.length-1]&&3<=t.length?[null, t, null]:M.exec( t ) )||!i[1]&&e ) {return!e||e.jquery?( e||n ).find( t ):this.constructor( e ).find( t )}if( i[1] ) {if( e=e instanceof w?e[0]:e, w.merge( this, w.parseHTML( i[1], e&&e.nodeType?e.ownerDocument||e:g, !0 ) ), V.test( i[1] )&&w.isPlainObject( e ) ) {for( i in e ) {f( this[i] )?this[i]( e[i] ):this.attr( i, e[i] )}}return this}return( o=g.getElementById( i[2] ) )&&( this[0]=o, this.length=1 ), this}return t.nodeType?( this[0]=t, this.length=1, this ):f( t )?void 0!==n.ready?n.ready( t ):t( w ):w.makeArray( t, this )} ).prototype=w.fn, N=w( g ); var E=/^(?:parents|prev(?:Until|All))/, A={ children: !0, contents: !0, next: !0, prev: !0 }; function O( t, e ) {for( ;( t=t[e] )&&1!==t.nodeType; ) {}return t}w.fn.extend( { has: function( t ) {var e=w( t, this ), n=e.length; return this.filter( ( function() {for( var t=0; t<n; t++ ) {if( w.contains( this, e[t] ) ) {return!0}}} ) )}, closest: function( t, e ) {var n, i=0, o=this.length, s=[], r='string'!=typeof t&&w( t ); if( !T.test( t ) ) {for( ;i<o; i++ ) {for( n=this[i]; n&&n!==e; n=n.parentNode ) {if( n.nodeType<11&&( r?-1<r.index( n ):1===n.nodeType&&w.find.matchesSelector( n, t ) ) ) {s.push( n ); break}}}}return this.pushStack( 1<s.length?w.uniqueSort( s ):s )}, index: function( t ) {return t?'string'==typeof t?a.call( w( t ), this[0] ):a.call( this, t.jquery?t[0]:t ):this[0]&&this[0].parentNode?this.first().prevAll().length:-1}, add: function( t, e ) {return this.pushStack( w.uniqueSort( w.merge( this.get(), w( t, e ) ) ) )}, addBack: function( t ) {return this.add( null==t?this.prevObject:this.prevObject.filter( t ) )} } ), w.each( { parent: function( t ) {var e=t.parentNode; return e&&11!==e.nodeType?e:null}, parents: function( t ) {return S( t, 'parentNode' )}, parentsUntil: function( t, e, n ) {return S( t, 'parentNode', n )}, next: function( t ) {return O( t, 'nextSibling' )}, prev: function( t ) {return O( t, 'previousSibling' )}, nextAll: function( t ) {return S( t, 'nextSibling' )}, prevAll: function( t ) {return S( t, 'previousSibling' )}, nextUntil: function( t, e, n ) {return S( t, 'nextSibling', n )}, prevUntil: function( t, e, n ) {return S( t, 'previousSibling', n )}, siblings: function( t ) {return P( ( t.parentNode||{} ).firstChild, t )}, children: function( t ) {return P( t.firstChild )}, contents: function( t ) {return null!=t.contentDocument&&i( t.contentDocument )?t.contentDocument:( L( t, 'template' )&&( t=t.content||t ), w.merge( [], t.childNodes ) )} }, ( function( t, e ) {w.fn[t]=function( n, i ) {var o=w.map( this, e, n ); return'Until'!==t.slice( -5 )&&( i=n ), i&&'string'==typeof i&&( o=w.filter( i, o ) ), 1<this.length&&( A[t]||w.uniqueSort( o ), E.test( t )&&o.reverse() ), this.pushStack( o )}} ) ); var I=/[^\x20\t\r\n\f]+/g; function z( t ) {return t}function B( t ) {throw t}function D( t, e, n, i ) {
    var o; try{t&&f( o=t.promise )?o.call( t ).done( e ).fail( n ):t&&f( o=t.then )?o.call( t, e, n ):e.apply( void 0, [t].slice( i ) )}
    catch( t ) {n.apply( void 0, [t] )}
  }w.Callbacks=function( t ) {var e, n; t='string'==typeof t?( e=t, n={}, w.each( e.match( I )||[], ( function( t, e ) {n[e]=!0} ) ), n ):w.extend( {}, t ); var i, o, s, r, a=[], c=[], l=-1, u=function() {for( r=r||t.once, s=i=!0; c.length; l=-1 ) {for( o=c.shift(); ++l<a.length; ) {!1===a[l].apply( o[0], o[1] )&&t.stopOnFalse&&( l=a.length, o=!1 )}}t.memory||( o=!1 ), i=!1, r&&( a=o?[]:'' )}, h={ add: function() {return a&&( o&&!i&&( l=a.length-1, c.push( o ) ), function e( n ) {w.each( n, ( function( n, i ) {f( i )?t.unique&&h.has( i )||a.push( i ):i&&i.length&&'string'!==y( i )&&e( i )} ) )}( arguments ), o&&!i&&u() ), this}, remove: function() {return w.each( arguments, ( function( t, e ) {for( var n; -1<( n=w.inArray( e, a, n ) ); ) {a.splice( n, 1 ), n<=l&&l--}} ) ), this}, has: function( t ) {return t?-1<w.inArray( t, a ):0<a.length}, empty: function() {return a&&( a=[] ), this}, disable: function() {return r=c=[], a=o='', this}, disabled: function() {return!a}, lock: function() {return r=c=[], o||i||( a=o='' ), this}, locked: function() {return!!r}, fireWith: function( t, e ) {return r||( e=[t, ( e=e||[] ).slice?e.slice():e], c.push( e ), i||u() ), this}, fire: function() {return h.fireWith( this, arguments ), this}, fired: function() {return!!s} }; return h}, w.extend( { Deferred: function( e ) {
    var n=[['notify', 'progress', w.Callbacks( 'memory' ), w.Callbacks( 'memory' ), 2], ['resolve', 'done', w.Callbacks( 'once memory' ), w.Callbacks( 'once memory' ), 0, 'resolved'], ['reject', 'fail', w.Callbacks( 'once memory' ), w.Callbacks( 'once memory' ), 1, 'rejected']], i='pending', o={ state: function() {return i}, always: function() {return s.done( arguments ).fail( arguments ), this}, catch: function( t ) {return o.then( null, t )}, pipe: function() {var t=arguments; return w.Deferred( ( function( e ) {w.each( n, ( function( n, i ) {var o=f( t[i[4]] )&&t[i[4]]; s[i[1]]( ( function() {var t=o&&o.apply( this, arguments ); t&&f( t.promise )?t.promise().progress( e.notify ).done( e.resolve ).fail( e.reject ):e[i[0]+'With']( this, o?[t]:arguments )} ) )} ) ), t=null} ) ).promise()}, then: function( e, i, o ) {
        var s=0; function r( e, n, i, o ) {
          return function() {
            var a=this, c=arguments, l=function() {var t, l; if( !( e<s ) ) {if( ( t=i.apply( a, c ) )===n.promise() ) {throw new TypeError( 'Thenable self-resolution' )}l=t&&( 'object'==typeof t||'function'==typeof t )&&t.then, f( l )?o?l.call( t, r( s, n, z, o ), r( s, n, B, o ) ):( s++, l.call( t, r( s, n, z, o ), r( s, n, B, o ), r( s, n, z, n.notifyWith ) ) ):( i!==z&&( a=void 0, c=[t] ), ( o||n.resolveWith )( a, c ) )}}, u=o?l:function() {
              try{l()}
              catch( t ) {w.Deferred.exceptionHook&&w.Deferred.exceptionHook( t, u.stackTrace ), s<=e+1&&( i!==B&&( a=void 0, c=[t] ), n.rejectWith( a, c ) )}
            }; e?u():( w.Deferred.getStackHook&&( u.stackTrace=w.Deferred.getStackHook() ), t.setTimeout( u ) );
          };
        }return w.Deferred( ( function( t ) {n[0][3].add( r( 0, t, f( o )?o:z, t.notifyWith ) ), n[1][3].add( r( 0, t, f( e )?e:z ) ), n[2][3].add( r( 0, t, f( i )?i:B ) )} ) ).promise();
      }, promise: function( t ) {return null!=t?w.extend( t, o ):o} }, s={}; return w.each( n, ( function( t, e ) {var r=e[2], a=e[5]; o[e[1]]=r.add, a&&r.add( ( function() {i=a} ), n[3-t][2].disable, n[3-t][3].disable, n[0][2].lock, n[0][3].lock ), r.add( e[3].fire ), s[e[0]]=function() {return s[e[0]+'With']( this===s?void 0:this, arguments ), this}, s[e[0]+'With']=r.fireWith} ) ), o.promise( s ), e&&e.call( s, s ), s;
  }, when: function( t ) {var e=arguments.length, n=e, i=Array( n ), s=o.call( arguments ), r=w.Deferred(), a=function( t ) {return function( n ) {i[t]=this, s[t]=1<arguments.length?o.call( arguments ):n, --e||r.resolveWith( i, s )}}; if( e<=1&&( D( t, r.done( a( n ) ).resolve, r.reject, !e ), 'pending'===r.state()||f( s[n]&&s[n].then ) ) ) {return r.then()}for( ;n--; ) {D( s[n], a( n ), r.reject )}return r.promise()} } ); var R=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/; w.Deferred.exceptionHook=function( e, n ) {t.console&&t.console.warn&&e&&R.test( e.name )&&t.console.warn( 'jQuery.Deferred exception: '+e.message, e.stack, n )}, w.readyException=function( e ) {t.setTimeout( ( function() {throw e} ) )}; var Z=w.Deferred(); function j() {g.removeEventListener( 'DOMContentLoaded', j ), t.removeEventListener( 'load', j ), w.ready()}w.fn.ready=function( t ) {return Z.then( t ).catch( ( function( t ) {w.readyException( t )} ) ), this}, w.extend( { isReady: !1, readyWait: 1, ready: function( t ) {( !0===t?--w.readyWait:w.isReady )||( w.isReady=!0 )!==t&&0<--w.readyWait||Z.resolveWith( g, [w] )} } ), w.ready.then=Z.then, 'complete'===g.readyState||'loading'!==g.readyState&&!g.documentElement.doScroll?t.setTimeout( w.ready ):( g.addEventListener( 'DOMContentLoaded', j ), t.addEventListener( 'load', j ) ); var F=function( t, e, n, i, o, s, r ) {
      var a=0, c=t.length, l=null==n; if( 'object'===y( n ) ) {for( a in o=!0, n ) {F( t, e, a, n[a], !0, s, r )}}
      else if( void 0!==i&&( o=!0, f( i )||( r=!0 ), l&&( r?( e.call( t, i ), e=null ):( l=e, e=function( t, e, n ) {return l.call( w( t ), n )} ) ), e ) ) {for( ;a<c; a++ ) {e( t[a], n, r?i:i.call( t[a], a, e( t[a], n ) ) )}}return o?t:l?e.call( t ):c?e( t[0], n ):s;
    }, H=/^-ms-/, q=/-([a-z])/g; function U( t, e ) {return e.toUpperCase()}function W( t ) {return t.replace( H, 'ms-' ).replace( q, U )}var $=function( t ) {return 1===t.nodeType||9===t.nodeType||!+t.nodeType}; function G() {this.expando=w.expando+G.uid++}G.uid=1, G.prototype={ cache: function( t ) {var e=t[this.expando]; return e||( e={}, $( t )&&( t.nodeType?t[this.expando]=e:Object.defineProperty( t, this.expando, { value: e, configurable: !0 } ) ) ), e}, set: function( t, e, n ) {
    var i, o=this.cache( t ); if( 'string'==typeof e ) {o[W( e )]=n}
    else {for( i in e ) {o[W( i )]=e[i]}}return o;
  }, get: function( t, e ) {return void 0===e?this.cache( t ):t[this.expando]&&t[this.expando][W( e )]}, access: function( t, e, n ) {return void 0===e||e&&'string'==typeof e&&void 0===n?this.get( t, e ):( this.set( t, e, n ), void 0!==n?n:e )}, remove: function( t, e ) {var n, i=t[this.expando]; if( void 0!==i ) {if( void 0!==e ) {n=( e=Array.isArray( e )?e.map( W ):( e=W( e ) )in i?[e]:e.match( I )||[] ).length; for( ;n--; ) {delete i[e[n]]}}( void 0===e||w.isEmptyObject( i ) )&&( t.nodeType?t[this.expando]=void 0:delete t[this.expando] )}}, hasData: function( t ) {var e=t[this.expando]; return void 0!==e&&!w.isEmptyObject( e )} }; var Y=new G, Q=new G, J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/, K=/[A-Z]/g; function X( t, e, n ) {
    var i, o; if( void 0===n&&1===t.nodeType ) {
      if( i='data-'+e.replace( K, '-$&' ).toLowerCase(), 'string'==typeof( n=t.getAttribute( i ) ) ) {
        try{n='true'===( o=n )||'false'!==o&&( 'null'===o?null:o===+o+''?+o:J.test( o )?JSON.parse( o ):o )}
        catch( t ) {}Q.set( t, e, n );
      }
      else {n=void 0}
    }return n;
  }w.extend( { hasData: function( t ) {return Q.hasData( t )||Y.hasData( t )}, data: function( t, e, n ) {return Q.access( t, e, n )}, removeData: function( t, e ) {Q.remove( t, e )}, _data: function( t, e, n ) {return Y.access( t, e, n )}, _removeData: function( t, e ) {Y.remove( t, e )} } ), w.fn.extend( { data: function( t, e ) {var n, i, o, s=this[0], r=s&&s.attributes; if( void 0===t ) {if( this.length&&( o=Q.get( s ), 1===s.nodeType&&!Y.get( s, 'hasDataAttrs' ) ) ) {for( n=r.length; n--; ) {r[n]&&0===( i=r[n].name ).indexOf( 'data-' )&&( i=W( i.slice( 5 ) ), X( s, i, o[i] ) )}Y.set( s, 'hasDataAttrs', !0 )}return o}return'object'==typeof t?this.each( ( function() {Q.set( this, t )} ) ):F( this, ( function( e ) {var n; if( s&&void 0===e ) {return void 0!==( n=Q.get( s, t ) )||void 0!==( n=X( s, t ) )?n:void 0}this.each( ( function() {Q.set( this, t, e )} ) )} ), null, e, 1<arguments.length, null, !0 )}, removeData: function( t ) {return this.each( ( function() {Q.remove( this, t )} ) )} } ), w.extend( { queue: function( t, e, n ) {var i; if( t ) {return e=( e||'fx' )+'queue', i=Y.get( t, e ), n&&( !i||Array.isArray( n )?i=Y.access( t, e, w.makeArray( n ) ):i.push( n ) ), i||[]}}, dequeue: function( t, e ) {e=e||'fx'; var n=w.queue( t, e ), i=n.length, o=n.shift(), s=w._queueHooks( t, e ); 'inprogress'===o&&( o=n.shift(), i-- ), o&&( 'fx'===e&&n.unshift( 'inprogress' ), delete s.stop, o.call( t, ( function() {w.dequeue( t, e )} ), s ) ), !i&&s&&s.empty.fire()}, _queueHooks: function( t, e ) {var n=e+'queueHooks'; return Y.get( t, n )||Y.access( t, n, { empty: w.Callbacks( 'once memory' ).add( ( function() {Y.remove( t, [e+'queue', n] )} ) ) } )} } ), w.fn.extend( { queue: function( t, e ) {var n=2; return'string'!=typeof t&&( e=t, t='fx', n-- ), arguments.length<n?w.queue( this[0], t ):void 0===e?this:this.each( ( function() {var n=w.queue( this, t, e ); w._queueHooks( this, t ), 'fx'===t&&'inprogress'!==n[0]&&w.dequeue( this, t )} ) )}, dequeue: function( t ) {return this.each( ( function() {w.dequeue( this, t )} ) )}, clearQueue: function( t ) {return this.queue( t||'fx', [] )}, promise: function( t, e ) {var n, i=1, o=w.Deferred(), s=this, r=this.length, a=function() {--i||o.resolveWith( s, [s] )}; for( 'string'!=typeof t&&( e=t, t=void 0 ), t=t||'fx'; r--; ) {( n=Y.get( s[r], t+'queueHooks' ) )&&n.empty&&( i++, n.empty.add( a ) )}return a(), o.promise( e )} } ); var tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source, et=new RegExp( '^(?:([+-])=|)('+tt+')([a-z%]*)$', 'i' ), nt=['Top', 'Right', 'Bottom', 'Left'], it=g.documentElement, ot=function( t ) {return w.contains( t.ownerDocument, t )}, st={ composed: !0 }; it.getRootNode&&( ot=function( t ) {return w.contains( t.ownerDocument, t )||t.getRootNode( st )===t.ownerDocument} ); var rt=function( t, e ) {return'none'===( t=e||t ).style.display||''===t.style.display&&ot( t )&&'none'===w.css( t, 'display' )}, at={}; function ct( t, e ) {for( var n, i, o, s, r, a, c, l=[], u=0, h=t.length; u<h; u++ ) {( i=t[u] ).style&&( n=i.style.display, e?( 'none'===n&&( l[u]=Y.get( i, 'display' )||null, l[u]||( i.style.display='' ) ), ''===i.style.display&&rt( i )&&( l[u]=( c=r=s=void 0, r=( o=i ).ownerDocument, a=o.nodeName, ( c=at[a] )||( s=r.body.appendChild( r.createElement( a ) ), c=w.css( s, 'display' ), s.parentNode.removeChild( s ), 'none'===c&&( c='block' ), at[a]=c ) ) ) ):'none'!==n&&( l[u]='none', Y.set( i, 'display', n ) ) )}for( u=0; u<h; u++ ) {null!=l[u]&&( t[u].style.display=l[u] )}return t}w.fn.extend( { show: function() {return ct( this, !0 )}, hide: function() {return ct( this )}, toggle: function( t ) {return'boolean'==typeof t?t?this.show():this.hide():this.each( ( function() {rt( this )?w( this ).show():w( this ).hide()} ) )} } ); var lt, ut, ht=/^(?:checkbox|radio)$/i, dt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i, pt=/^$|^module$|\/(?:java|ecma)script/i; lt=g.createDocumentFragment().appendChild( g.createElement( 'div' ) ), ( ut=g.createElement( 'input' ) ).setAttribute( 'type', 'radio' ), ut.setAttribute( 'checked', 'checked' ), ut.setAttribute( 'name', 't' ), lt.appendChild( ut ), p.checkClone=lt.cloneNode( !0 ).cloneNode( !0 ).lastChild.checked, lt.innerHTML='<textarea>x</textarea>', p.noCloneChecked=!!lt.cloneNode( !0 ).lastChild.defaultValue, lt.innerHTML='<option></option>', p.option=!!lt.lastChild; var ft={ thead: [1, '<table>', '</table>'], col: [2, '<table><colgroup>', '</colgroup></table>'], tr: [2, '<table><tbody>', '</tbody></table>'], td: [3, '<table><tbody><tr>', '</tr></tbody></table>'], _default: [0, '', ''] }; function mt( t, e ) {var n; return n=void 0!==t.getElementsByTagName?t.getElementsByTagName( e||'*' ):void 0!==t.querySelectorAll?t.querySelectorAll( e||'*' ):[], void 0===e||e&&L( t, e )?w.merge( [t], n ):n}function gt( t, e ) {for( var n=0, i=t.length; n<i; n++ ) {Y.set( t[n], 'globalEval', !e||Y.get( e[n], 'globalEval' ) )}}ft.tbody=ft.tfoot=ft.colgroup=ft.caption=ft.thead, ft.th=ft.td, p.option||( ft.optgroup=ft.option=[1, '<select multiple=\'multiple\'>', '</select>'] ); var _t=/<|&#?\w+;/; function vt( t, e, n, i, o ) {
    for( var s, r, a, c, l, u, h=e.createDocumentFragment(), d=[], p=0, f=t.length; p<f; p++ ) {
      if( ( s=t[p] )||0===s ) {
        if( 'object'===y( s ) ) {w.merge( d, s.nodeType?[s]:s )}
        else if( _t.test( s ) ) {for( r=r||h.appendChild( e.createElement( 'div' ) ), a=( dt.exec( s )||['', ''] )[1].toLowerCase(), c=ft[a]||ft._default, r.innerHTML=c[1]+w.htmlPrefilter( s )+c[2], u=c[0]; u--; ) {r=r.lastChild}w.merge( d, r.childNodes ), ( r=h.firstChild ).textContent=''}
        else {d.push( e.createTextNode( s ) )}
      }
    }for( h.textContent='', p=0; s=d[p++]; ) {
      if( i&&-1<w.inArray( s, i ) ) {o&&o.push( s )}
      else if( l=ot( s ), r=mt( h.appendChild( s ), 'script' ), l&&gt( r ), n ) {for( u=0; s=r[u++]; ) {pt.test( s.type||'' )&&n.push( s )}}
    }return h;
  }var yt=/^([^.]*)(?:\.(.+)|)/; function bt() {return!0}function wt() {return!1}function xt( t, e ) {
    return t===function() {
      try{return g.activeElement}
      catch( t ) {}
    }()==( 'focus'===e );
  }function Ct( t, e, n, i, o, s ) {
    var r, a; if( 'object'==typeof e ) {for( a in'string'!=typeof n&&( i=i||n, n=void 0 ), e ) {Ct( t, a, n, i, e[a], s )}return t}if( null==i&&null==o?( o=n, i=n=void 0 ):null==o&&( 'string'==typeof n?( o=i, i=void 0 ):( o=i, i=n, n=void 0 ) ), !1===o ) {o=wt}
    else if( !o ) {return t}return 1===s&&( r=o, ( o=function( t ) {return w().off( t ), r.apply( this, arguments )} ).guid=r.guid||( r.guid=w.guid++ ) ), t.each( ( function() {w.event.add( this, e, o, i, n )} ) );
  }function St( t, e, n ) {
    n?( Y.set( t, e, !1 ), w.event.add( t, e, { namespace: !1, handler: function( t ) {
      var i, s, r=Y.get( this, e ); if( 1&t.isTrigger&&this[e] ) {
        if( r.length ) {( w.event.special[e]||{} ).delegateType&&t.stopPropagation()}
        else if( r=o.call( arguments ), Y.set( this, e, r ), i=n( this, e ), this[e](), r!==( s=Y.get( this, e ) )||i?Y.set( this, e, !1 ):s={}, r!==s ) {return t.stopImmediatePropagation(), t.preventDefault(), s&&s.value}
      }
      else {r.length&&( Y.set( this, e, { value: w.event.trigger( w.extend( r[0], w.Event.prototype ), r.slice( 1 ), this ) } ), t.stopImmediatePropagation() )}
    } } ) ):void 0===Y.get( t, e )&&w.event.add( t, e, bt );
  }w.event={ global: {}, add: function( t, e, n, i, o ) {var s, r, a, c, l, u, h, d, p, f, m, g=Y.get( t ); if( $( t ) ) {for( n.handler&&( n=( s=n ).handler, o=s.selector ), o&&w.find.matchesSelector( it, o ), n.guid||( n.guid=w.guid++ ), ( c=g.events )||( c=g.events=Object.create( null ) ), ( r=g.handle )||( r=g.handle=function( e ) {return void 0!==w&&w.event.triggered!==e.type?w.event.dispatch.apply( t, arguments ):void 0} ), l=( e=( e||'' ).match( I )||[''] ).length; l--; ) {p=m=( a=yt.exec( e[l] )||[] )[1], f=( a[2]||'' ).split( '.' ).sort(), p&&( h=w.event.special[p]||{}, p=( o?h.delegateType:h.bindType )||p, h=w.event.special[p]||{}, u=w.extend( { type: p, origType: m, data: i, handler: n, guid: n.guid, selector: o, needsContext: o&&w.expr.match.needsContext.test( o ), namespace: f.join( '.' ) }, s ), ( d=c[p] )||( ( d=c[p]=[] ).delegateCount=0, h.setup&&!1!==h.setup.call( t, i, f, r )||t.addEventListener&&t.addEventListener( p, r ) ), h.add&&( h.add.call( t, u ), u.handler.guid||( u.handler.guid=n.guid ) ), o?d.splice( d.delegateCount++, 0, u ):d.push( u ), w.event.global[p]=!0 )}}}, remove: function( t, e, n, i, o ) {
    var s, r, a, c, l, u, h, d, p, f, m, g=Y.hasData( t )&&Y.get( t ); if( g&&( c=g.events ) ) {
      for( l=( e=( e||'' ).match( I )||[''] ).length; l--; ) {
        if( p=m=( a=yt.exec( e[l] )||[] )[1], f=( a[2]||'' ).split( '.' ).sort(), p ) {for( h=w.event.special[p]||{}, d=c[p=( i?h.delegateType:h.bindType )||p]||[], a=a[2]&&new RegExp( '(^|\\.)'+f.join( '\\.(?:.*\\.|)' )+'(\\.|$)' ), r=s=d.length; s--; ) {u=d[s], !o&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test( u.namespace )||i&&i!==u.selector&&( '**'!==i||!u.selector )||( d.splice( s, 1 ), u.selector&&d.delegateCount--, h.remove&&h.remove.call( t, u ) )}r&&!d.length&&( h.teardown&&!1!==h.teardown.call( t, f, g.handle )||w.removeEvent( t, p, g.handle ), delete c[p] )}
        else {for( p in c ) {w.event.remove( t, p+e[l], n, i, !0 )}}
      }w.isEmptyObject( c )&&Y.remove( t, 'handle events' );
    }
  }, dispatch: function( t ) {var e, n, i, o, s, r, a=new Array( arguments.length ), c=w.event.fix( t ), l=( Y.get( this, 'events' )||Object.create( null ) )[c.type]||[], u=w.event.special[c.type]||{}; for( a[0]=c, e=1; e<arguments.length; e++ ) {a[e]=arguments[e]}if( c.delegateTarget=this, !u.preDispatch||!1!==u.preDispatch.call( this, c ) ) {for( r=w.event.handlers.call( this, c, l ), e=0; ( o=r[e++] )&&!c.isPropagationStopped(); ) {for( c.currentTarget=o.elem, n=0; ( s=o.handlers[n++] )&&!c.isImmediatePropagationStopped(); ) {c.rnamespace&&!1!==s.namespace&&!c.rnamespace.test( s.namespace )||( c.handleObj=s, c.data=s.data, void 0!==( i=( ( w.event.special[s.origType]||{} ).handle||s.handler ).apply( o.elem, a ) )&&!1===( c.result=i )&&( c.preventDefault(), c.stopPropagation() ) )}}return u.postDispatch&&u.postDispatch.call( this, c ), c.result}}, handlers: function( t, e ) {var n, i, o, s, r, a=[], c=e.delegateCount, l=t.target; if( c&&l.nodeType&&!( 'click'===t.type&&1<=t.button ) ) {for( ;l!==this; l=l.parentNode||this ) {if( 1===l.nodeType&&( 'click'!==t.type||!0!==l.disabled ) ) {for( s=[], r={}, n=0; n<c; n++ ) {void 0===r[o=( i=e[n] ).selector+' ']&&( r[o]=i.needsContext?-1<w( o, this ).index( l ):w.find( o, this, null, [l] ).length ), r[o]&&s.push( i )}s.length&&a.push( { elem: l, handlers: s } )}}}return l=this, c<e.length&&a.push( { elem: l, handlers: e.slice( c ) } ), a}, addProp: function( t, e ) {Object.defineProperty( w.Event.prototype, t, { enumerable: !0, configurable: !0, get: f( e )?function() {if( this.originalEvent ) {return e( this.originalEvent )}}:function() {if( this.originalEvent ) {return this.originalEvent[t]}}, set: function( e ) {Object.defineProperty( this, t, { enumerable: !0, configurable: !0, writable: !0, value: e } )} } )}, fix: function( t ) {return t[w.expando]?t:new w.Event( t )}, special: { load: { noBubble: !0 }, click: { setup: function( t ) {var e=this||t; return ht.test( e.type )&&e.click&&L( e, 'input' )&&St( e, 'click', bt ), !1}, trigger: function( t ) {var e=this||t; return ht.test( e.type )&&e.click&&L( e, 'input' )&&St( e, 'click' ), !0}, _default: function( t ) {var e=t.target; return ht.test( e.type )&&e.click&&L( e, 'input' )&&Y.get( e, 'click' )||L( e, 'a' )} }, beforeunload: { postDispatch: function( t ) {void 0!==t.result&&t.originalEvent&&( t.originalEvent.returnValue=t.result )} } } }, w.removeEvent=function( t, e, n ) {t.removeEventListener&&t.removeEventListener( e, n )}, w.Event=function( t, e ) {if( !( this instanceof w.Event ) ) {return new w.Event( t, e )}t&&t.type?( this.originalEvent=t, this.type=t.type, this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?bt:wt, this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target, this.currentTarget=t.currentTarget, this.relatedTarget=t.relatedTarget ):this.type=t, e&&w.extend( this, e ), this.timeStamp=t&&t.timeStamp||Date.now(), this[w.expando]=!0}, w.Event.prototype={ constructor: w.Event, isDefaultPrevented: wt, isPropagationStopped: wt, isImmediatePropagationStopped: wt, isSimulated: !1, preventDefault: function() {var t=this.originalEvent; this.isDefaultPrevented=bt, t&&!this.isSimulated&&t.preventDefault()}, stopPropagation: function() {var t=this.originalEvent; this.isPropagationStopped=bt, t&&!this.isSimulated&&t.stopPropagation()}, stopImmediatePropagation: function() {var t=this.originalEvent; this.isImmediatePropagationStopped=bt, t&&!this.isSimulated&&t.stopImmediatePropagation(), this.stopPropagation()} }, w.each( { altKey: !0, bubbles: !0, cancelable: !0, changedTouches: !0, ctrlKey: !0, detail: !0, eventPhase: !0, metaKey: !0, pageX: !0, pageY: !0, shiftKey: !0, view: !0, char: !0, code: !0, charCode: !0, key: !0, keyCode: !0, button: !0, buttons: !0, clientX: !0, clientY: !0, offsetX: !0, offsetY: !0, pointerId: !0, pointerType: !0, screenX: !0, screenY: !0, targetTouches: !0, toElement: !0, touches: !0, which: !0 }, w.event.addProp ), w.each( { focus: 'focusin', blur: 'focusout' }, ( function( t, e ) {w.event.special[t]={ setup: function() {return St( this, t, xt ), !1}, trigger: function() {return St( this, t ), !0}, _default: function() {return!0}, delegateType: e }} ) ), w.each( { mouseenter: 'mouseover', mouseleave: 'mouseout', pointerenter: 'pointerover', pointerleave: 'pointerout' }, ( function( t, e ) {w.event.special[t]={ delegateType: e, bindType: e, handle: function( t ) {var n, i=t.relatedTarget, o=t.handleObj; return i&&( i===this||w.contains( this, i ) )||( t.type=o.origType, n=o.handler.apply( this, arguments ), t.type=e ), n} }} ) ), w.fn.extend( { on: function( t, e, n, i ) {return Ct( this, t, e, n, i )}, one: function( t, e, n, i ) {return Ct( this, t, e, n, i, 1 )}, off: function( t, e, n ) {var i, o; if( t&&t.preventDefault&&t.handleObj ) {return i=t.handleObj, w( t.delegateTarget ).off( i.namespace?i.origType+'.'+i.namespace:i.origType, i.selector, i.handler ), this}if( 'object'==typeof t ) {for( o in t ) {this.off( o, e, t[o] )}return this}return!1!==e&&'function'!=typeof e||( n=e, e=void 0 ), !1===n&&( n=wt ), this.each( ( function() {w.event.remove( this, t, n, e )} ) )} } ); var Pt=/<script|<style|<link/i, Tt=/checked\s*(?:[^=]|=\s*.checked.)/i, Lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g; function Vt( t, e ) {return L( t, 'table' )&&L( 11!==e.nodeType?e:e.firstChild, 'tr' )&&w( t ).children( 'tbody' )[0]||t}function kt( t ) {return t.type=( null!==t.getAttribute( 'type' ) )+'/'+t.type, t}function Nt( t ) {return'true/'===( t.type||'' ).slice( 0, 5 )?t.type=t.type.slice( 5 ):t.removeAttribute( 'type' ), t}function Mt( t, e ) {var n, i, o, s, r, a; if( 1===e.nodeType ) {if( Y.hasData( t )&&( a=Y.get( t ).events ) ) {for( o in Y.remove( e, 'handle events' ), a ) {for( n=0, i=a[o].length; n<i; n++ ) {w.event.add( e, o, a[o][n] )}}}Q.hasData( t )&&( s=Q.access( t ), r=w.extend( {}, s ), Q.set( e, r ) )}}function Et( t, e, n, i ) {e=s( e ); var o, r, a, c, l, u, h=0, d=t.length, m=d-1, g=e[0], _=f( g ); if( _||1<d&&'string'==typeof g&&!p.checkClone&&Tt.test( g ) ) {return t.each( ( function( o ) {var s=t.eq( o ); _&&( e[0]=g.call( this, o, s.html() ) ), Et( s, e, n, i )} ) )}if( d&&( r=( o=vt( e, t[0].ownerDocument, !1, t, i ) ).firstChild, 1===o.childNodes.length&&( o=r ), r||i ) ) {for( c=( a=w.map( mt( o, 'script' ), kt ) ).length; h<d; h++ ) {l=o, h!==m&&( l=w.clone( l, !0, !0 ), c&&w.merge( a, mt( l, 'script' ) ) ), n.call( t[h], l, h )}if( c ) {for( u=a[a.length-1].ownerDocument, w.map( a, Nt ), h=0; h<c; h++ ) {l=a[h], pt.test( l.type||'' )&&!Y.access( l, 'globalEval' )&&w.contains( u, l )&&( l.src&&'module'!==( l.type||'' ).toLowerCase()?w._evalUrl&&!l.noModule&&w._evalUrl( l.src, { nonce: l.nonce||l.getAttribute( 'nonce' ) }, u ):v( l.textContent.replace( Lt, '' ), l, u ) )}}}return t}function At( t, e, n ) {for( var i, o=e?w.filter( e, t ):t, s=0; null!=( i=o[s] ); s++ ) {n||1!==i.nodeType||w.cleanData( mt( i ) ), i.parentNode&&( n&&ot( i )&&gt( mt( i, 'script' ) ), i.parentNode.removeChild( i ) )}return t}w.extend( { htmlPrefilter: function( t ) {return t}, clone: function( t, e, n ) {
    var i, o, s, r, a, c, l, u=t.cloneNode( !0 ), h=ot( t ); if( !( p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||w.isXMLDoc( t ) ) ) {for( r=mt( u ), i=0, o=( s=mt( t ) ).length; i<o; i++ ) {a=s[i], 'input'===( l=( c=r[i] ).nodeName.toLowerCase() )&&ht.test( a.type )?c.checked=a.checked:'input'!==l&&'textarea'!==l||( c.defaultValue=a.defaultValue )}}if( e ) {
      if( n ) {for( s=s||mt( t ), r=r||mt( u ), i=0, o=s.length; i<o; i++ ) {Mt( s[i], r[i] )}}
      else {Mt( t, u )}
    }return 0<( r=mt( u, 'script' ) ).length&&gt( r, !h&&mt( t, 'script' ) ), u;
  }, cleanData: function( t ) {for( var e, n, i, o=w.event.special, s=0; void 0!==( n=t[s] ); s++ ) {if( $( n ) ) {if( e=n[Y.expando] ) {if( e.events ) {for( i in e.events ) {o[i]?w.event.remove( n, i ):w.removeEvent( n, i, e.handle )}}n[Y.expando]=void 0}n[Q.expando]&&( n[Q.expando]=void 0 )}}} } ), w.fn.extend( { detach: function( t ) {return At( this, t, !0 )}, remove: function( t ) {return At( this, t )}, text: function( t ) {return F( this, ( function( t ) {return void 0===t?w.text( this ):this.empty().each( ( function() {1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||( this.textContent=t )} ) )} ), null, t, arguments.length )}, append: function() {return Et( this, arguments, ( function( t ) {1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Vt( this, t ).appendChild( t )} ) )}, prepend: function() {return Et( this, arguments, ( function( t ) {if( 1===this.nodeType||11===this.nodeType||9===this.nodeType ) {var e=Vt( this, t ); e.insertBefore( t, e.firstChild )}} ) )}, before: function() {return Et( this, arguments, ( function( t ) {this.parentNode&&this.parentNode.insertBefore( t, this )} ) )}, after: function() {return Et( this, arguments, ( function( t ) {this.parentNode&&this.parentNode.insertBefore( t, this.nextSibling )} ) )}, empty: function() {for( var t, e=0; null!=( t=this[e] ); e++ ) {1===t.nodeType&&( w.cleanData( mt( t, !1 ) ), t.textContent='' )}return this}, clone: function( t, e ) {return t=null!=t&&t, e=null==e?t:e, this.map( ( function() {return w.clone( this, t, e )} ) )}, html: function( t ) {
    return F( this, ( function( t ) {
      var e=this[0]||{}, n=0, i=this.length; if( void 0===t&&1===e.nodeType ) {return e.innerHTML}if( 'string'==typeof t&&!Pt.test( t )&&!ft[( dt.exec( t )||['', ''] )[1].toLowerCase()] ) {
        t=w.htmlPrefilter( t ); try{for( ;n<i; n++ ) {1===( e=this[n]||{} ).nodeType&&( w.cleanData( mt( e, !1 ) ), e.innerHTML=t )}e=0}
        catch( t ) {}
      }e&&this.empty().append( t );
    } ), null, t, arguments.length );
  }, replaceWith: function() {var t=[]; return Et( this, arguments, ( function( e ) {var n=this.parentNode; w.inArray( this, t )<0&&( w.cleanData( mt( this ) ), n&&n.replaceChild( e, this ) )} ), t )} } ), w.each( { appendTo: 'append', prependTo: 'prepend', insertBefore: 'before', insertAfter: 'after', replaceAll: 'replaceWith' }, ( function( t, e ) {w.fn[t]=function( t ) {for( var n, i=[], o=w( t ), s=o.length-1, a=0; a<=s; a++ ) {n=a===s?this:this.clone( !0 ), w( o[a] )[e]( n ), r.apply( i, n.get() )}return this.pushStack( i )}} ) ); var Ot=new RegExp( '^('+tt+')(?!px)[a-z%]+$', 'i' ), It=function( e ) {var n=e.ownerDocument.defaultView; return n&&n.opener||( n=t ), n.getComputedStyle( e )}, zt=function( t, e, n ) {var i, o, s={}; for( o in e ) {s[o]=t.style[o], t.style[o]=e[o]}for( o in i=n.call( t ), e ) {t.style[o]=s[o]}return i}, Bt=new RegExp( nt.join( '|' ), 'i' ); function Dt( t, e, n ) {var i, o, s, r, a=t.style; return( n=n||It( t ) )&&( ''!==( r=n.getPropertyValue( e )||n[e] )||ot( t )||( r=w.style( t, e ) ), !p.pixelBoxStyles()&&Ot.test( r )&&Bt.test( e )&&( i=a.width, o=a.minWidth, s=a.maxWidth, a.minWidth=a.maxWidth=a.width=r, r=n.width, a.width=i, a.minWidth=o, a.maxWidth=s ) ), void 0!==r?r+'':r}function Rt( t, e ) {return{ get: function() {if( !t() ) {return( this.get=e ).apply( this, arguments )}delete this.get} }}!function() {function e() {if( u ) {l.style.cssText='position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0', u.style.cssText='position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%', it.appendChild( l ).appendChild( u ); var e=t.getComputedStyle( u ); i='1%'!==e.top, c=12===n( e.marginLeft ), u.style.right='60%', r=36===n( e.right ), o=36===n( e.width ), u.style.position='absolute', s=12===n( u.offsetWidth/3 ), it.removeChild( l ), u=null}}function n( t ) {return Math.round( parseFloat( t ) )}var i, o, s, r, a, c, l=g.createElement( 'div' ), u=g.createElement( 'div' ); u.style&&( u.style.backgroundClip='content-box', u.cloneNode( !0 ).style.backgroundClip='', p.clearCloneStyle='content-box'===u.style.backgroundClip, w.extend( p, { boxSizingReliable: function() {return e(), o}, pixelBoxStyles: function() {return e(), r}, pixelPosition: function() {return e(), i}, reliableMarginLeft: function() {return e(), c}, scrollboxSize: function() {return e(), s}, reliableTrDimensions: function() {var e, n, i, o; return null==a&&( e=g.createElement( 'table' ), n=g.createElement( 'tr' ), i=g.createElement( 'div' ), e.style.cssText='position:absolute;left:-11111px;border-collapse:separate', n.style.cssText='border:1px solid', n.style.height='1px', i.style.height='9px', i.style.display='block', it.appendChild( e ).appendChild( n ).appendChild( i ), o=t.getComputedStyle( n ), a=parseInt( o.height, 10 )+parseInt( o.borderTopWidth, 10 )+parseInt( o.borderBottomWidth, 10 )===n.offsetHeight, it.removeChild( e ) ), a} } ) )}(); var Zt=['Webkit', 'Moz', 'ms'], jt=g.createElement( 'div' ).style, Ft={}; function Ht( t ) {return w.cssProps[t]||Ft[t]||( t in jt?t:Ft[t]=function( t ) {for( var e=t[0].toUpperCase()+t.slice( 1 ), n=Zt.length; n--; ) {if( ( t=Zt[n]+e )in jt ) {return t}}}( t )||t )}var qt, Ut, Wt=/^(none|table(?!-c[ea]).+)/, $t=/^--/, Gt={ position: 'absolute', visibility: 'hidden', display: 'block' }, Yt={ letterSpacing: '0', fontWeight: '400' }; function Qt( t, e, n ) {var i=et.exec( e ); return i?Math.max( 0, i[2]-( n||0 ) )+( i[3]||'px' ):e}function Jt( t, e, n, i, o, s ) {var r='width'===e?1:0, a=0, c=0; if( n===( i?'border':'content' ) ) {return 0}for( ;r<4; r+=2 ) {'margin'===n&&( c+=w.css( t, n+nt[r], !0, o ) ), i?( 'content'===n&&( c-=w.css( t, 'padding'+nt[r], !0, o ) ), 'margin'!==n&&( c-=w.css( t, 'border'+nt[r]+'Width', !0, o ) ) ):( c+=w.css( t, 'padding'+nt[r], !0, o ), 'padding'!==n?c+=w.css( t, 'border'+nt[r]+'Width', !0, o ):a+=w.css( t, 'border'+nt[r]+'Width', !0, o ) )} return!i&&0<=s&&( c+=Math.max( 0, Math.ceil( t['offset'+e[0].toUpperCase()+e.slice( 1 )]-s-c-a-0.5 ) )||0 ), c}function Kt( t, e, n ) {var i=It( t ), o=( !p.boxSizingReliable()||n )&&'border-box'===w.css( t, 'boxSizing', !1, i ), s=o, r=Dt( t, e, i ), a='offset'+e[0].toUpperCase()+e.slice( 1 ); if( Ot.test( r ) ) {if( !n ) {return r}r='auto'}return( !p.boxSizingReliable()&&o||!p.reliableTrDimensions()&&L( t, 'tr' )||'auto'===r||!parseFloat( r )&&'inline'===w.css( t, 'display', !1, i ) )&&t.getClientRects().length&&( o='border-box'===w.css( t, 'boxSizing', !1, i ), ( s=a in t )&&( r=t[a] ) ), ( r=parseFloat( r )||0 )+Jt( t, e, n||( o?'border':'content' ), s, i, r )+'px'}w.extend( { cssHooks: { opacity: { get: function( t, e ) {if( e ) {var n=Dt( t, 'opacity' ); return''===n?'1':n}} } }, cssNumber: { animationIterationCount: !0, columnCount: !0, fillOpacity: !0, flexGrow: !0, flexShrink: !0, fontWeight: !0, gridArea: !0, gridColumn: !0, gridColumnEnd: !0, gridColumnStart: !0, gridRow: !0, gridRowEnd: !0, gridRowStart: !0, lineHeight: !0, opacity: !0, order: !0, orphans: !0, widows: !0, zIndex: !0, zoom: !0 }, cssProps: {}, style: function( t, e, n, i ) {if( t&&3!==t.nodeType&&8!==t.nodeType&&t.style ) {var o, s, r, a=W( e ), c=$t.test( e ), l=t.style; if( c||( e=Ht( a ) ), r=w.cssHooks[e]||w.cssHooks[a], void 0===n ) {return r&&'get'in r&&void 0!==( o=r.get( t, !1, i ) )?o:l[e]}'string'==( s=typeof n )&&( o=et.exec( n ) )&&o[1]&&( n=function( t, e, n, i ) {var o, s, r=20, a=function() {return w.css( t, e, '' )}, c=a(), l=n&&n[3]||( w.cssNumber[e]?'':'px' ), u=t.nodeType&&( w.cssNumber[e]||'px'!==l&&+c )&&et.exec( w.css( t, e ) ); if( u&&u[3]!==l ) {for( c/=2, l=l||u[3], u=+c||1; r--; ) {w.style( t, e, u+l ), ( 1-s )*( 1-( s=a()/c||0.5 ) )<=0&&( r=0 ), u/=s}u*=2, w.style( t, e, u+l ), n=n||[]}return n&&( u=+u||+c||0, o=n[1]?u+( n[1]+1 )*n[2]:+n[2] ), o}( t, e, o ), s='number' ), null!=n&&n==n&&( 'number'!==s||c||( n+=o&&o[3]||( w.cssNumber[a]?'':'px' ) ), p.clearCloneStyle||''!==n||0!==e.indexOf( 'background' )||( l[e]='inherit' ), r&&'set'in r&&void 0===( n=r.set( t, n, i ) )||( c?l.setProperty( e, n ):l[e]=n ) )}}, css: function( t, e, n, i ) {var o, s, r, a=W( e ); return $t.test( e )||( e=Ht( a ) ), ( r=w.cssHooks[e]||w.cssHooks[a] )&&'get'in r&&( o=r.get( t, !0, n ) ), void 0===o&&( o=Dt( t, e, i ) ), 'normal'===o&&e in Yt&&( o=Yt[e] ), ''===n||n?( s=parseFloat( o ), !0===n||isFinite( s )?s||0:o ):o} } ), w.each( ['height', 'width'], ( function( t, e ) {w.cssHooks[e]={ get: function( t, n, i ) {if( n ) {return!Wt.test( w.css( t, 'display' ) )||t.getClientRects().length&&t.getBoundingClientRect().width?Kt( t, e, i ):zt( t, Gt, ( function() {return Kt( t, e, i )} ) )}}, set: function( t, n, i ) {var o, s=It( t ), r=!p.scrollboxSize()&&'absolute'===s.position, a=( r||i )&&'border-box'===w.css( t, 'boxSizing', !1, s ), c=i?Jt( t, e, i, a, s ):0; return a&&r&&( c-=Math.ceil( t['offset'+e[0].toUpperCase()+e.slice( 1 )]-parseFloat( s[e] )-Jt( t, e, 'border', !1, s )-0.5 ) ), c&&( o=et.exec( n ) )&&'px'!==( o[3]||'px' )&&( t.style[e]=n, n=w.css( t, e ) ), Qt( 0, n, c )} }} ) ), w.cssHooks.marginLeft=Rt( p.reliableMarginLeft, ( function( t, e ) {if( e ) {return( parseFloat( Dt( t, 'marginLeft' ) )||t.getBoundingClientRect().left-zt( t, { marginLeft: 0 }, ( function() {return t.getBoundingClientRect().left} ) ) )+'px'}} ) ), w.each( { margin: '', padding: '', border: 'Width' }, ( function( t, e ) {w.cssHooks[t+e]={ expand: function( n ) {for( var i=0, o={}, s='string'==typeof n?n.split( ' ' ):[n]; i<4; i++ ) {o[t+nt[i]+e]=s[i]||s[i-2]||s[0]}return o} }, 'margin'!==t&&( w.cssHooks[t+e].set=Qt )} ) ), w.fn.extend( { css: function( t, e ) {return F( this, ( function( t, e, n ) {var i, o, s={}, r=0; if( Array.isArray( e ) ) {for( i=It( t ), o=e.length; r<o; r++ ) {s[e[r]]=w.css( t, e[r], !1, i )}return s}return void 0!==n?w.style( t, e, n ):w.css( t, e )} ), t, e, 1<arguments.length )} } ), w.fn.delay=function( e, n ) {return e=w.fx&&w.fx.speeds[e]||e, n=n||'fx', this.queue( n, ( function( n, i ) {var o=t.setTimeout( n, e ); i.stop=function() {t.clearTimeout( o )}} ) )}, qt=g.createElement( 'input' ), Ut=g.createElement( 'select' ).appendChild( g.createElement( 'option' ) ), qt.type='checkbox', p.checkOn=''!==qt.value, p.optSelected=Ut.selected, ( qt=g.createElement( 'input' ) ).value='t', qt.type='radio', p.radioValue='t'===qt.value; var Xt, te=w.expr.attrHandle; w.fn.extend( { attr: function( t, e ) {return F( this, w.attr, t, e, 1<arguments.length )}, removeAttr: function( t ) {return this.each( ( function() {w.removeAttr( this, t )} ) )} } ), w.extend( { attr: function( t, e, n ) {var i, o, s=t.nodeType; if( 3!==s&&8!==s&&2!==s ) {return void 0===t.getAttribute?w.prop( t, e, n ):( 1===s&&w.isXMLDoc( t )||( o=w.attrHooks[e.toLowerCase()]||( w.expr.match.bool.test( e )?Xt:void 0 ) ), void 0!==n?null===n?void w.removeAttr( t, e ):o&&'set'in o&&void 0!==( i=o.set( t, n, e ) )?i:( t.setAttribute( e, n+'' ), n ):o&&'get'in o&&null!==( i=o.get( t, e ) )?i:null==( i=w.find.attr( t, e ) )?void 0:i )}}, attrHooks: { type: { set: function( t, e ) {if( !p.radioValue&&'radio'===e&&L( t, 'input' ) ) {var n=t.value; return t.setAttribute( 'type', e ), n&&( t.value=n ), e}} } }, removeAttr: function( t, e ) {var n, i=0, o=e&&e.match( I ); if( o&&1===t.nodeType ) {for( ;n=o[i++]; ) {t.removeAttribute( n )}}} } ), Xt={ set: function( t, e, n ) {return!1===e?w.removeAttr( t, n ):t.setAttribute( n, n ), n} }, w.each( w.expr.match.bool.source.match( /\w+/g ), ( function( t, e ) {var n=te[e]||w.find.attr; te[e]=function( t, e, i ) {var o, s, r=e.toLowerCase(); return i||( s=te[r], te[r]=o, o=null!=n( t, e, i )?r:null, te[r]=s ), o}} ) ); var ee=/^(?:input|select|textarea|button)$/i, ne=/^(?:a|area)$/i; function ie( t ) {return( t.match( I )||[] ).join( ' ' )}function oe( t ) {return t.getAttribute&&t.getAttribute( 'class' )||''}function se( t ) {return Array.isArray( t )?t:'string'==typeof t&&t.match( I )||[]}w.fn.extend( { prop: function( t, e ) {return F( this, w.prop, t, e, 1<arguments.length )}, removeProp: function( t ) {return this.each( ( function() {delete this[w.propFix[t]||t]} ) )} } ), w.extend( { prop: function( t, e, n ) {var i, o, s=t.nodeType; if( 3!==s&&8!==s&&2!==s ) {return 1===s&&w.isXMLDoc( t )||( e=w.propFix[e]||e, o=w.propHooks[e] ), void 0!==n?o&&'set'in o&&void 0!==( i=o.set( t, n, e ) )?i:t[e]=n:o&&'get'in o&&null!==( i=o.get( t, e ) )?i:t[e]}}, propHooks: { tabIndex: { get: function( t ) {var e=w.find.attr( t, 'tabindex' ); return e?parseInt( e, 10 ):ee.test( t.nodeName )||ne.test( t.nodeName )&&t.href?0:-1} } }, propFix: { for: 'htmlFor', class: 'className' } } ), p.optSelected||( w.propHooks.selected={ get: function( t ) {var e=t.parentNode; return e&&e.parentNode&&e.parentNode.selectedIndex, null}, set: function( t ) {var e=t.parentNode; e&&( e.selectedIndex, e.parentNode&&e.parentNode.selectedIndex )} } ), w.each( ['tabIndex', 'readOnly', 'maxLength', 'cellSpacing', 'cellPadding', 'rowSpan', 'colSpan', 'useMap', 'frameBorder', 'contentEditable'], ( function() {w.propFix[this.toLowerCase()]=this} ) ), w.fn.extend( { addClass: function( t ) {var e, n, i, o, s, r, a, c=0; if( f( t ) ) {return this.each( ( function( e ) {w( this ).addClass( t.call( this, e, oe( this ) ) )} ) )}if( ( e=se( t ) ).length ) {for( ;n=this[c++]; ) {if( o=oe( n ), i=1===n.nodeType&&' '+ie( o )+' ' ) {for( r=0; s=e[r++]; ) {i.indexOf( ' '+s+' ' )<0&&( i+=s+' ' )}o!==( a=ie( i ) )&&n.setAttribute( 'class', a )}}}return this}, removeClass: function( t ) {var e, n, i, o, s, r, a, c=0; if( f( t ) ) {return this.each( ( function( e ) {w( this ).removeClass( t.call( this, e, oe( this ) ) )} ) )}if( !arguments.length ) {return this.attr( 'class', '' )}if( ( e=se( t ) ).length ) {for( ;n=this[c++]; ) {if( o=oe( n ), i=1===n.nodeType&&' '+ie( o )+' ' ) {for( r=0; s=e[r++]; ) {for( ;-1<i.indexOf( ' '+s+' ' ); ) {i=i.replace( ' '+s+' ', ' ' )}}o!==( a=ie( i ) )&&n.setAttribute( 'class', a )}}}return this}, toggleClass: function( t, e ) {
    var n=typeof t, i='string'===n||Array.isArray( t ); return'boolean'==typeof e&&i?e?this.addClass( t ):this.removeClass( t ):f( t )?this.each( ( function( n ) {w( this ).toggleClass( t.call( this, n, oe( this ), e ), e )} ) ):this.each( ( function() {
      var e, o, s, r; if( i ) {for( o=0, s=w( this ), r=se( t ); e=r[o++]; ) {s.hasClass( e )?s.removeClass( e ):s.addClass( e )}}
      else {void 0!==t&&'boolean'!==n||( ( e=oe( this ) )&&Y.set( this, '__className__', e ), this.setAttribute&&this.setAttribute( 'class', e||!1===t?'':Y.get( this, '__className__' )||'' ) )}
    } ) );
  }, hasClass: function( t ) {var e, n, i=0; for( e=' '+t+' '; n=this[i++]; ) {if( 1===n.nodeType&&-1<( ' '+ie( oe( n ) )+' ' ).indexOf( e ) ) {return!0}}return!1} } ); var re=/\r/g; w.fn.extend( { val: function( t ) {var e, n, i, o=this[0]; return arguments.length?( i=f( t ), this.each( ( function( n ) {var o; 1===this.nodeType&&( null==( o=i?t.call( this, n, w( this ).val() ):t )?o='':'number'==typeof o?o+='':Array.isArray( o )&&( o=w.map( o, ( function( t ) {return null==t?'':t+''} ) ) ), ( e=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()] )&&'set'in e&&void 0!==e.set( this, o, 'value' )||( this.value=o ) )} ) ) ):o?( e=w.valHooks[o.type]||w.valHooks[o.nodeName.toLowerCase()] )&&'get'in e&&void 0!==( n=e.get( o, 'value' ) )?n:'string'==typeof( n=o.value )?n.replace( re, '' ):null==n?'':n:void 0} } ), w.extend( { valHooks: { option: { get: function( t ) {var e=w.find.attr( t, 'value' ); return null!=e?e:ie( w.text( t ) )} }, select: { get: function( t ) {var e, n, i, o=t.options, s=t.selectedIndex, r='select-one'===t.type, a=r?null:[], c=r?s+1:o.length; for( i=s<0?c:r?s:0; i<c; i++ ) {if( ( ( n=o[i] ).selected||i===s )&&!n.disabled&&( !n.parentNode.disabled||!L( n.parentNode, 'optgroup' ) ) ) {if( e=w( n ).val(), r ) {return e}a.push( e )}}return a}, set: function( t, e ) {for( var n, i, o=t.options, s=w.makeArray( e ), r=o.length; r--; ) {( ( i=o[r] ).selected=-1<w.inArray( w.valHooks.option.get( i ), s ) )&&( n=!0 )}return n||( t.selectedIndex=-1 ), s} } } } ), w.each( ['radio', 'checkbox'], ( function() {w.valHooks[this]={ set: function( t, e ) {if( Array.isArray( e ) ) {return t.checked=-1<w.inArray( w( t ).val(), e )}} }, p.checkOn||( w.valHooks[this].get=function( t ) {return null===t.getAttribute( 'value' )?'on':t.value} )} ) ), p.focusin='onfocusin'in t; var ae=/^(?:focusinfocus|focusoutblur)$/, ce=function( t ) {t.stopPropagation()}; w.extend( w.event, { trigger: function( e, n, i, o ) {var s, r, a, c, l, h, d, p, _=[i||g], v=u.call( e, 'type' )?e.type:e, y=u.call( e, 'namespace' )?e.namespace.split( '.' ):[]; if( r=p=a=i=i||g, 3!==i.nodeType&&8!==i.nodeType&&!ae.test( v+w.event.triggered )&&( -1<v.indexOf( '.' )&&( v=( y=v.split( '.' ) ).shift(), y.sort() ), l=v.indexOf( ':' )<0&&'on'+v, ( e=e[w.expando]?e:new w.Event( v, 'object'==typeof e&&e ) ).isTrigger=o?2:3, e.namespace=y.join( '.' ), e.rnamespace=e.namespace?new RegExp( '(^|\\.)'+y.join( '\\.(?:.*\\.|)' )+'(\\.|$)' ):null, e.result=void 0, e.target||( e.target=i ), n=null==n?[e]:w.makeArray( n, [e] ), d=w.event.special[v]||{}, o||!d.trigger||!1!==d.trigger.apply( i, n ) ) ) {if( !o&&!d.noBubble&&!m( i ) ) {for( c=d.delegateType||v, ae.test( c+v )||( r=r.parentNode ); r; r=r.parentNode ) {_.push( r ), a=r}a===( i.ownerDocument||g )&&_.push( a.defaultView||a.parentWindow||t )}for( s=0; ( r=_[s++] )&&!e.isPropagationStopped(); ) {p=r, e.type=1<s?c:d.bindType||v, ( h=( Y.get( r, 'events' )||Object.create( null ) )[e.type]&&Y.get( r, 'handle' ) )&&h.apply( r, n ), ( h=l&&r[l] )&&h.apply&&$( r )&&( e.result=h.apply( r, n ), !1===e.result&&e.preventDefault() )}return e.type=v, o||e.isDefaultPrevented()||d._default&&!1!==d._default.apply( _.pop(), n )||!$( i )||l&&f( i[v] )&&!m( i )&&( ( a=i[l] )&&( i[l]=null ), w.event.triggered=v, e.isPropagationStopped()&&p.addEventListener( v, ce ), i[v](), e.isPropagationStopped()&&p.removeEventListener( v, ce ), w.event.triggered=void 0, a&&( i[l]=a ) ), e.result}}, simulate: function( t, e, n ) {var i=w.extend( new w.Event, n, { type: t, isSimulated: !0 } ); w.event.trigger( i, null, e )} } ), w.fn.extend( { trigger: function( t, e ) {return this.each( ( function() {w.event.trigger( t, e, this )} ) )}, triggerHandler: function( t, e ) {var n=this[0]; if( n ) {return w.event.trigger( t, e, n, !0 )}} } ), p.focusin||w.each( { focus: 'focusin', blur: 'focusout' }, ( function( t, e ) {var n=function( t ) {w.event.simulate( e, t.target, w.event.fix( t ) )}; w.event.special[e]={ setup: function() {var i=this.ownerDocument||this.document||this, o=Y.access( i, e ); o||i.addEventListener( t, n, !0 ), Y.access( i, e, ( o||0 )+1 )}, teardown: function() {var i=this.ownerDocument||this.document||this, o=Y.access( i, e )-1; o?Y.access( i, e, o ):( i.removeEventListener( t, n, !0 ), Y.remove( i, e ) )} }} ) ), w.parseXML=function( e ) {
    var n, i; if( !e||'string'!=typeof e ) {return null}try{n=( new t.DOMParser ).parseFromString( e, 'text/xml' )}
    catch( e ) {}return i=n&&n.getElementsByTagName( 'parsererror' )[0], n&&!i||w.error( 'Invalid XML: '+( i?w.map( i.childNodes, ( function( t ) {return t.textContent} ) ).join( '\n' ):e ) ), n;
  }; var le, ue=/\[\]$/, he=/\r?\n/g, de=/^(?:submit|button|image|reset|file)$/i, pe=/^(?:input|select|textarea|keygen)/i; function fe( t, e, n, i ) {
    var o; if( Array.isArray( e ) ) {w.each( e, ( function( e, o ) {n||ue.test( t )?i( t, o ):fe( t+'['+( 'object'==typeof o&&null!=o?e:'' )+']', o, n, i )} ) )}
    else if( n||'object'!==y( e ) ) {i( t, e )}
    else {for( o in e ) {fe( t+'['+o+']', e[o], n, i )}}
  }w.param=function( t, e ) {
    var n, i=[], o=function( t, e ) {var n=f( e )?e():e; i[i.length]=encodeURIComponent( t )+'='+encodeURIComponent( null==n?'':n )}; if( null==t ) {return''}if( Array.isArray( t )||t.jquery&&!w.isPlainObject( t ) ) {w.each( t, ( function() {o( this.name, this.value )} ) )}
    else {for( n in t ) {fe( n, t[n], e, o )}}return i.join( '&' );
  }, w.fn.extend( { serialize: function() {return w.param( this.serializeArray() )}, serializeArray: function() {return this.map( ( function() {var t=w.prop( this, 'elements' ); return t?w.makeArray( t ):this} ) ).filter( ( function() {var t=this.type; return this.name&&!w( this ).is( ':disabled' )&&pe.test( this.nodeName )&&!de.test( t )&&( this.checked||!ht.test( t ) )} ) ).map( ( function( t, e ) {var n=w( this ).val(); return null==n?null:Array.isArray( n )?w.map( n, ( function( t ) {return{ name: e.name, value: t.replace( he, '\r\n' ) }} ) ):{ name: e.name, value: n.replace( he, '\r\n' ) }} ) ).get()} } ), w.fn.extend( { wrapAll: function( t ) {var e; return this[0]&&( f( t )&&( t=t.call( this[0] ) ), e=w( t, this[0].ownerDocument ).eq( 0 ).clone( !0 ), this[0].parentNode&&e.insertBefore( this[0] ), e.map( ( function() {for( var t=this; t.firstElementChild; ) {t=t.firstElementChild}return t} ) ).append( this ) ), this}, wrapInner: function( t ) {return f( t )?this.each( ( function( e ) {w( this ).wrapInner( t.call( this, e ) )} ) ):this.each( ( function() {var e=w( this ), n=e.contents(); n.length?n.wrapAll( t ):e.append( t )} ) )}, wrap: function( t ) {var e=f( t ); return this.each( ( function( n ) {w( this ).wrapAll( e?t.call( this, n ):t )} ) )}, unwrap: function( t ) {return this.parent( t ).not( 'body' ).each( ( function() {w( this ).replaceWith( this.childNodes )} ) ), this} } ), w.expr.pseudos.hidden=function( t ) {return!w.expr.pseudos.visible( t )}, w.expr.pseudos.visible=function( t ) {return!!( t.offsetWidth||t.offsetHeight||t.getClientRects().length )}, p.createHTMLDocument=( ( le=g.implementation.createHTMLDocument( '' ).body ).innerHTML='<form></form><form></form>', 2===le.childNodes.length ), w.parseHTML=function( t, e, n ) {return'string'!=typeof t?[]:( 'boolean'==typeof e&&( n=e, e=!1 ), e||( p.createHTMLDocument?( ( i=( e=g.implementation.createHTMLDocument( '' ) ).createElement( 'base' ) ).href=g.location.href, e.head.appendChild( i ) ):e=g ), s=!n&&[], ( o=V.exec( t ) )?[e.createElement( o[1] )]:( o=vt( [t], e, s ), s&&s.length&&w( s ).remove(), w.merge( [], o.childNodes ) ) ); var i, o, s}, w.offset={ setOffset: function( t, e, n ) {var i, o, s, r, a, c, l=w.css( t, 'position' ), u=w( t ), h={}; 'static'===l&&( t.style.position='relative' ), a=u.offset(), s=w.css( t, 'top' ), c=w.css( t, 'left' ), ( 'absolute'===l||'fixed'===l )&&-1<( s+c ).indexOf( 'auto' )?( r=( i=u.position() ).top, o=i.left ):( r=parseFloat( s )||0, o=parseFloat( c )||0 ), f( e )&&( e=e.call( t, n, w.extend( {}, a ) ) ), null!=e.top&&( h.top=e.top-a.top+r ), null!=e.left&&( h.left=e.left-a.left+o ), 'using'in e?e.using.call( t, h ):u.css( h )} }, w.fn.extend( { offset: function( t ) {if( arguments.length ) {return void 0===t?this:this.each( ( function( e ) {w.offset.setOffset( this, t, e )} ) )}var e, n, i=this[0]; return i?i.getClientRects().length?( e=i.getBoundingClientRect(), n=i.ownerDocument.defaultView, { top: e.top+n.pageYOffset, left: e.left+n.pageXOffset } ):{ top: 0, left: 0 }:void 0}, position: function() {
    if( this[0] ) {
      var t, e, n, i=this[0], o={ top: 0, left: 0 }; if( 'fixed'===w.css( i, 'position' ) ) {e=i.getBoundingClientRect()}
      else{for( e=this.offset(), n=i.ownerDocument, t=i.offsetParent||n.documentElement; t&&( t===n.body||t===n.documentElement )&&'static'===w.css( t, 'position' ); ) {t=t.parentNode}t&&t!==i&&1===t.nodeType&&( ( o=w( t ).offset() ).top+=w.css( t, 'borderTopWidth', !0 ), o.left+=w.css( t, 'borderLeftWidth', !0 ) )}return{ top: e.top-o.top-w.css( i, 'marginTop', !0 ), left: e.left-o.left-w.css( i, 'marginLeft', !0 ) };
    }
  }, offsetParent: function() {return this.map( ( function() {for( var t=this.offsetParent; t&&'static'===w.css( t, 'position' ); ) {t=t.offsetParent}return t||it} ) )} } ), w.each( { scrollLeft: 'pageXOffset', scrollTop: 'pageYOffset' }, ( function( t, e ) {var n='pageYOffset'===e; w.fn[t]=function( i ) {return F( this, ( function( t, i, o ) {var s; if( m( t )?s=t:9===t.nodeType&&( s=t.defaultView ), void 0===o ) {return s?s[e]:t[i]}s?s.scrollTo( n?s.pageXOffset:o, n?o:s.pageYOffset ):t[i]=o} ), t, i, arguments.length )}} ) ), w.each( ['top', 'left'], ( function( t, e ) {w.cssHooks[e]=Rt( p.pixelPosition, ( function( t, n ) {if( n ) {return n=Dt( t, e ), Ot.test( n )?w( t ).position()[e]+'px':n}} ) )} ) ), w.each( { Height: 'height', Width: 'width' }, ( function( t, e ) {w.each( { 'padding': 'inner'+t, 'content': e, '': 'outer'+t }, ( function( n, i ) {w.fn[i]=function( o, s ) {var r=arguments.length&&( n||'boolean'!=typeof o ), a=n||( !0===o||!0===s?'margin':'border' ); return F( this, ( function( e, n, o ) {var s; return m( e )?0===i.indexOf( 'outer' )?e['inner'+t]:e.document.documentElement['client'+t]:9===e.nodeType?( s=e.documentElement, Math.max( e.body['scroll'+t], s['scroll'+t], e.body['offset'+t], s['offset'+t], s['client'+t] ) ):void 0===o?w.css( e, n, a ):w.style( e, n, o, a )} ), e, r?o:void 0, r )}} ) )} ) ), w.fn.extend( { bind: function( t, e, n ) {return this.on( t, null, e, n )}, unbind: function( t, e ) {return this.off( t, null, e )}, delegate: function( t, e, n, i ) {return this.on( e, t, n, i )}, undelegate: function( t, e, n ) {return 1===arguments.length?this.off( t, '**' ):this.off( e, t||'**', n )}, hover: function( t, e ) {return this.mouseenter( t ).mouseleave( e||t )} } ), w.each( 'blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu'.split( ' ' ), ( function( t, e ) {w.fn[e]=function( t, n ) {return 0<arguments.length?this.on( e, null, t, n ):this.trigger( e )}} ) ); var me=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g; w.proxy=function( t, e ) {var n, i, s; if( 'string'==typeof e&&( n=t[e], e=t, t=n ), f( t ) ) {return i=o.call( arguments, 2 ), ( s=function() {return t.apply( e||this, i.concat( o.call( arguments ) ) )} ).guid=t.guid=t.guid||w.guid++, s}}, w.holdReady=function( t ) {t?w.readyWait++:w.ready( !0 )}, w.isArray=Array.isArray, w.parseJSON=JSON.parse, w.nodeName=L, w.isFunction=f, w.isWindow=m, w.camelCase=W, w.type=y, w.now=Date.now, w.isNumeric=function( t ) {var e=w.type( t ); return( 'number'===e||'string'===e )&&!isNaN( t-parseFloat( t ) )}, w.trim=function( t ) {return null==t?'':( t+'' ).replace( me, '' )}, 'function'==typeof define&&define.amd&&define( 'jquery', [], ( function() {return w} ) ); var ge=t.jQuery, _e=t.$; return w.noConflict=function( e ) {return t.$===w&&( t.$=_e ), e&&t.jQuery===w&&( t.jQuery=ge ), w}, void 0===e&&( t.jQuery=t.$=w ), w;
} ) ), function( t ) {
  if( 'function'==typeof define&&define.amd ) {define( ['jquery', 'leaflet'], t )}
  else{if( void 0===window.jQuery ) {throw'jQuery must be loaded first'}if( void 0===window.L ) {throw'Leaflet must be loaded first'}t( window.jQuery, window.L )}
}( ( function( t, e ) {const n=t; n.fn.leafletLocationPicker=function( t, i ) {const o=window.location.protocol, s={ OSM: o+'//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', SAT: o+'//otile1.mqcdn.com/tiles/1.0.0/sat/{z}/{x}/{y}.png' }; let r={ zoom: 0, center: e.latLng( [40, 0] ), zoomControl: !1, attributionControl: !1 }, a=0; n.isPlainObject( t )&&n.isPlainObject( t.map )&&( r=n.extend( r, t.map ) ); const c={ alwaysOpen: !1, className: 'leaflet-locpicker', location: r.center, locationFormat: '{lat}{sep}{lng}', locationMarker: !0, locationDigits: 6, locationSep: ',', position: 'topright', layer: 'OSM', height: 140, width: 200, event: 'click', cursorSize: '30px', map: r, onChangeLocation: n.noop, mapContainer: '' }; function l( i ) {let o, s, r=i; switch( n.type( i ) ) {case'string':const n=i.split( t.locationSep ); r=n[0]&&n[1]?e.latLng( n ):null; break; case'array':r=e.latLng( i ); break; case'object':i.hasOwnProperty( 'lat' )?o=i.lat:i.hasOwnProperty( 'latitude' )&&( o=i.latitude ), i.hasOwnProperty( 'lng' )?s=i.lng:i.hasOwnProperty( 'lon' )?s=i.lon:i.hasOwnProperty( 'longitude' )&&( s=i.longitude ), r=e.latLng( parseFloat( o ), parseFloat( s ) ); break; default:r=i;}return function( n ) {return n?e.latLng( parseFloat( n.lat ).toFixed( t.locationDigits ), parseFloat( n.lng ).toFixed( t.locationDigits ) ):n}( r )}function u( i ) {if( i.divMap=document.createElement( 'div' ), i.$map=n( document.createElement( 'div' ) ).addClass( t.className+'-map' ).height( t.height ).width( t.width ).append( i.divMap ), t.mapContainer&&n( t.mapContainer )?i.$map.appendTo( t.mapContainer ).addClass( 'map-select' ):i.$map.appendTo( 'body' ), i.location&&( t.map.center=i.location ), 'string'==typeof t.layer&&s[t.layer]?t.map.layers=e.tileLayer( s[t.layer] ):t.layer instanceof e.TileLayer||t.layer instanceof e.LayerGroup?t.map.layers=t.layer:t.map.layers=e.tileLayer( s.OSM ), i.map=e.map( i.divMap, t.map ).addControl( e.control.zoom( { position: 'bottomright' } ) ).on( t.event, ( function( t ) {i.setLocation( t.latlng )} ) ), t.activeOnMove&&i.map.on( 'move', ( function( t ) {i.setLocation( t.target.getCenter() )} ) ), !0!==t.alwaysOpen ) {const n=e.control( { position: 'topright' } ); n.onAdd=function() {const n=e.DomUtil.create( 'div', 'leaflet-bar' ), o=e.DomUtil.create( 'a', 'leaflet-control '+t.className+'-close' ); return o.innerHTML='&times;', n.appendChild( o ), e.DomEvent.on( o, 'click', e.DomEvent.stop, i ).on( o, 'click', i.closeMap, i ), n}, n.addTo( i.map )}return t.locationMarker&&( i.marker=function( n ) {const i='padding: 0px; margin: 0px; position: absolute; outline: 1px solid #fff; box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.6);'; return e.marker( l( n )||e.latLng( 0, 0 ), { icon: e.divIcon( { className: t.className+'-marker', iconAnchor: e.point( 0, 0 ), html: '<div style="position: relative; top: -1px; left: -1px; padding: 0px; margin: 0px; cursor: crosshair;width: '+t.cursorSize+'; height: '+t.cursorSize+';"><div style="width: 50%; height: 0px; left: -70%; border-top:  2px solid black;'+i+'"></div><div style="width: 50%; height: 0px; left:  30%; border-top:  2px solid black;'+i+'"></div><div style="width: 0px; height: 50%; top:   30%; border-left: 2px solid black;'+i+'"></div><div style="width: 0px; height: 50%; top:  -70%; border-left: 2px solid black;'+i+'"></div></div>' } ) } )}( i.location ).addTo( i.map ) ), i.$map}return t=n.isPlainObject( t )?n.extend( c, t ):n.isFunction( t )?n.extend( c, { onChangeLocation: t } ):c, n.isFunction( i )&&( t=n.extend( c, { onChangeLocation: i } ) ), n( this ).each( ( function() {const i=this; i.$input=n( this ), i.locationOri=i.$input.val(), i.onChangeLocation=function() {a>=13?a=void 0:0===a?a=10:10===a&&( a=13 ), i.map.setView( i.location, a ); const e={ latlng: i.location, location: i.getLocation() }; i.$input.trigger( n.extend( e, { type: 'changeLocation' } ) ), t.onChangeLocation.call( i, e )}, i.setLocation=function( t, e ) {t=t||c.location, i.location=l( t ), i.marker&&i.marker.setLatLng( t ), e||( i.$input.data( 'location', i.location ), i.$input.val( i.getLocation() ), i.onChangeLocation() )}, i.getLocation=function() {return i.location?e.Util.template( t.locationFormat, { lat: i.location.lat, lng: i.location.lng, sep: t.locationSep } ):i.location}, i.updatePosition=function() {switch( t.position ) {case'bottomleft':i.$map.css( { top: i.$input.offset().top+i.$input.height()+6, left: i.$input.offset().left } ); break; case'topright':i.$map.css( { top: i.$input.offset().top, left: i.$input.offset().left+i.$input.width()+5 } );}}, i.openMap=function() {i.updatePosition(), i.$map.show(), i.map.invalidateSize(), i.$input.trigger( 'show' )}, i.closeMap=function() {i.$map.hide(), i.$input.trigger( 'hide' )}, i.setLocation( void 0, !0 ), i.$map=u( i ), i.$input.addClass( t.className ).on( 'focus.'+t.className, ( function( t ) {t.preventDefault(), i.openMap()} ) ).on( 'blur.'+t.className, ( function( t ) {t.preventDefault(); let e=t.relatedTarget, n=!0; for( ;e; ) {if( e._leaflet ) {n=!1; break}e=e.parentElement}n&&setTimeout( ( function() {i.closeMap()} ), 100 )} ) ), n( window ).on( 'resize', ( function() {i.$map.is( ':visible' )&&i.updatePosition()} ) ), t.alwaysOpen&&!0===t.alwaysOpen&&i.openMap()} ) ), this}} ) ); const Account=function() {
    'use strict'; const t={ balance: -1 }; async function e() {if( !V.aE() ) {return{ success: !1, status: '' }}const t=await async function() {let t=[]; const e=await V.getTransactionLog(); e.success&&( t=e.data ); const n=await V.getContractState().then( t=>t.data[0].currentBlock ), i=V.getState( 'lastBlock' )?V.getState( 'lastBlock' ):V.aE().transactions&&V.aE().transactions.lastBlock||0, o=await V.getTransactions( { address: V.cA()||V.aE().evmCredentials.address, fromBlock: i+1, toBlock: n } ); o.success&&( t=t.concat( o.data ) ); const s=await V.setTransactionLog( { success: !0, lastBlock: n, data: t } ); return s.success?{ success: !0, data: t, currentBlock: n }:{ success: !1, message: s.message }}(); if( !t.success ) {return{ success: !1, message: t.message, aE: V.aE(), entityBalance: null }}V.setState( 'lastBlock', t.currentBlock ); const e=await V.getEntityBalance(); if( !V.cA() ) {for( const e of t.data ) {'fee'==e.txType?e.title='Transaction Fee':'generated'==e.txType&&( e.title='Community Payout' )}}return{ success: !0, aE: V.aE(), entityBalance: e, data: t.data }}function n( e ) {if( e=Number( e ), t.balance!=e ) {t.balance=e; const n=AccountComponents.headerBalance( t.balance ); V.setNode( 'balance', '' ), V.setNode( 'balance', n )}return!0}return{ draw: function( t ) {
      !function( t ) {const e=CanvasComponents.list(); for( let t=0; t<8; t++ ) {const t=AccountComponents.accountPlaceholderCard(), n=CanvasComponents.card( t ); V.setNode( e, n )}MagicButton.draw( 'search' ), Navigation.draw( t ), Chat.drawMessageForm( 'no-prefill' ), Page.draw( { topcontent: V.aE()?AccountComponents.topcontent( V.aE().fullId ):'', listings: e, position: 'top' } )}( t ), e().then( t=>{
        !function( t ) {
          t.message&&t.message.includes( '-200' )&&Modal.draw( 'confirm uPhrase' ); const e=CanvasComponents.list(); if( t.success&&t.data.length ) {const n=AccountComponents.topcontent( t.aE.fullId, t.entityBalance ); for( const n of t.data.reverse() ) {const t=AccountComponents.accountCard( n ), i=CanvasComponents.card( t ); V.setNode( e, i )}Page.draw( { topcontent: n, listings: e } )}
          else {V.setNode( e, CanvasComponents.notFound( 'transaction' ) ), Page.draw( { listings: e } )}
        }( t );
      } );
    }, drawHeaderBalance: function( t, e ) {t&&n( t )||V.getEntityBalance( V.aE() ).then( t=>{const i=V.getTokenContract().float; i.coin&&Number( t.data[0].tokenBalance )>0.1&&Number( t.data[0].coinBalance )<i.threshold&&( console.warn( 'FLOAT: Address', t.data[0].address, 'Current Coin Balance', t.data[0].coinBalance ), V.setData( { address: t.data[0].address, coin: i.coin, amount: i.amount }, i.api, 'api' ).then( t=>console.warn( t ) ).catch( t=>console.error( t ) ) ); n( t.data[0]?t.data[0][e||'liveBalance']:'n/a' )} )} };
  }(), AccountComponents=function() {'use strict'; V.setStyle( { 'chain-status': { 'max-width': '180px', 'margin': '0 auto', 'padding': '20px 0px' } } ); const t=( ()=>{const t={ from: 'from', to: 'to', fees: 'fee', contr: 'contribution', amount: 'amount', total: 'total', payout: 'payout', block: 'block', hash: 'Link', address: 'Address', contract: 'Contract', date: 'date', time: 'time', net: 'Spendable', gross: 'Gross', eth: 'ETH', chain: 'On Chain', noBal: 'no balance details', lastBlock: 'last block', zeroBlock: 'zero block', currentBlock: 'now block', currentDate: 'now date' }; return V.getSetting( 'devMode' )&&VTranslation.setStringsToTranslate( t ), t} )(); function e() {V.setToggle( this.closest( 'li' ).querySelector( '.card__bottom-right' ) )}function n() {V.setToggle( this.closest( 'div' ).querySelector( 'table' ) )}function i() {const t=V.castPathOrId( this.textContent ); V.setState( 'active', { navItem: t } ), V.setBrowserHistory( t ), Profile.draw( t )}return{ topcontent: function( e, i ) {return V.cN( { h: [{ t: 'h1', c: 'font-bold txt-center pxy', k: n, h: e }, i?{ h: { t: 'table', i: 'v-token-account-details', c: 'chain-status hidden fs-s', h: [[V.getString( t.net ), V.getNetVAmount( i.data[0].liveBalance ).net], [V.getString( t.gross ), i.data[0].liveBalance], [V.getString( t.chain ), i.data[0].tokenBalance], [V.getString( t.eth ), i.data[0].coinBalance], [V.getString( t.lastBlock ), i.data[0].lastBlock], [V.getString( t.zeroBlock ), i.data[0].zeroBlock], [V.getString( t.currentBlock ), i.data[0].currentBlock], [V.getString( t.currentDate ), ( new Date ).toString().substr( 4, 17 )], [V.getString( t.address ), V.cN( { t: 'a', f: V.getTokenContract().explorerAddr+i.data[0].address, h: V.castShortAddress( i.data[0].address, 4 ) } )], [V.getString( t.contract ), V.cN( { t: 'a', f: V.getTokenContract().explorerAddr+V.getTokenContract().contractAddress, h: V.castShortAddress( V.getTokenContract().contractAddress, 3 ) } )]].filter( t=>Array.isArray( t ) ).map( t=>V.cN( { t: 'tr', h: [{ t: 'td', h: t[0] }, { t: 'td', c: 'txt-right', h: t[1] }] } ) ) } }:{ t: 'p', c: 'hidden', h: V.getString( t.noBal ) }] } )}, headerBalance: function( t ) {-1===t?t='..':( t=V.getNetVAmount( t ).net, t=isNaN( t )?'😷':String( t ) ); const e=V.getState( 'screen' ), n='rgba('+e.brandPrimary+', 1)', i=V.cA()?'txt-green':'txt-brand-primary'; return V.cN( { svg: !0, a: { style: 'filter: drop-shadow(0px 2px 1px rgba(var(--black), .18))', width: e.width>800?'66px':'54px', viewBox: '0 0 36 36' }, k: Navigation.drawUserNav, h: [{ t: 'circle', a: { 'cx': '18', 'cy': '18', 'r': '15.91549430918954', 'fill': 'white', 'stroke': n, 'stroke-width': '2.7', 'transform': 'rotate(-90, 18, 18) translate(0, 36) scale(1, -1)', 'stroke-dashoffset': '-200' } }, { t: 'text', c: `font-medium fs-xxs ${i} no-txt-select`, a: { x: '50%', y: '59%' }, h: t }] } )}, accountBalance: function() {const t='rgba('+V.getState( 'screen' ).brandPrimary+', 1)'; return V.cN( { t: 'li', c: 'txt-anchor-mid', h: { svg: !0, a: { width: '74px', viewBox: '0 0 36 37' }, h: [{ t: 'circle', a: { 'stroke-dasharray': '100', 'transform': 'rotate(-90, 18, 18) translate(0, 36) scale(1, -1)', 'stroke-dashoffset': '-200', 'cx': '18', 'cy': '18', 'r': '15.91549430918954', 'fill': 'white', 'stroke': t, 'stroke-width': '2.7' } }, { t: 'text', c: 'font-medium fs-xxs ${ textColor } no-txt-select', a: { x: '50%', y: '59%' }, h: 1234 }] } } )}, accountSmallCard: function( t, e ) {return V.castNode( { tag: 'li', classes: 'pxy txt-center', html: `<div class="smallcard__container font-medium pxy">\n              <p class="font-medium pb-xs">${t}</p>\n              <div class="flex justify-center items-center circle-2 rounded-full border-shadow font-medium no-txt-select">\n                ${e[t]}\n              </div>\n            </div>` } )}, accountCard: function( n ) {let o=''; switch( n.txType ) {case'in':o='#4bd25b'; break; case'out':o='#cc3e58'; break; case'fee':o='lightblue'; break; case'generated':o='green'; break; default:o='gray';}const s=V.cN( { c: 'contents' } ), r=V.cN( { c: 'card__top-left flex justify-center items-center pxy', h: { c: 'circle-3 flex justify-center items-center rounded-full cursor-pointer', a: { style: 'background:'+o }, k: e, h: { c: 'card__initials font-medium fs-xl txt-white no-txt-select', h: n.amount } } } ), a=V.cN( { c: 'card__top-right flex items-center pxy', h: { t: 'h2', c: 'font-bold fs-l leading-snug cursor-pointer', k: e, h: n.title } } ), c=V.cN( { c: 'card__bottom-left items-center', h: '' } ), l=V.cN( { c: 'card__bottom-right hidden fs-s pxy capitalize', h: { t: 'table', h: ['in'==n.txType?[V.getString( t.from ), 'none'!=n.fromAddress?n.fromEntity:n.from+' '+n.fromTag, i]:[V.getString( t.to ), 'none'!=n.toAddress?n.toEntity:n.to+' '+n.toTag, i], n.blockDate?[V.getString( t.date ), new Date( 1e3*n.blockDate ).toString().substr( 4, 11 )]:void 0, n.blockDate?[V.getString( t.time ), new Date( 1e3*n.blockDate ).toString().substr( 15, 6 )]:void 0, n.block?[V.getString( t.block ), n.block]:[V.getString( t.date ), n.date.substr( 4, 11 )+' '+n.date.substr( 15, 6 )], [V.getString( t.hash ), V.cN( { t: 'a', f: V.getTokenContract().explorerTx+n.hash, h: V.castShortAddress( n.hash, 4 ) } )], [V.getString( t.amount ), 'out'==n.txType?'-'+n.amount:n.amount], 'out'==n.txType?void 0:[V.getString( t.net ), V.getNetVAmount( n.amount ).net], 'out'==n.txType?[V.getString( t.fees ), '-'+n.feeAmount]:[V.getString( t.fees ), '0'], 'out'==n.txType?[V.getString( t.contr ), '-'+n.contribution]:[V.getString( t.contr ), '0'], 'out'==n.txType?[V.getString( t.total ), '-'+( Number( n.amount )+Number( n.feeAmount )+Number( n.contribution ) )]:void 0].filter( t=>Array.isArray( t ) ).map( t=>V.cN( { t: 'tr', h: [{ t: 'td', h: t[0] }, { t: 'td', c: 'txt-right'+( t[2]?' cursor-pointer':'' ), h: t[1], k: t[2] }] } ) ) } } ); return V.setNode( s, [r, a, c, l] ), s}, accountPlaceholderCard: function() {const t=V.cN( { c: 'contents placeholder' } ), e=V.cN( { c: 'card__top-left flex justify-center items-center pxy', h: V.cN( { c: 'circle-3 rounded-full animated-background' } ) } ), n=V.cN( { c: 'relative animated-background', y: { 'height': '20px', 'width': '200px', 'top': '25px', 'left': '8px', 'border-radius': '4px' } } ); return V.setNode( t, [e, n] ), t} }}(), Chat=function() {'use strict'; let t; const e=( ()=>{const t={ chat: 'Chat' }; return V.getSetting( 'devMode' )&&VTranslation.setStringsToTranslate( t ), t} )(); function n() {V.getNode( '.messageform__response' ).textContent=''}function i( e, n ) {const o=V.getNode( '.messageform__input' )||V.getNode( '.magic-btn__input' ), s=V.getNode( '.messageform__response' ); o.style.height='37px'; const r=n?n+' '+V.getString( 'to' )+' '+V.getState( 'active' ).lastViewed:o.value; V.setMessageBot( r ).then( e=>{V.sN( s, '' ), V.setState( 'active', { autofillUuidE: void 0 } ), e.success||e.data&&e.data.setHighlight&&e.data.setHighlight.a?( t=!1, 'transaction'==e.endpoint?( V.setState( 'active', { transaction: e } ), Modal.draw( 'confirm transaction' ) ):o.value='' ):'transaction'==e.endpoint&&'invalid recipient'==e.error&&!t&&V.getState( 'active' ).navItem.includes( 'profile' )?( t=!0, i( void 0, r ) ):( t=!1, s.append( V.cN( { c: 'messageform__res-inner pill-shadow', y: { 'color': 'red', 'background': 'white', 'padding': '4px 12px', 'border-radius': '20px' }, h: e.status||e.errors&&e.errors[0].message } ) ) )} )}function o( t ) {const e=t.val(); s( { time: e.a, uuidE: e.i, sender: e.j, msg: e.m } )}function s( t ) {if( '/chat/everyone'==V.getState( 'active' ).navItem ) {const e=V.getNode( 'list' ); V.aE()&&V.aE().fullId==t.sender&&( t.sender='Me' ); const n=ChatComponents.message( t ); V.setNode( e, n ), e.scrollTop=e.scrollHeight+75}}function r( t ) {const e=V.getNode( '#typing_on_1' ); if( !e ) {return}const n=V.getNode( '#typing_on_2' ), i=e.textContent.split( ' ' )[0]; function o() {e.textContent=''}function s() {n.textContent=''}!1===t?( o(), s() ):i?t==i?( e.textContent=t+' is typing ...', setTimeout( o, 4e3 ) ):( n.textContent=t+' is typing ...', setTimeout( s, 4e3 ) ):( e.textContent=t+' is typing ...', setTimeout( o, 4e3 ), s() )}function a() {if( V.setNavItem( 'serviceNav', [{ title: e.chat, path: '/chat/everyone', draw: function() {Chat.draw( '/chat/everyone' )} }] ), 'MongoDB'==V.getSetting( 'chatLedger' ) ) {return window.socket.on( 'community message', s ), void window.socket.on( 'a user is typing', r )}'Firebase'==V.getSetting( 'chatLedger' )&&NetworkMainRoom.on( 'child_added', ( function( t ) {o( t )} ) )}return V.setState( 'availablePlugins', { chat: a } ), { launch: a, draw: function( t ) {!function( t ) {Navigation.draw( t ), Page.draw( { position: 'top' } )}( t ), async function( t ) {let e; return e='Firebase'==V.getSetting( 'chatLedger' )?{ success: !1 }:await V.getMessage(), e.success&&e.data[0].length?V.aE()||'/chat/everyone'==t?{ success: !0, status: 'ok', data: [{ messages: e.data[0], aE: V.aE()||void 0 }] }:{ success: !1, status: 'not logged in', data: [] }:{ success: !1, status: 'no messages found', data: [{ messages: [], aE: V.aE()||void 0 }] }}( t ).then( t=>{!function( t ) {const e=ChatComponents.topcontent(), n=CanvasComponents.list(); let i; t.success?t.data[0].messages.forEach( e=>{i==e.sender&&( e.hideSender=!0 ), i=e.sender, t.data[0].aE&&t.data[0].aE.fullId==e.sender&&( e.sender='Me' ); const o=ChatComponents.message( e ); V.setNode( n, o )} ):'Firebase'==V.getSetting( 'chatLedger' )?( V.setNode( 'listings', n ), setTimeout( ( function() {V.getNode( 'list' ).firstChild||NetworkMainRoom.once( 'child_added', o )} ), 1200 ) ):V.setNode( e, CanvasComponents.notFound( 'message' ) ), Page.draw( { topcontent: e, listings: n, position: 'top', scroll: 'bottom' } ), Chat.drawMessageForm( 'no-prefill' )}( t )} )}, drawMessageForm: function( t ) {if( V.setNode( '.messageform', 'clear' ), 'clear'==t ) {return}const e='no-prefill'==t?'':V.getState( 'active' ).lastViewed, o=ChatComponents.messageForm(), s=ChatComponents.messageInput( e ), r=ChatComponents.messageResponse(), a=ChatComponents.messageSend(); a.addEventListener( 'click', i ), s.addEventListener( 'focus', n ), V.setNode( o, [r, s, a] ), V.setNode( 'page', o )}, handleSetMessageBot: i }}(), ChatComponents=function() {
    'use strict'; let t, e, n, i=!1, o=!1, s=''; document.addEventListener( 'click', ( function( t ) {d( t.target )} ) ), V.setStyle( { 'chat-link a': { color: 'rgba(var(--link), 1)' }, 'messageform': { 'bottom': '0', 'border-top': '1px solid #e8e8ec', 'background': 'rgba(var(--brandPrimary),1)', 'padding': '8px 5px', 'border-radius': '3px 3px 0 0' }, 'messageform__input': { 'height': '37px', 'padding': '9px 18px', 'width': '87%', 'resize': 'none', 'border-radius': '30px', 'transition': 'height 0.1s' }, 'messageform__response': { position: 'absolute', top: '-24px' }, 'ac-suggestions': { 'text-align': 'left', 'cursor': 'default', 'max-height': '254px', 'overflow': 'hidden', 'overflow-y': 'auto', 'border-radius': '6px', 'padding': '9px 4px', 'font-size': '0.9em' }, 'ac-suggestion': { 'position': 'relative', 'padding': '0 .6em', 'line-height': '23px', 'white-space': 'nowrap', 'overflow': 'hidden', 'text-overflow': 'ellipsis', 'font-size': '1.02em', 'color': '#333' }, 'ac-suggestion.selected': { 'color': 'rgba(var(--brandPrimary), 1)', 'font-size': '1.05em', 'font-family': 'IBM Plex Bold' } } ); const r=( ()=>{const t={ notFound: 'not found', chatTitle: 'Chat with Everyone', placeholder: 'Send message or funds', placeholder2: 'Join first to send a message or funds' }; return V.getSetting( 'devMode' )&&VTranslation.setStringsToTranslate( t ), t} )(); function a() {this.style.height='0px', this.style.height=this.scrollHeight+'px'}function c( r ) {
      const a=window.event?r.keyCode:r.which; if( 13==a&&V.getString( 'search' )==s.split( ' ' )[0] ) {1==e.childElementCount?( this.value=s.split( ' ' )[0]+' '+e.querySelector( '.ac-suggestion' ).getAttribute( 'data-val' ), document.getElementById( 'send-message' ).click() ):n&&( this.value=s.split( ' ' )[0]+' '+n.getAttribute( 'data-val' ), document.getElementById( 'send-message' ).click() )}
      else if( 13!=a||i ) {
        if( 13!=a&&9!=a&&39!=a||!i ) {
          if( 27==a&&i ) {d(), r.stopPropagation()}
          else if( 8==a&&o.length<3 ) {d()}
          else if( 40!=a&&38!=a||!i ) {const e=V.checkForTriggers( this.value ); if( e ) {const t=e.filter( t=>isNaN( t.toLowerCase() ) ); t.shift(); const n=function() {for( var t=e.length; t--; ) {if( -1!=e[t].indexOf( '#' ) ) {return t}}}(); s=n>=1?e.slice( 0, n+1 ).join( ' ' ):e.slice( 0, e.indexOf( t[0] ) ).join( ' ' ), o=( n>=1?e.slice( n+1 ).filter( t=>isNaN( t ) ).join( ' ' ):t.join( ' ' ) ).toLowerCase()}o&&!i&&( 3==o.length&&o!=V.getString( 'for' )&&V.getQuery( { query: o, role: 'all', field: 'title', isAutofill: !0 } ).then( e=>{console.log( e ), t=e.data, e.success&&function( t, e, n, o ) {i=!0; const s=function( t, e, n ) {const i=t.getBoundingClientRect(); return V.cN( { c: 'ac-suggestions absolute card-shadow bkg-white', y: { left: i.left+'px', bottom: i.height+20+'px', width: i.width+'px' }, h: e.length?V.cN( { h: e.map( t=>m( t, n ) ) } ):g( n ) } )}( o, t, e ); f( 'ac-suggestion', 'mouseout', ( function() {const t=s.querySelector( '.ac-suggestion.selected' ); t&&setTimeout( ( function() {t.classList.remove( 'selected' )} ), 20 )} ), s ), f( 'ac-suggestion', 'mouseover', ( function() {const t=s.querySelector( '.ac-suggestion.selected' ); t&&t.classList.remove( 'selected' ), this.classList.add( 'selected' )} ), s ), f( 'ac-suggestion', 'mousedown', ( function() {p( this, 'ac-suggestion' )&&h( this.getAttribute( 'data-val' ), this.getAttribute( 'uuide' ), n, o )} ), s ), V.setNode( 'page', s )}( t, o, s, this )} ), 4==o.length&&( o.substr( 0, 2 ), V.getString( 'for' ) ) ), o&&i&&40!=a&&38!=a&&function( t, e ) {V.setNode( '.ac-suggestions', '' ); let n=0; for( let i=0; i<t.length; i++ ) {t[i].fullId.toLowerCase().includes( e )&&( V.setNode( '.ac-suggestions', m( t[i], e ) ), n+=1 )}n||V.setNode( '.ac-suggestions', g( e ) )}( t, o )}
          else{
            let t; if( n ) {t=40==a?n.nextSibling:n.previousSibling, t?( n.classList.remove( 'selected' ), t.classList.add( 'selected' ), u( t.getAttribute( 'data-val' ), s, this ) ):( n.classList.remove( 'selected' ), this.value=s+' ', t=0 )}
            else{const n=e.querySelectorAll( '.ac-suggestion' ); t=40==a?n[0]:n[n.length-1], t.classList.add( 'selected' ), u( t.getAttribute( 'data-val' ), s, this )}
          }
        }
        else {r.preventDefault(), 1==e.childElementCount?h( e.querySelector( '.ac-suggestion' ).getAttribute( 'data-val' ), e.querySelector( '.ac-suggestion' ).getAttribute( 'uuide' ), s, this ):n&&h( n.getAttribute( 'data-val' ), n.getAttribute( 'uuide' ), s, this )}
      }
      else {r.preventDefault(), document.getElementById( 'send-message' ).click()}
    }function l( t ) {e=V.getNode( '.ac-suggestions' ), e&&( n=e.getNode( '.ac-suggestion.selected' ) ); const r=window.event?t.keyCode:t.which; 13!=r&&window.socket&&V.aE()&&'send'!=this.value.substring( 0, 4 )&&window.socket.emit( 'user is typing', V.aE().fullId.split( ' ' )[0] ), window.socket&&13==r?( t.preventDefault(), window.socket.emit( 'user is typing', !1 ) ):40!=r&&38!=r||!i?9==r?t.preventDefault():8==r&&o.length<3?d():r>48&&r<58&&i&&( 1==e.childElementCount?h( e.querySelector( '.ac-suggestion' ).getAttribute( 'data-val' ), e.querySelector( '.ac-suggestion' ).getAttribute( 'uuide' ), s, this ):n?h( n.getAttribute( 'data-val' ), n.getAttribute( 'uuide' ), s, this ):d() ):t.preventDefault()}function u( t, e, n ) {if( null===t ) {return}const i=e+' '+t+' '; n.value=i}function h( t, e, n, i ) {V.setState( 'active', { autofillUuidE: e } ), u( t, n, i ), d(), window.setTimeout( ( function() {i.focus()} ), 10 )}function d() {i=!1, o=!1, s='', t=[], V.setNode( '.ac-suggestions', 'clear' )}function p( t, e ) {return t.classList?t.classList.contains( e ):new RegExp( '\\b'+e+'\\b' ).test( t.className )}function f( t, e, n, i ) {!function( t, e, n ) {t.attachEvent?t.attachEvent( 'on'+e, n ):t.addEventListener( e, n )}( i||document, e, ( function( e ) {for( var i, o=e.target||e.srcElement; o&&!( i=p( o, t ) ); ) {o=o.parentElement}i&&n.call( o, e )} ) )}function m( t, e ) {const n=e.replace( /[-/\\^$*+?.()|[\]{}]/g, '\\$&' ), i=new RegExp( '('+n.split( ' ' ).join( '|' )+')', 'gi' ), o=t.title, s=t.tag; return V.cN( { c: 'ac-suggestion', a: { 'data-val': o+' '+s, 'uuidE': t.uuidE }, innerHtml: o.replace( i, '<span class="txt-brand-primary font-bold">$1</span>' )+' '+s } )}function g( t ) {return V.cN( { c: 'ac-suggestion', h: '"'+t+'" '+V.getString( r.notFound ) } )}return{ topcontent: function() {return V.cN( { c: 'w-full', h: [{ t: 'h2', c: 'font-bold fs-l leading-snug txt-center w-full pxy', h: V.getString( r.chatTitle, 'chat title' ) }, { t: 'span', c: 'block h-4 fs-s txt-center', i: 'typing_on_1' }, { t: 'span', c: 'block h-4 fs-s txt-center', i: 'typing_on_2' }] } )}, message: function( t ) {let e=t.msg.length>70?'300px':t.msg.length<30?'220px':'245px'; const n='Me'==t.sender?t.msg.match( 'You\'ve sent' )?'#c0d6b9':'#e0e7eb':'#f7f7f8', i=V.castLinks( t.msg ); i.iframes.includes( 'iframe' )&&( e='330px' ); const o='Me'==t.sender?{ 'margin-left': 'auto', 'width': e, 'background': n }:{ 'margin-right': 'auto', 'width': e, 'background': n }; return V.cN( { t: 'li', c: 'w-screen pxy', a: { uuidE: t.uuidE||t._id, time: t.time||'na' }, h: { t: 'message', c: 'message__container flex card-shadow rounded bkg-white pxy', y: o, h: { c: 'font-medium pxy', h: [{ x: 'Me'!=t.sender&&!t.hideSender, t: 'p', c: 'cursor-pointer', a: { onclick: 'Me'==t.sender||t.hideSender?'':'Profile.draw(\''+V.castPathOrId( t.sender )+'\')' }, h: t.sender }, { t: 'p', c: 'chat-link', h: i.iframes }] } } } )}, messageForm: function() {return V.cN( { c: 'messageform flex items-center absolute w-full pxy card-shadow' } )}, messageInput: function( t ) {return V.cN( { t: 'textarea', c: 'messageform__input mr-2', h: V.aE()&&t?'send 10':'', a: { placeholder: V.aE()?V.getString( r.placeholder, 'message textarea placeholder' ):V.getString( r.placeholder2, 'message textarea placeholder' ) }, e: { keyup: c, keydown: l, input: a } } )}, messageSend: function() {return V.cN( { t: 'button', i: 'send-message', c: 'circle-1 flex justify-center items-center rounded-full bkg-white', h: V.cN( { t: 'span', y: { position: 'relative', left: '1px', top: '1px', opacity: '0.75' }, h: V.getIcon( 'send' ) } ) } )}, messageResponse: function() {return V.cN( { c: 'messageform__response' } )} };
  }(), DataComponents=function() {'use strict'; return{ weatherCard: function( t, e ) {return V.castNode( { classes: 'contents', setStyle: { icon: { height: '80px', position: 'relative', bottom: '3px', left: '2px' }, forecast: { 'width': '57px', 'text-align': '-moz-center', 'margin-right': '10px' } }, innerHtml: '<div class="card__top-left flex justify-center items-center"><div class="circle-3 flex justify-center items-center rounded-full" style="background: antiquewhite; background-position: center center; background-size: cover;"><div class="card__initials font-bold fs-xxl txt-white"><img src="'+t.iconUrl+'"></div></div></div><div class="card__top-right flex items-center pxy"><h2 class="font-bold fs-l leading-snug">'+t.place+'</h2></div><div class="card__bottom-left items-center"><div class="circle-2 flex justify-center items-center rounded-full border-shadow font-medium no-txt-select">'+t.tempC+'</div><p class="card__unit fs-xxs">Now</p></div><div class="card__bottom-right pxy"><div class="flex justify-center items-center"><div class="forecast"><div style="background: antiquewhite;" class="circle-2 flex justify-center items-center rounded-full"><div><img class="icon" src="'+e.iconUrl.hr24+'"></div></div><p class="card__unit fs-xxs">'+e.tempC.hr24+'</p><p class="card__unit fs-xxs">Tomorrow</p></div><div class="forecast"><div style="background: antiquewhite;" class="circle-2 flex justify-center items-center rounded-full"><div><img class="icon" src="'+e.iconUrl.hr48+'"></div></div><p class="card__unit fs-xxs">'+e.tempC.hr48+'</p><p class="card__unit fs-xxs">'+e.date.hr48+'</p></div><div class="forecast"><div style="background: antiquewhite;" class="circle-2 flex justify-center items-center rounded-full"><div><img class="icon" src="'+e.iconUrl.hr72+'"></div></div><p class="card__unit fs-xxs">'+e.tempC.hr72+'</p><p class="card__unit fs-xxs">'+e.date.hr72+'</p></div><div class="forecast"><div style="background: antiquewhite;" class="circle-2 flex justify-center items-center rounded-full"><div><img class="icon" src="'+e.iconUrl.hr96+'"></div></div><p class="card__unit fs-xxs">'+e.tempC.hr96+'</p><p class="card__unit fs-xxs">'+e.date.hr96+'</p></div></div></div>' } )}, airCard: function( t ) {const e='#00E400', n='#FFFF00', i='#FF7E00', o='#FF0000', s='rgb(143, 63, 151)', r='#7E0023', a='Good', c='Moderate', l='Unhealthy for Sensitive Groups', u='Unhealthy', h='Very Unhealthy', d='Hazardous', p=t=>t<=50?{ c: e, h: a }:t<=100?{ c: n, h: c }:t<=150?{ c: i, h: l }:t<=200?{ c: o, h: u }:t<=300?{ c: s, h: h }:t<=500?{ c: r, h: d }:void 0; return V.castNode( { classes: 'contents', setStyle: { icon: { height: '80px', position: 'relative', bottom: '3px', left: '2px' }, forecast: { 'width': '57px', 'text-align': '-moz-center' } }, innerHtml: '<div class="card__top-left flex justify-center items-center"><div class="circle-2 flex justify-center items-center rounded-full" style="background-color: '+p( t.pollution.aqius ).c+';background-position: center center; background-size: cover;"></div></div><div class="card__top-right flex items-center pxy"><h2 class="font-bold fs-l leading-snug">'+t.city+'</h2></div><div class="card__bottom-left items-center"><div class="circle-2 flex justify-center items-center rounded-full border-shadow font-medium no-txt-select">'+t.pollution.aqius+'</div><p class="card__unit fs-xxs">US AQI</p></div><div class="card__bottom-right pxy"><p>'+p( t.pollution.aqius ).h+'</p></div>' } )} }}(), Data=function() {'use strict'; const t=( ()=>{const t={ data: 'Data' }; return V.getSetting( 'devMode' )&&VTranslation.setStringsToTranslate( t ), t} )(); function e() {V.setNavItem( 'serviceNav', [{ title: t.data, path: '/data', use: { button: 'search', form: 'new entity', role: 'Dataset' }, draw: function() {Data.draw( '/data' )} }] )}return V.setState( 'availablePlugins', { data: e } ), { launch: e, draw: function( t ) {var e; e=t, Navigation.draw( e ), Page.draw( { position: 'top' } ), async function( t ) {const e=V.getState( 'mapCenter' )||{ lat: 52.522, lng: 13.383, zoom: 12 }, n=Promise.resolve( V.getData( '', 'https://api.airvisual.com/v2/nearest_city?lat='+e.lat.toFixed( 4 )+'&lon='+e.lng.toFixed( 4 )+'&key=8d746809-90e8-4190-9550-7b85e3b3e16e', 'api' ) ), i=Promise.resolve( V.getData( '', 'https://api.openweathermap.org/data/2.5/weather?lat='+e.lat.toFixed( 4 )+'&lon='+e.lng.toFixed( 4 )+'&appid=8cc2a6452c40044763dd503c9752fbdc', 'api' ) ), o=Promise.resolve( V.getData( '', 'https://api.openweathermap.org/data/2.5/forecast?lat='+e.lat.toFixed( 4 )+'&lon='+e.lng.toFixed( 4 )+'&appid=8cc2a6452c40044763dd503c9752fbdc', 'api' ) ), s=await Promise.all( [n, i, o] ), r=s[0], a=s[1].data[0], c=s[2].data[0]; let l={ city: 'Sorry, could not get data for this location', pollution: { aqius: 0 } }; r.success&&'fail'!=r.data[0].status&&( l={ city: 'The current air pollution levels in '+r.data[0].data.city+'!', pollution: r.data[0].data.current.pollution } ); const u={ place: 'The weather in '+( ''==a.name?'current map position':a.name )+'!', iconUrl: 'http://openweathermap.org/img/wn/'+a.weather[0].icon+'@2x.png', temp: 'Temperature: '+( a.main.temp-273.15 ).toFixed( 1 )+'°C / '+( 9*( a.main.temp-273.15 )/5+32 ).toFixed( 1 )+'°F', tempC: ( a.main.temp-273.15 ).toFixed( 0 )+'°C', humidity: 'Humidity: '+a.main.humidity, sky: a.weather[0].description, sunrise: 'Sunrise: <object type="image/svg+xml" data="001-sunrise.svg"></object>'+new Date( a.sys.sunrise ), sunset: 'Sunset: '+new Date( a.sys.sunset ) }, h={ date: { hr24: V.castTime( 1e3*c.list[8].dt, 'D MMM' ), hr48: V.castTime( 1e3*c.list[16].dt, 'D MMM' ), hr72: V.castTime( 1e3*c.list[24].dt, 'D MMM' ), hr96: V.castTime( 1e3*c.list[32].dt, 'D MMM' ) }, tempC: { hr24: ( c.list[8].main.temp-273.15 ).toFixed( 0 )+'°C', hr48: ( c.list[16].main.temp-273.15 ).toFixed( 0 )+'°C', hr72: ( c.list[24].main.temp-273.15 ).toFixed( 0 )+'°C', hr96: ( c.list[32].main.temp-273.15 ).toFixed( 0 )+'°C' }, iconUrl: { hr24: 'http://openweathermap.org/img/wn/'+c.list[8].weather[0].icon+'@2x.png', hr48: 'http://openweathermap.org/img/wn/'+c.list[16].weather[0].icon+'@2x.png', hr72: 'http://openweathermap.org/img/wn/'+c.list[24].weather[0].icon+'@2x.png', hr96: 'http://openweathermap.org/img/wn/'+c.list[32].weather[0].icon+'@2x.png' } }, d=CanvasComponents.list(), p=DataComponents.weatherCard( u, h ), f=CanvasComponents.card( p ), m=DataComponents.airCard( l ), g=CanvasComponents.card( m ); return V.setNode( d, f ), V.setNode( d, g ), { which: t, listings: d, position: 'top' }}( t ).then( t=>{var e; e=t, Navigation.draw( e.which ), Page.draw( e )} )} }}(), UserComponents=function() {
    'use strict'; let t, e; const n={}; V.setStyle( { 'app-lang-selector': { 'display': 'flex', 'justify-content': 'space-evenly', 'width': '300px', 'padding': '25px 0' }, 'pool__funding-pie': { 'stroke-width': '50', 'fill': '#ddd', 'stroke': 'rgb(65, 183, 135)' }, 'pool__funding-chart': { 'margin': '23px 0 0 4px', 'transform': 'rotate(-90deg)', 'border-radius': '50%', 'display': 'block', 'background': '#ddd' }, 'pool__spending-pie': { 'stroke-width': '50', 'fill': '#ddd', 'stroke': 'rgb(99, 82, 185)' }, 'pool__spending-chart': { 'margin': '23px 0 0 4px', 'transform': 'rotate(-90deg)', 'border-radius': '50%', 'display': 'block', 'background': '#ddd' }, 'td-right': { 'max-width': '205px' }, 'share-by-email': { color: 'gray', position: 'relative', top: '-3px', left: '6px' }, 'toggle-switch__input': { height: 0, width: 0, visibility: 'hidden' }, 'toggle-switch': { 'cursor': 'pointer', 'text-indent': '-9999px', 'width': '60px', 'height': '25px', 'background': 'grey', 'display': 'block', 'border-radius': '100px', 'position': 'relative' }, 'toggle-switch:after': { 'content': '\'\'', 'position': 'absolute', 'top': '3px', 'left': '5px', 'width': '26px', 'height': '19px', 'background': '#fff', 'border-radius': '90px', 'transition': '0.3s' }, 'toggle-switch__input:checked + .toggle-switch': { background: '#bada55' }, 'toggle-switch__input:checked + .toggle-switch:after': { left: 'calc(100% - 5px)', transform: 'translateX(-100%)' }, 'toggle-switch:active:after': { width: '130px' }, 'join-loc-picker__input-profile-view': { display: 'none' }, 'entity-mng-radio-wrapper': { 'display': 'flex', 'justify-content': 'space-around', 'margin': '0.5rem', 'width': '23rem' } } ); const i=( ()=>{const t={ edit: 'edit', invalid: 'not valid', chgImg: 'Change this image', baseLoc: 'base location', currLoc: 'current location', UTCOffset: 'current UTC offset', title: 'Title', tag: 'Tag', description: 'Description', questionnaire: 'Questionnaire', shortened: '[ ... shortened ]', prefLang: 'Preferred Languages', lang: 'App Language', management: 'Entity Management', ethAddress: 'Entity Ethereum Address', ethAddressReceiver: 'Receiving Ethereum Address', loc: 'Location', entity: 'Entity', fin: 'Financial', social: 'Social', contact: 'Contact', img: 'Image', holder: 'Holder', holderOf: 'Holder of', mappedBy: 'Mapped by', accessKeys: 'Access Keys', notAuthenticated: 'not authorized to view', deactivated: 'activate', activated: 'activated', viewMode: 'edit', editMode: 'editing', emailSubject: 'Contacting you via', emailGreeting: 'Dear', share: 'share this profile on', socialSubject: 'is on', notPrivate: 'fully visible', private: 'not visible', pointVisible: 'point visible' }; return V.getSetting( 'devMode' )&&VTranslation.setStringsToTranslate( t ), t} )(); function o( t ) {const e=V.castPathOrId( t.target.textContent ); User.draw( e )}function s() {const t=V.castPathOrId( this.textContent ); V.setState( 'active', { navItem: t } ), V.setBrowserHistory( t ), Profile.draw( t )}function r() {n.location=this.getAttribute( 'loc' )}function a( t ) {
      if( 'password'===this.type ) {this.type='text', this.previousSibling.textContent='', setTimeout( ( function() {t.target.setSelectionRange( 0, 9999 )} ), 50 )}
      else{window.getSelection().removeAllRanges(), this.previousSibling.textContent=this.value.length>18?'0x':this.value.length?'vx':'', this.type='password'}
    }function c() {const t=V.getNode( 'list' ), e=this.closest( 'table' ), o=( e?e.offsetTop+this.offsetTop:this.offsetTop )-t.getBoundingClientRect().height/2; t.scrollTo( { top: o, behavior: 'smooth' } ), n.entry=this.value?this.value:this.textContent, [V.getString( i.edit ), V.getString( i.invalid )].includes( n.entry )&&( this.textContent='', this.value='' )}function l( t ) {y( 'privacy', { privacy: t.target.value } )}function u() {MagicButton.draw( 'chat' ), setTimeout( ( function() {document.getElementsByClassName( 'magic-btn__btn' )[0].click()} ), 100 )}function h() {y( 'status.active', !!this.checked ).then( ()=>{V.getNode( '.active__title' ).textContent=this.checked?i.activated:i.deactivated} )}function d() {
      let t, e; t='TEXTAREA'==this.nodeName?this.value:this.textContent, t=V.stripHtml( t ); const o=this.getAttribute( 'title' ), s=this.getAttribute( 'db' ); if( t!=n.entry ) {
        if( ''==t ) {return this.textContent=V.getString( i.edit ), this.value=V.getString( i.edit ), void y( s+'.'+o, '' )}if( ['facebook', 'twitter', 'telegram', 'instagram', 'tiktok'].includes( o ) ) {t=t.endsWith( '/' )?t.slice( 0, -1 ):t; e=t.split( '/' ).pop().replace( '@', '' )}
        else if( 'email'==o ) {e=new RegExp( /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/ ).test( t )?t:V.getString( i.invalid )}
        else if( 'youtube'==o ) {e=t.includes( '/c/' )?t:V.getString( i.invalid )}
        else if( 'website'==o ) {e=t.includes( '.' )&&t.includes( 'http' )?t:V.getString( i.invalid )}
        else if( ['address', 'evm'].includes( o ) ) {e=t.includes( '0x' )&&42==t.length?t:V.getString( i.invalid )}
        else if( 'currentUTC'==o ) {e=isNaN( t )?V.getString( i.invalid ):t}
        else if( ['description', 'q1', 'q2', 'q3', 'q4', 'q5', 'q6', 'q7', 'q8', 'q9', 'q10'].includes( o ) ) {const n=t.split( ' ' ); n.length>2e3?( n.length=2e3, e=n.join( ' ' )+' '+V.getString( i.shortened ) ):e=n.join( ' ' )}
        else {e=t}if( e==V.getString( i.invalid ) ) {return void( this.textContent=V.getString( i.invalid ) )}this.textContent=e, y( s+'.'+o, e );
      }
    }function p() {const t=this.getAttribute( 'lat' ), e=this.getAttribute( 'lng' ), i=this.getAttribute( 'loc' ); n.location.length&&''==i?y( 'geometry.baseLocation', { loc: null } ):t&&( y( 'geometry.baseLocation', { lat: t, lng: e, loc: i } ).then( t=>{V.setState( 'active', { lastLngLat: t.data[0].n.a } ), 'MongoDB'==V.getSetting( 'entityLedger' )&&VMap.draw( t.data ), 'Firebase'==V.getSetting( 'entityLedger' )&&t.data[0]&&t.data[0].n&&VMap.draw( [{ isBaseLocationUpdate: !0, uuidE: V.getState( 'active' ).lastViewedUuidE, uuidP: V.getState( 'active' ).lastViewedUuidP, role: V.getState( 'active' ).lastViewedRoleCode, fullId: V.aE().fullId, path: V.aE().path, profile: { role: V.aE().role }, properties: { description: V.aE().properties.description }, images: { thumbnail: V.aE().images.thumbnail }, geometry: { coordinates: t.data[0].n.a, type: 'Point', rand: !1 }, type: 'Feature' }] )} ), this.removeAttribute( 'lat' ), this.removeAttribute( 'lng' ) )}function f() {const t=this.getAttribute( 'value' ); V.setLocal( 'locale', t ), setTimeout( ( function() {location=window.location.origin} ), 600 )}function m( t ) {V.castImageUpload( t ).then( t=>{t.success&&( 'MongoDB'==V.getSetting( 'entityLedger' )?y( 'tinyImage', V.getState( 'tinyImageUpload' ) ).then( ()=>{y( 'thumbnail', V.getState( 'thumbnailUpload' ) ).then( ()=>{y( 'mediumImage', V.getState( 'mediumImageUpload' ) ).then( ()=>{V.setNode( '#img-upload-profile__label', V.getString( i.chgImg ) ), V.setNode( '#img-upload-profile__preview', '' ), V.setNode( '#img-upload-profile__preview', V.cN( { t: 'img', y: { 'max-width': '100%' }, r: t.src } ) )} )} )} ):'Firebase'==V.getSetting( 'entityLedger' )&&y( 'images', { tiny: V.getState( 'tinyImageUpload' ), thumb: V.getState( 'thumbnailUpload' ), medium: V.getState( 'mediumImageUpload' ) } ).then( ()=>{Navigation.drawImage( { path: V.getState( 'active' ).path, images: { tinyImage: V.getState( 'tinyImageUpload' ).dataUrl } } ), V.setNode( '#img-upload-profile__label', V.getString( i.chgImg ) ), V.setNode( '#img-upload-profile__preview', '' ), V.setNode( '#img-upload-profile__preview', V.cN( { t: 'img', y: { 'max-width': '100%' }, r: V.getState( 'mediumImageUpload' ).dataUrl } ) )} ) )} )}function g( t, e ) {return CanvasComponents.card( t, e )}function _( e, n, o, s ) {const r=V.cN( { t: 'table', c: 'w-full pxy', h: e.map( e=>{const r=!!t[n]&&t[n][e]; let a; if( r ) {switch( e ) {case'email':a={ t: 'a', f: `mailto:${r}?subject=${V.getString( i.emailSubject.replace( ' ', '%20' ) )}%20${window.location}&amp;body=${V.getString( i.emailGreeting.replace( ' ', '%20' ) )}%20${t.title}`, h: r }; break; default:a=r;}}return{ x: r||o, t: 'tr', h: [{ t: 'td', c: 'capitalize', h: V.getString( e ) }, v( { x: o, t: 'td', c: 'td-right txt-right break-words', a: { title: e, db: n }, h: r } ), { x: !o, t: 'td', c: 'td-right txt-right break-words'+( s?' '+s:'' ), h: r?a:'' }] }} ).filter( t=>''!=t ) } ); return r.firstChild?r:null}function v( t ) {return t.e={ focus: c, blur: d }, t.a?Object.assign( t.a, { contenteditable: 'true' } ):t.a={ contenteditable: 'true' }, t.h||( t.h=V.getString( i.edit ) ), t}function y( t, e ) {return V.setEntity( V.getState( 'active' ).lastViewed, { field: t, data: ''===e?null:e } ).then( t=>{var e; return'MongoDB'==V.getSetting( 'entityLedger' )&&( e=t, ['managedEntities', 'preview', 'viewed'].forEach( t=>{if( !V.getCache( t ) ) {return}const n=V.getCache( t ).data.findIndex( t=>t.fullId==V.getState( 'active' ).lastViewed ); V.getCache( t ).data.splice( n, 1, e.data[0] )} ) ), t.success||( t.message.includes( '-200' )?Modal.draw( 'confirm uPhrase' ):Modal.draw( 'validation error', t.message ) ), t} )}function b( t, e='' ) {return V.cN( { c: 'pxy fs-s'+e, h: [{ t: 'span', h: t?t.length>18?'0x':'vx':'' }, { t: 'input', c: e, a: { value: t, type: 'password' }, y: { width: '230px', padding: 0 }, e: { focus: a, blur: a } }] } )}return{ setData: function( n ) {t=n.entity, e=!!n.editable}, castAccessKeyNode: b, topcontent: function() {return V.cN( { h: { tag: 'h1', class: 'font-bold txt-center pxy', html: t.fullId } } )}, descriptionCard: function() {const n=t.properties?t.properties.description:void 0, o=t.properties?t.properties.filteredDescription:void 0; if( n||!n&&e ) {const s=V.castDescription( o||n ); return g( V.cN( e?{ t: 'textarea', c: 'w-full pxy', a: { rows: '8', title: 'description', db: 'properties' }, e: { focus: c, blur: d }, h: n||V.getString( i.edit ) }:{ c: 'pxy w-full', h: [s.$feature, s.$socialUl, s.$description] } ), e?t.role+' '+V.getString( i.description ):t.role )}return''}, questionnaireCard: function() {const n=V.getSetting( 'questionnaire' ); if( !n ) {return''}const o=t.questionnaire; let s=0; for( const t in o ) {o.hasOwnProperty( t )&&o[t]&&( s+=1 )}if( ['Business', 'Institution'].includes( t.role )&&( s||e ) ) {return g( V.cN( { h: n.map( t=>{const n=o['q'+t.qid]||!1; return V.cN( { h: [{ x: e||n, t: 'h3', c: 'font-bold pxy AAA', h: t.q }, { x: e, t: 'textarea', c: 'w-full pxy BBB', a: { title: 'q'+t.qid, db: 'questionnaire' }, e: { focus: c, blur: d }, h: n||V.getString( i.edit ) }, { x: !e&&n, c: 'pxy CCC', h: n }] } )} ) } ), V.getString( i.questionnaire ) )}return''}, managementCard: function() {if( V.aE()&&V.getLastViewed().holders.includes( V.aE().fullId ) ) {const e=t.status.active, n=t.privacy, o=V.cN( { c: 'entity-mng-radio-wrapper', h: [{ t: 'input', c: 'entity-mng-input-radio', i: 'entity-mng-input-0', a: { type: 'radio', name: 'entity-mng', checked: !n||void 0 }, e: { change: l }, v: '0' }, { t: 'label', c: 'entity-mng-input-radio-label', for: 'entity-mng-input-0', h: V.getString( i.notPrivate ) }, { t: 'input', c: 'entity-mng-input-radio', i: 'entity-mng-input-1', a: { type: 'radio', name: 'entity-mng', checked: 1==n||void 0 }, e: { change: l }, v: '1' }, { t: 'label', c: 'entity-mng-input-radio-label', for: 'entity-mng-input-1', h: V.getString( i.private ) }, { t: 'input', c: 'entity-mng-input-radio', i: 'entity-mng-input-2', a: { type: 'radio', name: 'entity-mng', checked: 2==n||void 0 }, e: { change: l }, v: '2' }, { t: 'label', c: 'entity-mng-input-radio-label', for: 'entity-mng-input-2', h: V.getString( i.pointVisible ) }] } ); return g( V.cN( { h: [o, { c: 'pxy flex ', h: [{ t: 'input', i: 'active', c: 'toggle-switch__input', a: { type: 'checkbox', checked: !!e||void 0 }, e: { change: h } }, { t: 'label', c: 'toggle-switch', a: { for: 'active' }, h: 'toggle' }, { t: 'p', c: 'active__title fs-xs pxy', h: V.getString( e?i.activated:i.deactivated ) }] }] } ), V.getString( i.management ) )}return''}, accessKeysCard: function() {const e=t.auth?t.auth.uPhrase:void 0, n=t.auth&&t.auth.evmCredentials&&t.auth.evmCredentials.privateKey||'', o=V.cN( {} ); return e?V.setNode( o, V.cN( { h: b( e ) } ) ):V.setNode( o, V.cN( { c: 'pxy fs-s', h: V.getString( i.notAuthenticated ) } ) ), n&&V.setNode( o, V.cN( { h: b( n ) } ) ), g( o, V.getString( i.accessKeys ) )}, evmAddressCard: function() {const e=t.evmCredentials?t.evmCredentials.address:void 0; if( e ) {return g( V.cN( { c: '', h: [{ t: 'p', c: 'pxy fs-s', h: e }, { c: 'pxy flex', y: { opacity: 0.35 }, h: V.getIcon( 'send' ), k: u }] } ), V.getString( i.ethAddress ) )}return''}, evmReceiverAddressCard: function() {let n; if( t.receivingAddresses&&t.receivingAddresses.evm&&( n=t.receivingAddresses.evm ), n||!n&&e ) {return g( V.cN( e?v( { t: 'p', c: 'pxy fs-s w-full', a: { title: 'evm', db: 'receivingAddresses' }, h: n } ):{ t: 'p', c: 'pxy fs-s w-full', h: n } ), V.getString( i.ethAddressReceiver ) )}return''}, locationCard: function() {const n=t.geometry?'picked location'==t.geometry.baseLocation?'Lat '+t.geometry.coordinates[1]+' Lng '+t.geometry.coordinates[0]:t.geometry.baseLocation:void 0; if( n||!n&&e ) {return g( V.cN( { c: 'location-card-wrapper w-full', h: [{ c: 'join-loc-picker__map' }, { t: 'input', c: 'join-loc-picker__input-profile-view' }, V.cN( { c: 'w-full pxy', y: { 'display': 'flex', 'justify-content': 'space-between' }, h: [{ t: 'span', c: 'capitalize', h: V.getString( i.baseLoc ) }, e?{ t: 'input', i: 'user__loc', c: 'location__base w-full txt-right', a: { loc: n, placeholder: 'Test' }, e: { focus: r, blur: p } }:{ t: 'span', c: 'location__base txt-right', h: n }] } )] } ), V.getString( i.loc ) )}return''}, entityCard: function() {const n=t.properties?t.properties.description:void 0, o=t.properties?t.properties.filteredDescription:void 0; return g( V.cN( { t: 'table', c: 'is-single-entity-view pxy w-full', h: [{ t: 'tr', h: [{ t: 'td', h: V.getString( i.title ) }, v( { x: e, t: 'td', c: 'txt-right', h: t.title, a: { title: 'title', db: 'profile' } } ), { x: !e, t: 'td', c: 'txt-right', h: t.title }] }, { t: 'tr', h: [{ t: 'td', h: V.getString( i.tag ) }, { t: 'td', c: 'txt-right', h: t.tag }] }, { x: t.holders[0]!=t.fullId, t: 'tr', h: [{ t: 'td', h: 'Person'==t.role?V.getString( i.mappedBy ):V.getString( i.holder ) }, { t: 'td', c: 'txt-right cursor-pointer', h: t.holders.join( ' & ' ), k: s }] }] } ), e||n||o?V.getString( i.entity ):V.getString( t.role ) )}, holderOfCard: function() {return t.holderOf.length?g( V.cN( { h: t.holderOf.map( t=>V.cN( { t: 'p', c: 'pxy', y: { cursor: 'pointer' }, h: t.fullId, k: s } ) ) } ), V.getString( i.holderOf ) ):''}, entityListCard: function( t ) {const e=t.auth?t.auth.uPhrase:'', n=t.auth&&t.auth.evmCredentials&&t.auth.evmCredentials.privateKey||'', s=V.cN( { c: 'contents' } ), r=V.cN( { c: 'card__top-left flex flex-wrap justify-center items-center pxy', h: [MarketplaceComponents.castCircle( t, 'editable' ), { t: 'p', c: 'pxy fs-s font-bold capitalize cursor-pointer', h: t.role }] } ), a=V.cN( { c: 'card__top-right items-center pxy', h: [{ t: 'h2', c: 'pxy font-bold fs-l cursor-pointer', h: t.fullId, k: o }, { t: 'p', c: 'pxy fs-s capitalize', h: V.getString( i.accessKeys ) }, b( e ), b( n )] } ); return V.setNode( s, [r, a] ), g( s, '' )}, financialCard: function() {const n=t.properties?t.properties.target:void 0; if( n||!n&&e ) {return g( _( ['target', 'unit'], 'properties', e ), V.getString( i.fin ) )}return''}, socialCard: function() {const t=_( ['email'], 'properties', e ); return t?g( t, V.getString( i.contact ) ):''}, preferredLangsCard: function() {const n=t.properties?t.properties.preferredLangs:void 0; if( n||!n&&e ) {return g( V.cN( e?v( { t: 'p', c: 'pxy w-full', i: 'pref-lang-edit', a: { title: 'preferredLangs', db: 'properties' }, h: n } ):{ t: 'p', c: 'pxy', h: n } ), V.getString( i.prefLang ) )}return''}, appLanguageCard: function() {const t=VTranslation.getAppLocale(); if( t||!t&&e ) {return g( V.cN( { c: 'app-lang-selector', h: [{ t: 'input', a: { type: 'radio', name: 'app-lang', value: 'en_US', title: 'appLang', db: 'properties', checked: 'en_US'==t||void 0 }, k: f }, { t: 'span', h: '🇬🇧' }, { t: 'input', a: { type: 'radio', name: 'app-lang', value: 'de_DE_du', title: 'appLang', db: 'properties', checked: 'de_DE_du'==t||void 0 }, k: f }, { t: 'span', h: '🇩🇪 "Du"' }, { t: 'input', a: { type: 'radio', name: 'app-lang', value: 'de_DE_sie', title: 'appLang', db: 'properties', checked: 'de_DE_sie'==t||void 0 }, k: f }, { t: 'span', h: '🇩🇪 "Sie"' }, { t: 'input', a: { type: 'radio', name: 'app-lang', value: 'it_IT', title: 'appLang', db: 'properties', checked: 'it_IT'==t||void 0 }, k: f }, { t: 'span', h: '🇮🇹' }, { t: 'input', a: { type: 'radio', name: 'app-lang', value: 'ru_RU', title: 'appLang', db: 'properties', checked: 'ru_RU'==t||void 0 }, k: f }, { t: 'span', h: '🇷🇺' }] } ), V.getString( i.lang ) )}return''}, mediumImageCard: function() {if( t.mediumImage ) {const e=V.castEntityThumbnail( t.mediumImage ).img; return V.cN( { t: 'li', h: e } )}return t.images.mediumImage?V.cN( { y: { 'display': 'flex', 'justify-content': 'center', 'min-height': '20vh', 'max-height': '20vh', 'background-image': `url(${t.images.mediumImage})`, 'background-repeat': 'no-repeat', 'background-position': 'center' } } ):''}, roleCard: function() {return V.cN( { c: 'pxy', h: { t: 'h3', c: 'pxy txt-center capitalize', h: t.role } } )}, addOrChangeImage: function() {let e; return e=t.mediumImage||t.images&&t.images.mediumImage?V.cN( { c: 'pxy', h: [{ i: 'img-upload-profile__preview', h: t.mediumImage?V.castEntityThumbnail( t.mediumImage ).img:{ t: 'img', y: { 'max-width': '100%' }, r: t.images.mediumImage } }, { c: 'pxy txt-right', h: [{ t: 'label', c: 'pxy', i: 'img-upload-profile__label', a: { for: 'img-upload-profile__file' }, h: V.getString( i.chgImg ) }, { t: 'input', i: 'img-upload-profile__file', c: 'hidden', a: { type: 'file', accept: 'image/*' }, e: { change: m } }] }] } ):V.cN( { c: 'pxy', h: [{ t: 'label', i: 'img-upload-profile__label', a: { for: 'img-upload-profile__file' }, h: V.getString( i.edit ) }, { t: 'input', i: 'img-upload-profile__file', c: 'hidden', a: { type: 'file', accept: 'image/*' }, e: { change: m } }, { i: 'img-upload-profile__preview' }] } ), g( e, V.getString( i.img ) )}, socialShareButtons: function() {const e=`${t.title}%20${V.getString( i.socialSubject )}${window.location.hostname}`.replace( /\s/g, '%20' ), n='https%3A%2F%2F'+( window.location.hostname+t.path ); return V.cN( { c: 'w-screen', h: [{ t: 'p', c: 'pxy fs-s txt-center', h: V.getString( i.share ) }, { y: { 'display': 'flex', 'justify-content': 'space-evenly' }, s: { 'sharing-button__icon svg': { 'width': '1em', 'height': '1em', 'margin-right': '1.4em' }, 'sharing-button__icon--solid': { fill: 'rgba(var(--brandPrimary), 1)' } }, h: [{ link: 'https://facebook.com/sharer/sharer.php?u='+n, icon: 'M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z' }, { link: `https://twitter.com/intent/tweet/?text=${e}&url=${n}`, icon: 'M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5 0-4.55 2.04-4.55 4.54 0 .36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3 0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35 0 12.92-6.92 12.92-12.93 0-.2 0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z' }, { link: `https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2F${window.location.hostname}&amp;title=${e}&amp;summary=${e}&amp;source=${n}`, icon: 'M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6 0 2.5 1 2.6 2.5 0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z' }, { link: `https://telegram.me/share/url?text=${e}&url=${n}`, icon: 'M.707 8.475C.275 8.64 0 9.508 0 9.508s.284.867.718 1.03l5.09 1.897 1.986 6.38a1.102 1.102 0 0 0 1.75.527l2.96-2.41a.405.405 0 0 1 .494-.013l5.34 3.87a1.1 1.1 0 0 0 1.046.135 1.1 1.1 0 0 0 .682-.803l3.91-18.795A1.102 1.102 0 0 0 22.5.075L.706 8.475z' }].map( t=>( { t: 'a', c: 'inline-block pxy', f: t.link, a: { target: '_blank', rel: 'noopener' }, h: { c: 'pxy', h: { c: 'sharing-button__icon sharing-button__icon--solid', h: { svg: !0, a: { viewBox: '0 0 24 24' }, h: { t: 'path', a: { d: t.icon } } } } } } ) ).concat( [V.cN( { t: 'a', y: { 'display': 'flex', 'align-items': 'center' }, c: 'share-by-email inline-block pxy font-bold', f: `mailto:?subject=${e}&body=Profile:%20${n}`, h: '@' } )] ) }] } )}, entityPlaceholderCard: function() {const t=V.cN( { c: 'placeholder' } ), e=V.cN( { c: 'is-single-entity-view animated-background', y: { 'height': '20px', 'width': '200px', 'border-radius': '4px', 'margin': '0 0 10px 0' } } ), n=V.cN( { c: 'animated-background', y: { 'height': '20px', 'width': '100px', 'border-radius': '4px', 'margin': '0 0 10px 0' } } ), i=V.cN( { c: 'animated-background', y: { 'height': '20px', 'width': '180px', 'border-radius': '4px' } } ); return V.setNode( t, [e, n, i] ), t}, entityPlaceholderImage: function() {return V.cN( { c: 'animated-background', y: { width: '100%', height: '300px' }, h: { c: 'progress-bar', h: { t: 'span', c: 'bar', h: { t: 'span', c: 'progress' } } } } )} };
  }(), Profile=function() {'use strict'; return{ draw: function( t ) {!function( t ) {const e=CanvasComponents.list(); V.setNode( e, UserComponents.entityPlaceholderImage() ); for( let t=0; t<1; t++ ) {const t=UserComponents.entityPlaceholderCard(), n=CanvasComponents.card( t ); V.setNode( e, n )}V.setNode( '#get-started', 'clear' ), !1!==t.navReset&&t.uuidE?Navigation.draw( t ).then( ()=>{Page.draw( { position: 'top', listings: e } )} ):Page.draw( { position: 'top', listings: e } )}( t ), async function( t ) {'string'==typeof t?t=V.castPathOrId( t ):Object.assign( t, { isDisplay: !0 } ); const e=V.getCache( 'viewed' ), n=Date.now(); let i; e&&n-e.timestamp>60*V.getSetting( 'viewedCacheDuration' )*1e3&&V.setCache( 'viewed', 'clear' ); const o=V.getFromCache( 'viewed', t.uuidE||t ); if( i=o?V.successTrue( 'used cache', o ):await V.getEntity( t ).then( t=>{if( t.success ) {const e=V.getFromCache( 'points', t.data[0].uuidE ); return e&&( t.data[0].geometry.coordinates=e.geometry.coordinates ), V.setCache( 'points', t.data ), V.setCache( 'viewed', t.data ), t}return!1} ), i.success ) {const e=i.data[0]; V.setState( 'active', { lastViewed: e.fullId, lastViewedUuidE: e.uuidE, lastViewedUuidP: e.uuidP, lastViewedRoleCode: e.roleCode, lastLngLat: e.geometry.coordinates, lastViewedEntity: e } ); const n={ typeOfWhich: typeof t, entity: e }; return V.successTrue( 'retrieved entities', n )}return V.successFalse( 'retrieve entities' )}( t ).then( t=>{!function( t ) {if( !t.success ) {return void Page.draw( { topcontent: CanvasComponents.notFound( 'entity' ) } )}const e=t.data[0].entity; UserComponents.setData( { entity: e, editable: !1 } ); const n=CanvasComponents.list( { top: e.images.mediumImage?'indent':'' } ); V.setNode( n, [UserComponents.entityCard(), UserComponents.locationCard(), Pool.drawWidget(), Farm.drawPlotWidget(), UserComponents.descriptionCard(), UserComponents.questionnaireCard(), UserComponents.socialCard(), UserComponents.preferredLangsCard(), UserComponents.financialCard(), UserComponents.evmAddressCard(), UserComponents.evmReceiverAddressCard(), UserComponents.holderOfCard(), UserComponents.socialShareButtons()] ), VMap.draw( [e] ), setTimeout( ( function() {$( '.location__base' ).leafletLocationPicker( { alwaysOpen: !0, mapContainer: '.join-loc-picker__map', height: 140, map: { zoom: 13, center: L.latLng( V.getState( 'userLocChange' )?[V.getState( 'userLocChange' ).lat, V.getState( 'userLocChange' ).lng]:V.castClone( e.geometry.coordinates ).reverse() ), zoomControl: !1, attributionControl: !1 } } )} ), 100 ), 'string'==t.data[0].typeOfWhich?Navigation.draw( e ).then( ()=>{Page.draw( { topcontent: UserComponents.mediumImageCard(), position: 'top', listings: n } )} ):Page.draw( { topcontent: UserComponents.mediumImageCard(), position: 'top', listings: n } ), V.aE()&&( V.aE().fullId==V.getLastViewed().fullId||V.getLastViewed().holders.includes( V.aE().fullId ) )?MagicButton.draw( 'edit' ):MagicButton.draw( 'chat' ), e.images.tinyImage&&Navigation.drawImage( e )}( t )} )} }}(), User=function() {'use strict'; const t=( ()=>{const t={ transfers: 'Transfers', settings: 'Settings', disconnect: 'Disconnect' }; return V.getSetting( 'devMode' )&&VTranslation.setStringsToTranslate( t ), t} )(); return{ draw: function( t ) {'/me/disconnect'==t.path?Modal.draw( 'disconnect' ):( MagicButton.draw( 'done' ), Page.draw( { position: 'top' } ), async function( t ) {let e; 'string'==typeof t?t=V.castPathOrId( t ):Object.assign( t, { isDisplay: !0 } ); const n=V.getCache().viewed?V.getCache().viewed.data.find( e=>e.path==t ):void 0; if( !V.aE() ) {return{ success: !1, status: '' }}if( e=n?{ success: !0, data: [n] }:await V.getEntity( t ).then( t=>!!t.success&&( V.setCache( 'points', t.data ), V.setCache( 'viewed', t.data ), t ) ), e.success ) {const t=e.data[0]; return V.setState( 'active', { lastViewed: t.fullId, lastViewedUuidE: t.uuidE, lastViewedUuidP: t.uuidP } ), { success: !0, status: 'editable entity retrieved', data: [t] }}}( t ).then( t=>{!function( t ) {let e, n; t.success?( UserComponents.setData( { entity: t.data[0], editable: !0 } ), n=CanvasComponents.list(), e=UserComponents.topcontent(), V.setNode( n, [UserComponents.addOrChangeImage(), UserComponents.locationCard(), Farm.drawPlotWidget(), UserComponents.questionnaireCard(), UserComponents.descriptionCard(), UserComponents.socialCard(), UserComponents.preferredLangsCard(), UserComponents.financialCard(), UserComponents.entityCard(), UserComponents.evmAddressCard(), UserComponents.evmReceiverAddressCard(), UserComponents.accessKeysCard(), UserComponents.managementCard(), UserComponents.socialShareButtons()] ), Page.draw( { listings: n } ).then( ()=>{$( '.location__base' ).leafletLocationPicker( { alwaysOpen: !0, mapContainer: '.join-loc-picker__map', height: 140, map: { zoom: 13, center: L.latLng( V.getState( 'userLocChange' )?[V.getState( 'userLocChange' ).lat, V.getState( 'userLocChange' ).lng]:V.castClone( t.data[0].geometry.coordinates ).reverse() ), zoomControl: !1, attributionControl: !1 }, onChangeLocation: function( t ) {V.setState( 'userLocChange', { lat: t.latlng.lat, lng: t.latlng.lng, loc: 'picked location' } ), V.setEntity( V.getState( 'active' ).lastViewed, { field: 'geometry.baseLocation', data: { lat: t.latlng.lat, lng: t.latlng.lng, loc: 'picked location' } } )} } ); const e=t.data[0].geometry?'picked location'==t.data[0].geometry.baseLocation?'Lat '+t.data[0].geometry.coordinates[1]+' Lng '+t.data[0].geometry.coordinates[0]:t.data[0].geometry.baseLocation:void 0; Google.launch().then( ()=>{Google.initAutocomplete( 'user', e )} )} ), VMap.draw( [t.data[0]] ) ):Page.draw( { topcontent: CanvasComponents.notFound( 'entity' ) } )}( t )} ) )}, launch: function() {V.setNavItem( 'userNav', [{ title: t.transfers, path: '/me/transfers', use: { button: 'search' }, draw: function( t ) {Account.draw( t )} }, { title: t.settings, path: '/me/settings', use: { button: 'plus search' }, draw: function( t ) {Settings.draw( t )} }, { title: t.disconnect, path: '/me/disconnect', draw: function( t ) {User.draw( { path: t } )} }] )} }}(), EntityList=function() {
    'use strict'; return{ draw: function( t ) {
      !function( t ) {Navigation.draw( t ), Page.draw( { position: 'top' } )}( t ), async function() {
        if( !V.aE() ) {return{ success: !1, status: '' }}let t=[]; const e=V.getCache( 'managedEntities' ), n=Date.now(); if( e&&n-e.timestamp<6e4 ) {t=e.data}
        else{for( let e=0; e<V.aE().adminOf.length; e++ ) {const n=await V.getEntity( V.aE().adminOf[e] ); t.push( n.data[0] )}t.reverse(); const e=t.pop(); t.splice( 0, 0, e ), V.setCache( 'managedEntities', t )}return t[0]?{ success: !0, status: 'entities retrieved', data: [{ entity: V.aE(), entitiesAdmined: t }] }:{ success: null, status: 'cound not retrieve entities' };
      }().then( t=>{
        !function( t ) {
          let e, n; if( t.success ) {UserComponents.setData( { entity: t.data[0].entity, editable: !0 } ), n=CanvasComponents.list(), e=UserComponents.topcontent(); for( let e=0; e<t.data[0].entitiesAdmined.length; e++ ) {V.setNode( n, [UserComponents.entityListCard( t.data[0].entitiesAdmined[e] )] )}Page.draw( { topcontent: e, listings: n } ), VMap.draw( t.data[0].entitiesAdmined )}
          else {Page.draw( { topcontent: CanvasComponents.notFound( 'entity' ) } )}
        }( t );
      } );
    } };
  }(), Settings=function() {'use strict'; return{ draw: function( t ) {( async function( t ) {return V.aE()?{ success: !0, status: 'active entity retrieved', data: [{ path: t, entity: V.aE() }] }:{ success: !1, status: '' }} )( t ).then( t=>{!function( t ) {let e, n; t.success?( UserComponents.setData( { entity: t.data[0].entity, editable: !0 } ), n=CanvasComponents.list(), e=UserComponents.topcontent(), V.setNode( n, [UserComponents.appLanguageCard()] ), Navigation.draw( t.data[0].path ), Page.draw( { topcontent: e, listings: n, position: 'top' } ) ):Page.draw( { topcontent: CanvasComponents.notFound( 'entity' ) } )}( t )} )} }}(), Farm=function() {'use strict'; const t=( ()=>{const t={ farm: 'Farm', farms: 'Farms', plot: 'Plot', plots: 'Plots', widgetTitle: '' }; return V.getSetting( 'devMode' )&&VTranslation.setStringsToTranslate( t ), t} )(); function e() {const e={ farms: { title: t.farms, path: '/farms', use: { form: 'new entity', role: 'Farm', join: 5, privacy: 2 }, draw: function( t ) {Farm.draw( t )} }, plots: { title: t.plots, path: '/farms/plots', use: { form: 'new entity', role: 'Plot', join: 4, privacy: 1 }, draw: function( t ) {Farm.draw( t )} } }; V.setNavItem( 'serviceNav', V.getSetting( 'plugins' ).farm.map( t=>e[t] ) )}return V.setState( 'availablePlugins', { farm: e } ), { launch: e, draw: function( t ) {var e; e=t, Navigation.draw( e ), Page.draw( { position: 'peek' } ), Marketplace.draw( t )}, drawPlotWidget: function( t ) {const e=V.getState( 'active' ).lastViewedEntity; return'Plot'!=e.role?'':( setTimeout( ( function() {SoilCalculatorComponents.drawWidgetContent( t, e.servicefields )} ), 800 ), SoilCalculatorComponents.widget( t ) )} }}(), Google=function() {'use strict'; return{ initAutocomplete: function( t, e ) {const n=document.getElementById( t+'__loc' ); if( n ) {const t=new google.maps.places.Autocomplete( n, { types: ['geocode'] } ); n.setAttribute( 'placeholder', e||V.getString( 'Location' ) ), t.addListener( 'place_changed', ( function() {const e=t.getPlace(); n.setAttribute( 'loc', e.formatted_address ), n.setAttribute( 'lat', e.geometry.location.lat().toFixed( 5 ) ), n.setAttribute( 'lng', e.geometry.location.lng().toFixed( 5 ) ), n.focus(), n.blur(), V.setNode( '.join-loc-picker__map', '' ), V.setState( 'userLocChange', { lat: e.geometry.location.lat(), lng: e.geometry.location.lng(), loc: e.formatted_address } ), $( '.location__base' ).leafletLocationPicker( { alwaysOpen: !0, mapContainer: '.join-loc-picker__map', height: 140, map: { zoom: 13, center: L.latLng( [e.geometry.location.lat(), e.geometry.location.lng()] ), zoomControl: !1, attributionControl: !1 } } )} ) )}}, launch: function() {if( document.getElementById( 'google-places-script' ) ) {return Promise.resolve()} {const t=V.getApiKey( 'googlePlaces' ); if( t.length>10 ) {return V.setScript( 'https://maps.googleapis.com/maps/api/js?key='+t+'&libraries=places&language=en&region=US', 'google-places-script' )}console.warn( 'Missing Google Places API key' )}} }}(), MarketplaceComponents=function() {'use strict'; function t() {V.setState( 'active', { navItem: this.path } ), V.setBrowserHistory( this.path ), Profile.draw( this )}function e() {User.draw( this )}function n() {const t=V.getNode( '.popup-content' ), e=t&&t.firstChild?V.getNode( '.popup-content' ).firstChild.getAttribute( 'path' ):null; if( V.getState( 'page' ).height>V.getState( 'page' ).peek||e&&e==this.path ) {return V.setBrowserHistory( this.path ), void Profile.draw( this )}o( this.path )}function i( t ) {t.stopPropagation(), V.getState( 'screen' ).width>800&&o( this.path, 'hover' )}function o( t, e ) {const n=V.getCache( 'highlights' ).data.find( e=>e.path==t )||V.getCache( 'features' ).data.find( e=>e.path==t ); n&&( V.setNode( '.leaflet-popup-pane', '' ), V.setNode( '.popup-content', '' ), V.setNode( '.popup-content', c( n ) ), V.getNode( '.popup' ).style.opacity=1, e&&VMap.draw( [n], { isHover: !0 } ) )}function s() {Page.draw( { position: 'closed', reset: !1, navReset: !1 } ), 1===V.getSetting( 'joinVersion' )?Form.draw( V.getNavItem( 'active', 'serviceNav' ).use.form ):V.setNode( 'body', JoinRoutine.draw( V.getNavItem( 'active', 'serviceNav' ).use ) )}function r( o, s ) {const r=function( t ) {if( V.getState( 'screen' ).brandSecondary, t.thumbnail ) {return'url(\''+V.castEntityThumbnail( t.thumbnail ).src+'\')'}return t.images&&t.images.thumbnail?'url(\''+t.images.thumbnail+'\')':'url(\''+JoinAvatars.dataUris[t.images.avatar-1]+'\')'}( o ); return V.cN( { c: 'circle-3 flex justify-center items-center rounded-full cursor-pointer', a: { style: `background:${r}; background-position: center center; background-size: cover;margin: 0 auto;` }, h: { c: 'card__initials font-bold fs-xl txt-white', h: r.includes( 'url' )?'':V.castInitials( o.fullId ) }, e: { click: 'editable'==s?e.bind( o ):'popup'==s?n.bind( o ):t.bind( o ), mouseover: 'popup'==s?i.bind( o ):void 0 } } )}function a( t ) {return V.cN( { t: 'li', c: 'pxy', h: { t: 'smallcard', c: 'smallcard__container txt-center rounded bkg-white', h: [{ c: 'circle-3 rounded-full animated-background', y: { 'margin-bottom': '20px' } }, { x: !!t&&t.showProgress, c: 'progress-bar', h: { t: 'span', c: 'bar', h: { t: 'span', c: 'progress' } } }] } } )}function c( e ) {const n=!e.path, i=!!e.properties&&( e.properties.filteredDescription?e.properties.filteredDescription:!!e.properties.description&&e.properties.description ), o=V.castDescription( i ); return n?V.cN( { i: e.uuidE+'-map-popup', c: 'map-popup-inner flex justify-center', y: { 'min-height': '320px' }, h: a( { showProgress: !0 } ) } ):V.cN( { c: 'map-popup-inner', a: { path: e.path }, h: [{ t: 'p', c: 'pxy txt-center font-bold cursor-pointer', h: e.fullId, k: t.bind( e ) }, r( e ), { t: 'p', c: 'pxy fs-s capitalize txt-center', h: V.getString( e.role ) }, { x: i, t: 'p', c: 'pxy fs-s break-words', h: o.$intro }] } )}return{ castCircle: r, entitiesAddCard: function() {return V.cN( { t: 'li', c: 'pxy flex items-center', h: { t: 'addcard', c: 'addcard__container txt-center rounded bkg-white', h: { c: 'circle-2 flex justify-center items-center rounded-full cursor-pointer', a: { style: 'background:rgba(var(--black), 0.11);margin-left: 5px;' }, h: { c: 'card__initials font-bold fs-xxl txt-brand-primary-50', h: '+' }, k: s } } } )}, entitiesSmallCard: function( t ) {return V.cN( { t: 'li', c: 'pxy', h: { t: 'smallcard', c: 'smallcard__container flex flex-wrap justify-center items-center', h: r( t, 'popup' ) } } )}, entitiesPlaceholder: a, cardContent: function( e ) {const n=!!e.properties&&( e.properties.filteredDescription?e.properties.filteredDescription:!!e.properties.description&&e.properties.description ), i=V.castDescription( n ), o=V.cN( { c: 'contents' } ), s=V.cN( { c: 'card__top-left flex justify-center items-center pxy', h: r( e ) } ), a=V.cN( { c: 'card__top-right flex items-center pxy', h: { t: 'h2', c: 'font-bold fs-l leading-snug cursor-pointer', h: e.fullId, k: t.bind( e ) } } ), c=V.cN( { c: 'card__bottom-left items-center pxy', h: e.properties&&e.properties.target?[{ c: 'circle-2 flex justify-center items-center rounded-full border-shadow font-medium no-txt-select', h: e.properties.target||'', k: t.bind( e ) }, { t: 'p', c: 'card__unit fs-xxs', h: e.properties.unit||'' }]:'' } ), l=V.cN( { c: 'card__bottom-right pxy', h: [{ t: 'p', c: 'pxy capitalize', h: V.getString( e.role ) }, { x: n, t: 'p', c: 'pxy', h: i.$intro }, { t: 'p', c: 'pxy', h: e.geometry&&e.geometry.baseLocation?e.geometry.baseLocation:'' }], k: t.bind( e ) } ); return V.setNode( o, [s, a, c, l] ), o}, popupContent: c }}(), MarketplaceDefinitions=function() {'use strict'; const t=( ()=>{const t={ localEconomy: 'Local Economy', people: 'People', businesses: 'Businesses', ngos: 'NGO', publicSector: 'Public Sector', anchors: 'Anchor Institutions', networks: 'Networks', skills: 'Skills', tasks: 'Tasks', places: 'Places', events: 'Events' }; return V.getSetting( 'devMode' )&&VTranslation.setStringsToTranslate( t ), t} )(), e={ localEconomy: { title: t.localEconomy, path: '/network/all', use: { role: 'all' }, draw: function( t ) {Marketplace.draw( t )} }, people: { title: t.people, path: '/network/people', use: { form: 'new entity', role: 'PersonMapped', join: 1 }, draw: function( t ) {Marketplace.draw( t )} }, businesses: { title: t.businesses, path: '/network/businesses', divertFundsToOwner: !0, use: { form: 'new entity', role: 'Business', join: 5 }, draw: function( t ) {Marketplace.draw( t )} }, ngos: { title: t.ngos, path: '/network/non-profits', use: { form: 'new entity', role: 'NGO' }, draw: function( t ) {Marketplace.draw( t )} }, publicSector: { title: t.publicSector, path: '/network/public-sector', use: { form: 'new entity', role: 'GOV' }, draw: function( t ) {Marketplace.draw( t )} }, anchors: { title: t.anchors, path: '/network/institutions', use: { form: 'new entity', role: 'Institution' }, draw: function( t ) {Marketplace.draw( t )} }, networks: { title: t.networks, path: '/network/networks', use: { form: 'new entity', role: 'Network' }, draw: function( t ) {Marketplace.draw( t )} }, skills: { title: t.skills, path: '/network/skills', divertFundsToOwner: !0, use: { form: 'new entity', role: 'Skill' }, draw: function( t ) {Marketplace.draw( t )} }, tasks: { title: t.tasks, path: '/network/tasks', use: { form: 'new entity', role: 'Task' }, draw: function( t ) {Marketplace.draw( t )} }, places: { title: t.places, path: '/network/places', use: { form: 'new entity', role: 'Place' }, draw: function( t ) {Marketplace.draw( t )} }, events: { title: t.events, path: '/network/events', use: { form: 'new entity', role: 'Event', join: 3 }, draw: function( t ) {Marketplace.draw( t )} } }, n={ tagEnergyTransportation: { title: 'Energy & Transportation', path: '/tag/energy-transportation', use: { role: 'all' }, draw: function( t ) {Marketplace.draw( t, { query: '#Energy' } )} }, tagIndigenousValues: { title: 'Indigenous Values', path: '/tag/indigenous-values', use: { role: 'all' }, draw: function( t ) {Marketplace.draw( t, { query: '#IndigenousValues' } )} }, tagCommonsCommunitiesGovernance: { title: 'Commons, Communities & Governance', path: '/tag/commons-communities-governance', use: { role: 'all' }, draw: function( t ) {Marketplace.draw( t, { query: '#Governance' } )} }, tagEducationCollectiveIntelligence: { title: 'Education & Collective Intelligence', path: '/tag/education-collective-intelligence', use: { role: 'all' }, draw: function( t ) {Marketplace.draw( t, { query: '#Education' } )} }, tagEconomicsCurrencies: { title: 'Economics & Currencies', path: '/tag/economics-currencies', use: { role: 'all' }, draw: function( t ) {Marketplace.draw( t, { query: '#Economics' } )} }, tagCounteringAnthropogenicMindsets: { title: 'Countering Anthropogenic Mindsets', path: '/tag/countering-anthropogenic-mindsets', use: { role: 'all' }, draw: function( t ) {Marketplace.draw( t, { query: '#CounteringAnthropogenicMindsets' } )} }, tagNewNarratives: { title: 'New Narratives', path: '/tag/new-narratives', use: { role: 'all' }, draw: function( t ) {Marketplace.draw( t, { query: '#NewNarratives' } )} }, tagBiosphereRegeneration: { title: 'Biosphere Regeneration', path: '/tag/biosphere-regeneration', use: { role: 'all' }, draw: function( t ) {Marketplace.draw( t, { query: '#BiosphereRegeneration' } )} }, tagCounteringIdentityPolitics: { title: 'Countering Identity Politics', path: '/tag/countering-identity-politics', use: { role: 'all' }, draw: function( t ) {Marketplace.draw( t, { query: '#CounteringIdentityPolitics' } )} }, tagGlobalIntegralHealth: { title: 'Global Integral Health', path: '/tag/global-integral-health', use: { role: 'all' }, draw: function( t ) {Marketplace.draw( t, { query: '#GlobalIntegralHealth' } )} }, tagFoodWater: { title: 'Food & Water', path: '/tag/food-water', use: { role: 'all' }, draw: function( t ) {Marketplace.draw( t, { query: '#Food' } )} }, tagEmergentOther: { title: 'Emergent Other', path: '/tag/emergent-other', use: { role: 'all' }, draw: function( t ) {Marketplace.draw( t, { query: '#EmergentOther' } )} }, tagSystemicApproaches: { title: 'Systemic Approaches', path: '/tag/systemic-approaches', use: { role: 'all' }, draw: function( t ) {Marketplace.draw( t, { query: '#SystemicApproaches' } )} } }; return Object.assign( e, n )}(), Marketplace=function() {
    'use strict'; function t() {V.setNavItem( 'serviceNav', V.getSetting( 'plugins' ).marketplace.map( t=>MarketplaceDefinitions[t] ) )}return V.setState( 'availablePlugins', { marketplace: t } ), { launch: t, draw: function( t, e ) {
      !function( t, e ) {const n=CanvasComponents.slider(); for( let t=0; t<12; t++ ) {const t=MarketplaceComponents.entitiesPlaceholder(); V.setNode( n, t )}t?Navigation.draw( t ):Navigation.draw(), Chat.drawMessageForm( 'clear' ), Page.draw( { topslider: n, position: t||e?'peek':'closed', navReset: !1 } )}( t, e ), async function( t, e ) {let n=t&&V.getState( 'serviceNav' )[t]?V.getState( 'serviceNav' )[t].use.role:'all'; n=n.replace( 'Mapped', '' ); let i, o, s=!1; const r=Date.now(), a=V.getCache( 'features' ); a&&r-a.timestamp<60*V.getSetting( 'entityCachesDuration' )*1e3&&( o={ success: !0, status: 'cachedFeatures used', elapsed: r-a.timestamp, data: V.castJson( a.data, 'clone' ) } ); const c=V.getCache( 'highlights' ); if( !c ) {let t=0; const e=await new Promise( e=>{const n=setInterval( ()=>{t+=1; const i=V.getCache( 'permitted' ); i&&i.data.length?( clearInterval( n ), e( i ) ):t>115&&( clearInterval( n ), e( !1 ) )}, 70 )} ); e&&V.setCache( 'mixin-highlights', e.data.slice( 0, V.getSetting( 'highlights' ) ).map( t=>t.uuidE ) )}if( e&&e.query?( s=!0, Object.assign( e, { role: n, mapState: V.castJson( VMap.getState() ) } ), i=await V.getQuery( e ).then( t=>( t.success&&V.setCache( 'highlights', t.data ), t ) ) ):c&&r-c.timestamp<60*V.getSetting( 'entityCachesDuration' )*1e3?i={ success: !0, status: 'cachedHighlights used', elapsed: r-c.timestamp, data: V.castJson( c.data, 'clone' ) }:( V.setCache( 'highlights', 'clear' ), V.setCache( 'features', 'clear' ), o=await V.getEntity( 'feature' ).then( t=>( t.success&&V.setCache( 'features', t.data ), t ) ), i=await V.getEntity( 'highlight' ).then( t=>( console.log( t ), t.success&&V.setCache( 'highlights', t.data ), t ) ) ), i.success ) {let e=i.data; return'all'!=n&&( e=i.data.filter( t=>t.role==n ) ), { success: !0, status: 'entities retrieved and filtered', isSearch: s, data: [{ whichRole: n, whichPath: t, entities: e, features: o&&o.data||o }] }}return{ success: !1, status: 'cound not retrieve any entities', isSearch: s, data: [{ whichRole: n, whichPath: t, entities: i.data }] }}( t, e ).then( t=>{
        !function( t ) {
          const e=CanvasComponents.slider(), n=CanvasComponents.list(), i=t.data[0]; if( t.success ) {
            if( ![void 0, '/network/all'].includes( i.whichPath ) ) {const t=MarketplaceComponents.entitiesAddCard(); V.setNode( e, t )}if( i.features&&i.features[0]?i.features.forEach( t=>{s( t )} ):function( t ) {for( let e=t.length-1; e>0; e-- ) {const n=Math.floor( Math.random()*( e+1 ) ), i=t[e]; t[e]=t[n], t[n]=i}return t}( i.entities ).forEach( t=>{s( t )} ), i.entities.length>10 ) {const t=i.entities.pop(), e=i.entities.pop(); o( t ), o( e ); const n=i.entities.filter( t=>null!=t.images.thumbnail ), s=i.entities.filter( t=>void 0===t.images.thumbnail ); n.reverse().sort( ( function( t, e ) {const n=t.properties&&t.properties.description?1:0, i=e.properties&&e.properties.description?1:0; return n<i?1:n>i?-1:0} ) ).forEach( t=>{o( t )} ), s.reverse().forEach( t=>{n.length, o( t )} )}
            else {i.entities.reverse().forEach( t=>{o( t )} )}
          }
          else{if( ![void 0, '/network/all'].includes( i.whichPath ) ) {const t=MarketplaceComponents.entitiesAddCard(); V.setNode( e, t )}V.setNode( e, CanvasComponents.notFound( 'marketplace' ) )}function o( t ) {const e=MarketplaceComponents.cardContent( t ), i=CanvasComponents.card( e ); V.setNode( n, i )}function s( t ) {const n=MarketplaceComponents.entitiesSmallCard( t ); V.setNode( e, n )}t.isSearch?VMap.draw( i.entities, { isSearch: !0 } ):VMap.draw( i.whichRole ), V.getNode( '.is-single-entity-view' )||Page.draw( { topslider: e, listings: n } );
        }( t );
      } );
    } };
  }(), HallComponents=function() {'use strict'; V.setStyle( { 'iframe-wrapper': { 'position': 'relative', 'padding-bottom': '56.25%' }, 'paragraph .iframe-wrapper': { 'margin-bottom': '20px' }, 'iframe-wrapper iframe': { position: 'absolute', top: '0', left: '0', width: '100%', height: '100%' }, 'media-text a': { color: 'rgba(var(--link), 1)' }, 'network-layout__wrapper': { width: '100%' }, 'calls-to-action__wrapper': { width: '100%' }, 'call-to-action': { 'padding': '1rem 3rem', 'background': 'lemonchiffon', 'margin': '1rem', 'border-radius': '5px', 'color': 'crimson' }, 'network-layout__texts': { padding: '0 3rem' }, 'legal-blabla__wrapper': { width: '100%', padding: '0 3rem' } } ); const t=( ()=>{const t={ about: 'About', featuredPeople: 'Featured Members', imprint: 'Imprint', dataProtection: 'Data Protection', privacyPolicy: 'Privacy Policy' }; return V.getSetting( 'devMode' )&&VTranslation.setStringsToTranslate( t ), t} )(); function e() {'Skill'==this&&V.setBrowserHistory( '/network/skills' )||'Task'==this&&V.setBrowserHistory( '/network/tasks' )||'Plot'==this&&V.setBrowserHistory( '/farms/plots' ), 'Skill'==this&&Marketplace.draw( '/network/skills' )||'Task'==this&&Marketplace.draw( '/network/tasks' )||'Plot'==this&&Farm.draw( '/farms/plots' )}function n() {const t=V.castPathOrId( this.textContent ); V.setState( 'active', { navItem: t } ), V.setBrowserHistory( t ), Profile.draw( t )}return{ videoFeature: function( t ) {return t.match( /youtu/ )?V.castYouTubeIframe( t ):t.match( /vimeo/ )?V.castVimeoIframe( t ):void 0}, mediaCard: function( t ) {const e=V.cN( { t: 'media', c: 'contents' } ), i=V.cN( { t: 'h2', c: 'font-bold fs-l pxy cursor-pointer', h: t.fullId, k: n } ), o=V.castDescription( t.properties.description ).$feature, s=V.castDescription( t.properties.description ).$description; return o?V.setNode( e, [i, o, s] ):V.setNode( e, [i, s] ), e}, featureUl: function() {return V.cN( { tag: 'ul' } )}, networkLayout: function( e ) {return V.cN( { t: 'li', c: 'network-layout__wrapper', h: [V.cN( { y: { 'display': 'flex', 'justify-content': 'center', 'min-height': '15vh', 'max-height': '20vh', 'background-image': `url(${e.images.mediumImage})`, 'background-repeat': 'no-repeat', 'background-position': 'center' } } ), V.cN( { c: 'network-layout__texts', h: [{ c: 'network-layout__about font-bold fs-l mb-r', h: V.getString( t.about ) }, { c: 'network-layout__descr', h: V.castDescription( e.properties.description ).$description }, { c: 'network-layout__additional-img', h: V.cN( { t: 'img', a: { src: V.getSetting( 'additionalImage' ) } } ) }] } )] } )}, legalBlabla: function( e ) {const n=e.networkImprint; return n.sitePublisher&&( e.imprint=V.getString( 'Angaben gemäß § 5 TMG' )+'\n\n'+n.sitePublisher+'\n'+n.sitePublisherAddress+'\n'+n.sitePublisherPhone+'\n'+n.sitePublisherEmail+( n.sitePublisherEmail?'\n\n':'' )+n.sitePublisherLegal+( n.sitePublisherLegal?'\n\n':'' )+n.sitePublisherFreeText+( n.sitePublisherFreeText?'\n\n':'' )+V.getString( 'Verantwortlich nach § 55 Abs.2 RStV' )+'\n'+n.contentPublisher+'\n'+n.contentPublisherAddress+'\n'+n.contentPublisherPhone+'\n'+n.contentPublisherEmail+( n.contentPublisherEmail?'\n\n':'' )+n.contentPublisherLegal+( n.contentPublisherLegal?'\n\n':'' )+n.contentPublisherFreeText ), V.cN( { c: 'legal-blabla__wrapper', h: ['imprint', 'dataProtection', 'privacyPolicy'].map( n=>V.cN( { c: '', h: [{ c: 'legal-blabla__title font-bold fs-l mt-r mb-r legal-title-'+n, h: V.getString( t[n] ) }, { c: 'legal-blabla__text legal-text-'+n, y: { 'white-space': 'break-spaces' }, h: e[n] }] } ) ) } )}, callsToAction: function( t ) {const n=t.holderOf.map( t=>V.castRole( t.c ) ), i=[]; return n.includes( 'Plot' )&&i.push( { text: 'Hey! Add your next plot', onClick: 'Plot' } ), !n.includes( 'Plot' )&&i.push( { text: 'Hey! Add your first plot', onClick: 'Plot' } ), !n.includes( 'Skill' )&&i.push( { text: 'Hey! Add your first skill', onClick: 'Skill' } ), !n.includes( 'Task' )&&i.push( { text: 'Hey! Add your first task', onClick: 'Task' } ), i.length=2, V.cN( { c: 'calls-to-action__wrapper', h: i.map( t=>V.cN( { c: 'call-to-action cursor-pointer', h: '👋 '+t.text, k: e.bind( t.onClick ) } ) ) } )}, vipTitle: function() {return V.cN( { c: 'network-layout__featured font-bold fs-l mt-r mb-r', h: V.getString( t.featuredPeople ) } )} }}(), Hall=function() {'use strict'; const t={ builderz: 'https://youtu.be/kJbto4TISKA' }; let e; const n=`${V.getSetting( 'sourceEndpoint' )}/plugins/src/hall/legal/legal-${V.getSetting( 'locale' )}.json`; V.getData( '', n, 'api' ).then( t=>e=Object.assign( t.data[0], { networkImprint: V.getSetting( 'imprint' ) } ) ); const i=( ()=>{const t={ hall: 'Hall' }; return V.getSetting( 'devMode' )&&VTranslation.setStringsToTranslate( t ), t} )(); function o() {const t=V.getCache( 'vips' ), n=CanvasComponents.list(); t&&t.data[0]?( function() {const t=HallComponents.vipTitle(); V.setNode( n, t )}(), t.data.forEach( t=>{'Network'==t.role?( !function( t ) {const e=HallComponents.networkLayout( t ); V.setNode( n, [e], 'prepend' )}( t ), VMap.draw( [t] ) ):function( t ) {const e=MarketplaceComponents.cardContent( t ), i=CanvasComponents.card( e ); V.setNode( n, i )}( t )} ), function() {const t=HallComponents.legalBlabla( e ); V.setNode( n, t )}() ):V.setNode( n, CanvasComponents.notFound( 'vips' ) ), Page.draw( { listings: n, position: 'feature' } )}function s( e ) {Navigation.draw( e ), function() {const e=MediaComponents.featureUl(), n=MediaComponents.videoFeature( function( e=V.getSetting( 'featureVideo' ) ) {return t[e]}() ); V.setNode( e, n ), Feature.draw( e )}(); const n=CanvasComponents.list(); for( let t=0; t<8; t++ ) {const t=AccountComponents.accountPlaceholderCard(), e=CanvasComponents.card( t ); V.setNode( n, e )}Page.draw( { listings: n, position: 'feature' } )}function r() {( async function() {let t; const e=Date.now(), n=V.getCache( 'vips' ); if( n&&e-n.timestamp<60*V.getSetting( 'entityCachesDuration' )*1e3?t={ success: !0, status: 'cachedVips used', elapsed: e-n.timestamp, data: V.castJson( n.data, 'clone' ) }:( V.setCache( 'vips', 'clear' ), t=await V.getEntity( 'vip' ).then( t=>( t.success&&V.setCache( 'vips', t.data ), t ) ) ), t.success ) {const e=t.data.find( t=>'Network'==t.role ); return e?( await V.getEntity( e.uuidE ).then( t=>( t.success&&V.setCache( 'vips', t.data ), t ) ), t ):t}return{ success: !1, status: 'cound not retrieve any entities', data: [] }} )().then( t=>{o()} )}function a() {const t={ hall: { title: i.hall, path: '/network/hall', use: {}, draw: function() {Hall.draw( '/network/hall' )} } }; V.setNavItem( 'serviceNav', V.getSetting( 'plugins' ).hall.map( e=>t[e] ) )}return V.setState( 'availablePlugins', { hall: a } ), { launch: a, draw: function( t ) {s( t ), setTimeout( r, 2e3 )} }}(), VMap=function() {
    'use strict'; const t={ atlantic: { lng: -27.07, lat: 14, zoom: 3 }, berlin: { lng: 13.383, lat: 52.522, zoom: 13 }, chicago: { lng: -87.964, lat: 41.858, zoom: 13 }, nyc: { lng: -73.958, lat: 40.792, zoom: 13 }, fremantle: { lng: 115.753, lat: -32.05, zoom: 13 }, lowerafrica: { lng: 18, lat: -15, zoom: 4 }, germany: { lng: 10.85, lat: 50.66, zoom: 6 } }, e=[[17.05291, 2.07035], [87.331111, 43.681111], [-56.1004, -15.6006], [9.902056, 49.843], [134.354806, -25.610111], [-100, 48.166667], [-5.077173, -74.254112], [-40, 35]], n={ maxWidth: 180, minWidth: 130, closeButton: !1, autoPanPadding: [120, 200], keepInView: !0, className: 'map__popup' }; let i, o, s, r, a, c, l, u; const h=[]; function d( t, e ) {
      const n=V.getNode( '.map-popup-inner' ); if( Array.isArray( t ) ) {return void( e?e.isSearch&&t[0]?function( t ) {a&&a.remove(); a=f( 'search', t ), a.addTo( i ); const e=t[0].geometry.coordinates[1], n=t[0].geometry.coordinates[0]; i.setView( [e, n], 3 ), V.setState( 'map', { lat: e, lng: n, zoom: 3 } )}( t ):e.isHover?function( t ) {c&&c.remove(); u&&u.remove(); u=f( 'hover', t ), u.addTo( i )}( t ):e.isJoin&&_( t, e ):( t[0]&&t[0].isBaseLocationUpdate&&function( t ) {l&&l.remove(); l=f( 'tempPoint', t ), setTimeout( ()=>{l.addTo( i )}, 500 )}( t ), _( t ) ) )}a&&a.remove(); const s=t||'all'; if( 'all'==s ) {
        const t=V.getState( 'active' ).lastLngLat; if( t&&!n ) {i.setView( [t[1], t[0]], i.getZoom()-5 )}
        else{const t=V.getState( 'map' ); i.setView( [t.lat, t.lng], t.zoom )}
      }
      else {c&&c.remove()}n||g( s ), function( t ) {o&&o.remove(); const e=V.getCache( 'highlights' ); if( !e ) {return}let n=e.data; 'all'!=t&&( n=n.filter( e=>e.role==t ) ); o=f( 'highlights', n ), o.addTo( i )}( s );
    }function p( t ) {return MarketplaceComponents.popupContent( t )}function f( t, i, o ) {const s=V.getState( 'screen' ), r={ radius: 5, fillColor: 'rgba('+s.brandPrimary+', 1)', weight: 0, opacity: 0.8, fillOpacity: 0.8 }; switch( t ) {case'denied':r.fillColor='rgba('+s.brandPrimary+', 0.55)'; break; case'highlights':r.fillColor='rgba('+s.brandSecondary+', 1)', r.radius=6, r.fillOpacity=1; break; case'search':r.fillColor='red', r.radius=6, r.fillOpacity=1; break; case'tempPoint':r.fillColor='purple', r.radius=9, r.fillOpacity=1; break; case'lastViewed':case'hover':r.radius=9, r.fillColor='blue', r.stroke=!0, r.weight=3, r.color='lightblue';}const a={ pointToLayer: function( t, e ) {return L.circleMarker( e, r )} }; return'permitted'!=t&&i[0]&&!i[0].isBaseLocationUpdate&&i.forEach( t=>{const n=V.getCache( 'permitted' ), i=n?n.data.find( e=>e.uuidE==t.uuidE ):void 0; i&&( i.geometry.coordinates||( i.geometry.coordinates=V.castJson( e[i.geometry.continent-1], 'clone' ) ), Object.assign( t.geometry, i.geometry ) )} ), ['search', 'highlights', 'tempPoint', 'lastViewed'].includes( t )&&( a.onEachFeature=function( t, e ) {e.bindPopup( L.popup().setContent( p( t ) ), n ), o&&o.isJoin&&e.on( 'add', ( function( t ) {t.target.openPopup()} ) )} ), L.geoJSON( i, a )}function m( e=V.getSetting( 'mapDefault' ) ) {return t[e]}function g( t ) {s&&s.remove(), r&&r.remove(); const e=V.getCache( 'points' ); if( !e ) {return}let n=e.data; 'Person'==t?n=n.filter( t=>['aa', 'ab'].includes( t.role ) ):'all'!=t&&( n=n.filter( e=>e.role==V.castRole( t ) ) ); const o=n.filter( t=>[0, null].includes( t.privacy ) ); s=f( 'permitted', o ), s.on( 'click', v ), s.addTo( i ); const a=n.filter( t=>2==t.privacy ); r=f( 'denied', a ), r.addTo( i )}function _( t, n ) {c&&c.remove(), t[0].geometry.coordinates||( t[0].geometry.coordinates=V.castJson( e[t[0].geometry.continent-1], 'clone' ) ), c=f( 'lastViewed', t, n ); const o=V.getState( 'screen' ), s=V.getState( 'active' ).lastLngLat||t[0].geometry.coordinates, r=t[0].geometry.rand, a=o.width<800?0:r?45:0.35, l=r?3:10; i.setView( [s[1], s[0]-a], l ), setTimeout( ()=>{c.addTo( i )}, 500 )}async function v( t ) {if( t.layer.feature.privacy>0 ) {return}const e=t.layer.feature.uuidE, i=t.layer.feature.uuidP, o=L.popup().setContent( p( { uuidE: e } ) ); let s; t.layer.bringToFront().setStyle( { fillColor: 'blue', radius: 7 } ).bindPopup( o, n ).openPopup(); const r=V.getFromCache( 'viewed', e ); s=r?V.successTrue( 'used cache', r ):await V.getEntity( { uuidE: e, uuidP: i, isMapPopUp: !0 } ).then( t=>{if( t.success ) {return V.successTrue( 'fetched entity', t.data )}} ), setTimeout( ( function() {V.setNode( '#'+e+'-map-popup', '' ), V.setNode( '#'+e+'-map-popup', p( s.data[0] ) )} ), 200 )}function y() {const t=i.getCenter(); Object.assign( t, { zoom: i.getZoom() } ), V.setState( 'mapCenter', t ), V.setLocal( 'map-center', t )}return{ launch: function() {
      V.getSetting( 'drawMap' )&&function() {
        const t=V.getState( 'screen' ), n={ lat: m().lat, lng: m().lng, zoom: t.height>1200?m().zoom+1:m().zoom, maxZoom: 16, minZoom: t.height>1200?3:2 }, o=V.getLocal( 'map-center' ); if( o ) {const t=JSON.parse( o ); i=L.map( 'background', { tapTolerance: 22 } ).setView( [t.lat, t.lng], t.zoom ), V.setState( 'map', { lat: t.lat, lng: t.lng, zoom: t.zoom } )}
        else {i=L.map( 'background', { tapTolerance: 22 } ).setView( [n.lat, n.lng], n.zoom ), V.setState( 'map', { lat: n.lat, lng: n.lng, zoom: n.zoom } )}L.tileLayer( 'https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', { attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>', maxZoom: n.maxZoom, minZoom: n.minZoom } ).addTo( i ), V.getEntity( 'point' ).then( t=>{if( t.success ) {const n=t.data.map( t=>{t.zz?t.zz.i||( t.zz.i=V.castJson( e[t.zz.m-1], 'clone' ) ):t.zz={ i: V.castJson( e[7], 'clone' ) }; const n=JSON.stringify( t.zz.i ); return h.includes( n )?( t.zz.i[0]+=1*( ( Math.random()-0.5 )/10 ).toFixed( 4 ), t.zz.i[1]+=1*( ( Math.random()-0.5 )/10 ).toFixed( 4 ), h.push( JSON.stringify( t.zz.i ) ) ):h.push( n ), function( t ) {return{ uuidE: t.a, uuidP: t.d, role: t.c.replace( 'Mapped', '' ), privacy: t.f, geometry: { coordinates: t.zz&&t.zz.i?t.zz.i:V.castRandLatLng().lngLat, rand: !t.zz||!t.zz.i, type: 'Point' }, type: 'Feature' }}( t )} ); V.setCache( 'points', n ); const i=n.filter( t=>[0, null].includes( t.privacy ) ); V.setCache( 'permitted', i ); const o=n.filter( t=>2==t.privacy ); V.setCache( 'denied', o )}} ).then( ()=>g( 'all' ) ), i.on( 'moveend', y );
      }();
    }, draw: function( t, e ) {V.getSetting( 'drawMap' )&&d( t, e )}, getState: function() {return{ center: i.getCenter(), zoom: i.getZoom(), bounds: i.getBounds() }} };
  }(), MediaComponents=function() {'use strict'; function t() {const t=V.castPathOrId( this.textContent ); V.setState( 'active', { navItem: t } ), V.setBrowserHistory( t ), Profile.draw( t )}return V.setStyle( { 'iframe-wrapper': { 'position': 'relative', 'padding-bottom': '56.25%' }, 'paragraph .iframe-wrapper': { 'margin-bottom': '20px' }, 'iframe-wrapper iframe': { position: 'absolute', top: '0', left: '0', width: '100%', height: '100%' }, 'media-text a': { color: 'rgba(var(--link), 1)' } } ), { videoFeature: function( t ) {return t.match( /youtu/ )?V.castYouTubeIframe( t ):t.match( /vimeo/ )?V.castVimeoIframe( t ):void 0}, mediaCard: function( e ) {const n=V.cN( { t: 'media', c: 'contents' } ), i=V.cN( { t: 'h2', c: 'font-bold fs-l pxy cursor-pointer', h: e.fullId, k: t } ), o=V.castDescription( e.properties.description ).$feature, s=V.castDescription( e.properties.description ).$description; return o?V.setNode( n, [i, o, s] ):V.setNode( n, [i, s] ), n}, featureUl: function() {return V.cN( { tag: 'ul' } )} }}(), Media=function() {'use strict'; const t={ faithfinance: 'https://vimeo.com/236725407', builderz: 'https://youtu.be/kJbto4TISKA' }, e=( ()=>{const t={ media: 'Media', moocs: 'Moocs' }; return V.getSetting( 'devMode' )&&VTranslation.setStringsToTranslate( t ), t} )(); function n( t ) {Navigation.draw( t ), function() {const t=MediaComponents.featureUl(), e=MediaComponents.videoFeature( o() ); V.setNode( t, e ), Feature.draw( t )}(); const e=CanvasComponents.list(); for( let t=0; t<8; t++ ) {const t=AccountComponents.accountPlaceholderCard(), n=CanvasComponents.card( t ); V.setNode( e, n )}Page.draw( { listings: e, position: 'feature' } )}function i() {( async function() {const t=V.getCache( 'points' ).data.filter( t=>'al'==t.role ); return t?await V.getEntity( t.map( t=>t.uuidE ) ):{ success: !1 }} )().then( t=>{!function( t ) {const e=CanvasComponents.slider(), n=CanvasComponents.list(), i=MarketplaceComponents.entitiesAddCard(); V.setNode( e, i ), t.data[0]?t.data.forEach( t=>{const e=MediaComponents.mediaCard( t ), i=CanvasComponents.card( e ); V.setNode( n, i )} ):V.setNode( n, CanvasComponents.notFound( 'media' ) ), Page.draw( { topslider: e, listings: n, position: 'feature' } )}( t )} )}function o( e=V.getSetting( 'featureVideo' ) ) {return e.includes( 'http' )?e:t[e]}function s() {const t={ media: { title: e.media, path: '/media', divertFundsToOwner: !0, use: { form: 'new entity', role: 'Media' }, draw: function() {Media.draw( '/media', { feature: o() } )} }, moocs: { title: e.moocs, path: '/media/moocs', divertFundsToOwner: !0, use: { form: 'new entity', role: 'Mooc' }, draw: function() {Media.draw( '/media/moocs', { feature: o() } )} } }; V.setNavItem( 'serviceNav', V.getSetting( 'plugins' ).media.map( e=>t[e] ) )}return V.setState( 'availablePlugins', { media: s } ), { launch: s, draw: function( t ) {n( t ), setTimeout( i, 2e3 )} }}(), PoolComponents=function() {'use strict'; const t=( ()=>{const t={ notFunded: 'Not yet successfully funded', successFunded: 'Successfully funded', noneSpent: 'None yet spent', spent: 'Received budget spent', of: 'of' }; return V.getSetting( 'devMode' )&&VTranslation.setStringsToTranslate( t ), t} )(); return{ fundingStatusWrapper: function( t ) {return V.cN( { c: 'funding-status-wrapper w-full', h: t } )}, fundingStatusContent: function( e ) {const n=Math.floor( e.receiveVolume>0?e.receiveVolume/e.target*100:1 ), i=Math.ceil( e.sendVolume>0?e.sendVolume*( 1+V.getTokenContract().transactionFee/1e4 )/e.receiveVolume*100:1 ), o='<svg width="100" height="100" class="pool__funding-chart">               <circle r="25" cx="50" cy="50" class="pool__funding-pie" stroke-dasharray="'+Math.floor( n/100*158 )+' 158"/>             </svg>', s='<svg width="100" height="100" class="pool__spending-chart">      <circle r="25" cx="50" cy="50" class="pool__spending-pie" stroke-dasharray="'+Math.floor( i/100*158 )+' 158"/>      </svg>'; return V.cN( { t: 'table', c: 'w-full pxy', h: [{ t: 'tr', h: [{ t: 'td', innerHtml: o }, { t: 'td', innerHtml: ( n<=1?'0':n )+' % '+V.getString( t.of )+' '+e.target+' V<br><br>'+( n>=66?'<span class="">'+V.getString( t.successFunded )+'</span>':V.getString( t.notFunded ) ) }] }, { t: 'tr', h: [{ t: 'td', innerHtml: s }, { t: 'td', innerHtml: ( i<=1?'0':i )+' % '+V.getString( t.of )+' '+e.receiveVolume+' V<br><br>'+( i>0?'':V.getString( t.noneSpent ) ) }] }] } )} }}(), Pool=function() {'use strict'; const t=( ()=>{const t={ funding: 'Funding Status', crowdfunding: 'Crowdfunding' }; return V.getSetting( 'devMode' )&&VTranslation.setStringsToTranslate( t ), t} )(); function e() {const e={ pools: { title: t.crowdfunding, path: '/pools', use: { form: 'new entity', role: 'Pool' }, draw: function( t ) {Pool.draw( t )} } }; V.setNavItem( 'serviceNav', V.getSetting( 'plugins' ).pool.map( t=>e[t] ) )}return V.setState( 'availablePlugins', { pool: e } ), { launch: e, draw: function( t ) {var e; e=t, Navigation.draw( e ), Page.draw( { position: 'peek' } ), Marketplace.draw( t )}, drawWidget: function() {const e=V.getState( 'active' ).lastViewedEntity; if( 'Pool'!=e.role ) {return''}( async function( t ) {let e=0, n=0; const i=await V.getAddressHistory( { address: t.evmCredentials.address, fromBlock: 0, toBlock: 'latest' } ); return i.success&&i.data.length&&i.data.forEach( t=>{'out'==t.txType&&( e+=Number( t.amount ) ), 'in'==t.txType&&( n+=Number( t.amount ) )} ), { sendVolume: e, receiveVolume: n, target: t.properties.target }} )( e ).then( t=>{setTimeout( ( function() {V.setNode( '.funding-status-wrapper', '' ), V.setNode( '.funding-status-wrapper', PoolComponents.fundingStatusContent( t ) )} ), 50 )} ); const n={ sendVolume: 0, receiveVolume: 0, target: V.getState( 'active' ).lastViewedEntity.properties.target }, i=PoolComponents.fundingStatusWrapper( PoolComponents.fundingStatusContent( n ) ); return CanvasComponents.card( i, V.getString( t.funding ) )} }}(), SoilCalculatorComponents=function() {
    'use strict'; const t=V.getAppLocale(); V.setStyle( { 'tabs-wrapper': { padding: '0.5rem' }, 's-calc-form': {}, 's-calc-results-show-btn': { 'text-align': 'center', 'text-decoration': 'underline', 'cursor': 'pointer', 'transform': 'rotate(0deg)', 'transition': 'transform 0.25s ease-out' }, 's-calc-results': { 'border-radius': '5px', 'background': 'whitesmoke', 'margin': '1.5rem' }, 's-calc-total-balance': {}, 's-calc-form__section': { 'padding': '0 0.5rem', 'margin-top': '0.7rem' }, 's-calc-summary': { 'padding': '0 0.5rem', 'margin-top': '0.7rem' }, 's-calc-summary__data': { 'margin-top': '0.7rem' }, 's-calc-summary__item': { 'margin-bottom': '0.7rem' }, 's-calc-summary__item-number': { 'margin-right': '0.7rem' }, 's-calc-results-visibility': { display: 'block !important' }, 's-calc-input-wrapper': { 'display': 'flex', 'justify-content': 'space-between', 'margin-bottom': '0.7rem' }, 's-calc-input-radio': { 'appearance': 'none', 'border-radius': '50%', 'width': '16px', 'height': '16px', 'background-color': '#fff', 'transition': 'all ease-in 0.15s' }, 's-calc-input-radio:checked': { 'background-color': '#bbb' }, 's-calc-input-number': { 'width': '50px', 'padding': '0.2rem 0.4rem', 'font-weight': '600', 'border-radius': '3px', 'text-align': 'right' }, 's-calc-input-select': { 'width': '210px', 'border': 'none', 'padding': '0.2rem 0.4rem', 'border-radius': '3px', 'text-align': 'right', 'background': '#eee' }, 's-calc-form__field-group-title': { 'margin-bottom': '0.7rem' }, 's-calc-form__section-title': {}, 's-calc-tab-nav': {}, 's-calc-input-unit': { 'font-size': '0.75rem', 'font-style': 'italic', 'margin-left': '1rem' }, 's-calc-tab-content': { 'background': '#eee', 'padding': '0.5rem', 'border-radius': '0 0 5px 5px' }, 's-calc-results-table': { padding: '1.2rem' }, 's-calc-input-radio-wrapper': { 'display': 'flex', 'justify-content': 'space-between', 'align-items': 'center', 'width': '38%' }, 's-calc-safe': { 'margin': '10px 0 0 0', 'padding': '5px 0', 'background': 'gray', 'color': 'white', 'text-align': 'center', 'border-radius': '50px' } } ); const e=( ()=>{const t={ cropSequenceTitle: 'Crop Sequence', soilBalanceTitle: 'Soil Balance', siteDataTitle: 'Site Data', year: 'Jahr', yes: 'yes', no: 'no', noCropSelected: 'None selected', noFertilizerSelected: 'No fertilizer', safeDataset: 'Save this set', showDetails: 'Show details', summary: 'Summary' }; return V.getSetting( 'devMode' )&&VTranslation.setStringsToTranslate( t ), t} )(); function n( t ) {t&&function( t ) {const e=t.target.closest( 'form' ).getAttribute( 'name' ), n='SITE'===e?'10':e.replace( 'CROP-', '' ), i=s( e ); if( -20===i ) {return}if( -10===i ) {return void V.setEntity( V.getState( 'active' ).lastViewed, { field: 'servicefields.s'+n, data: null } )}const o=V.castJson( i ); V.setEntity( V.getState( 'active' ).lastViewed, { field: 'servicefields.s'+n, data: o } )}( t ), function() {V.setState( 'cropSequence', { s10: s( 'SITE' ) } ); for( let t=1; t<=8; t++ ) {const e={}; e['s'+t]={ datapoint: s( 'CROP-'+t ) }, V.setState( 'cropSequence', e )}}(), function() {const t=V.getState( 'cropSequence' ).s10; for( let e=1; e<=8; e++ ) {const n=V.getState( 'cropSequence' )['s'+e].datapoint; if( 'number'==typeof n ) {continue}const i=1==e?null:V.getState( 'cropSequence' )['s'+( e-1 )].datapoint; Object.assign( n, t ), n&&t&&SoilCalculator.getDatapointResults( n, i ).then( t=>{Object.assign( V.getState( 'cropSequence' )['s'+e], { results: t.results } )} )}}(), setTimeout( ( function() {V.getNodes( '.s-calc-result' ).forEach( t=>{t.innerText=''} ), function() {const t=V.getState( 'cropSequence' ); for( const e in t ) {const n=e.replace( 's', '' ); ['undefined', 'number'].includes( typeof t[e].datapoint )?n<=8&&V.getNode( 'label[for="tab'+n+'"]' ).classList.remove( 'font-bold' ):( V.getNode( 'label[for="tab'+n+'"]' ).classList.add( 'font-bold' ), r( t[e].results, n ) )}}(), SoilCalculator.getSequenceResults( V.getState( 'cropSequence' ) ).then( t=>{r( t )} ), function() {const t=V.castClone( V.getState( 'cropSequence' ) ); delete t.s9, delete t.s10, V.setNode( '.s-calc-summary__data', 'clear' ), V.getNode( '.s-calc-summary' ).append( g( t ) )}()} ), 170 )}function i( t ) {!function( t ) {const e=t.target.closest( 'form' ).getAttribute( 'name' ); t.target.id=='s-calc-input-BMASS_MP_HVST_N_'+e&&( V.getNode( '#s-calc-input-BMASS_SP_HVST_N_'+e ).checked=!0 )}( t ), n( t )}function o() {V.getNodes( '.s-calc-results-wrapper' ).forEach( t=>{t.classList.toggle( 's-calc-results-visibility' )} ), V.getNodes( '.s-calc-results-show-btn' ).forEach( t=>{t.classList.contains( 'rotate' )?t.classList.remove( 'rotate' ):t.classList.add( 'rotate' )} )}function s( t ) {const e=document.forms[t].elements, n=function( t, e ) {if( 'SITE'===e ) {return 1}if( 1e3==t.CROP_ID.value&&!t.BMASS_MP_QTY.value ) {return-10}if( 1e3==t.CROP_ID.value||!t.BMASS_MP_QTY.value ) {return-20}return 1}( e, t ); if( n<1 ) {return n}const i=V.castClone( SoilCalculator.getSchema( 'request' ) ); return'SITE'===t?( delete i.CROP, delete i.FTLZ, delete i.BMASS, i.SITE.CN=Number( e.SITE_CN.value ), i.SITE.FCAP=Number( e.SITE_FCAP.value ), i.SITE.PCIP.QTY=Number( e.SITE_PCIP_QTY.value ), i.SITE.PCIP.MUL=Number( e.SITE_PCIP_MUL.value ), i.SITE.N.DEP=Number( e.SITE_N_DEP.value ) ):( delete i.SITE, i.CROP.ID=Number( e.CROP_ID.value ), i.FTLZ.ORG.ID=Number( e.FTLZ_ORG_ID.value ), i.FTLZ.ORG.QTY=Number( e.FTLZ_ORG_QTY.value ), i.BMASS.MP.QTY=Number( e.BMASS_MP_QTY.value ), i.BMASS.MP.HVST='true'===e.BMASS_MP_HVST.value, i.BMASS.SP.QTY=Number( e.BMASS_SP_QTY.value ), i.BMASS.SP.HVST='true'===e.BMASS_SP_HVST.value ), i}function r( t, e ) {
      const n='#s-calc-result'+( e?'__tab-'+e:'' )+'__'; for( const e in t ) {
        for( const i in t[e] ) {
          if( 'object'==typeof t[e][i] ) {for( const o in t[e][i] ) {const s=e+'_'+i+'_'+o, r=t[e][i][o].toFixed( 1 ); V.setNode( n+s, r )}}
          else{const o=e+'_'+i, s=t[e][i].toFixed( 1 ); V.setNode( n+o, s )}
        }
      }
    }function a( t, e, n ) {return t+'_'+e+( n?'_'+n:'' )}function c( e, n ) {return e.map( ( function( e ) {return function( e, n ) {return{ t: 'tr', h: [{ t: 'td', h: SoilCalculator.getFieldString( e, t ) }, { t: 'td', i: 's-calc-result'+( n?'__tab-'+n:'' )+'__'+e, c: 's-calc-result td-right txt-right break-words', h: InteractionComponents.confirmClickSpinner( { color: 'black' } ) }] }}( e, this.tabNum )} ), { tabNum: n } )}function l( t ) {return{ c: 's-calc-results s-calc-results__som', h: { t: 'table', c: 's-calc-results-table w-full', h: c( ['SOM_LOSS', 'SOM_SUPP', 'SOM_BAL_N', 'SOM_BAL_C'], t ) } }}function u( t ) {return{ c: 's-calc-results', h: { t: 'table', c: 's-calc-results-table w-full', h: c( ['N_PB', 'N_FIX', 'N_FTLZ_ORG', 'N_FTLZ_GRS', 'N_DEP', 'N_NYR'], t ) } }}function h( t ) {return{ c: 's-calc-results', h: [{ t: 'table', c: 's-calc-results-table w-full', h: c( ['N_CR', 'N_FTLZ_REM', 'C_CR', 'C_FTLZ_REM'], t ) }, { y: { 'text-align': 'right', 'padding': '0 1.5rem 1rem', 'font-size': '0.75rem', 'font-style': 'italic', 'color': '#aaa' }, h: 'in kg/ha' }] }}function d( t={} ) {t=V.castClone( t ); for( let e=1; e<=8; e++ ) {t['s'+e]||( t['s'+e]=JSON.stringify( SoilCalculator.getSchema( 'request' ) ) )}delete t.s9, delete t.s10; const e=Object.keys( t ).map( t=>t.replace( 's', '' ) ); e.push( 'AA' ); const n=V.cN( { t: 'tabs', h: e.map( t=>( { t: 'input', c: 'tab-input', i: 'tab'+t, a: { type: 'radio', name: 'crop-sequence', checked: '1'===t||void 0 } } ) ) } ); n.append( V.cN( { t: 'nav', h: [{ t: 'ul', c: 's-calc-tab-nav', h: e.map( t=>( { t: 'li', h: { t: 'label', c: 'tab'+t+'__label', for: 'tab'+t, h: 'AA'==t?V.getIcon( 'summarize' ):t } } ) ) }] } ) ), n.append( V.cN( { t: 'content', h: e.map( ( function( t ) {const e=V.castJson( this.data['s'+t] ); return{ c: 's-calc-tab-content tab-content tab'+t+'__content', h: ['AA'!=t?f( t, e, ['SITE'] ):m( this.data ), { c: 's-calc-results-show-btn', h: V.getIcon( 'expand_more', '24px' ), k: o }, V.cN( { c: 's-calc-results-wrapper hidden', h: [l( t ), u( t ), h( t )] } )] }} ), { data: t } ) } ) ); return V.cN( { c: 'tabs-wrapper w-full', h: n } )}function p( t ) {( !t||t&&!t.s10 )&&( t={ s10: JSON.stringify( { SITE: { CN: 10, FCAP: 40, PCIP: { QTY: 650, MUL: 0.5 }, N: { DEP: 20 } } } ) } ); return f( 0, V.castJson( t.s10 ), ['BMASS', 'CROP', 'FTLZ'] )}function f( o, s, r ) {s||( s=SoilCalculator.getSchema( 'request' ) ), s=V.castClone( s ), r.forEach( t=>{delete s[t]} ); const c=Object.keys( s )[0]+( o?'-'+o:'' ), l=( e, n, i )=>( { c: 's-calc-input-wrapper', h: [V.cN( { y: { 'display': 'flex', 'align-items': 'center' }, h: [{ t: 'label', c: 's-calc-input-label', for: 's-calc-input__'+n, h: SoilCalculator.getFieldString( n, t ) }, { c: 's-calc-input-unit', h: i }] } ), e] } ), u=( e, i )=>{const o=SoilCalculator.getFieldString( i, t, 'unit' ), s=V.cN( { t: 'input', c: 's-calc-input-number', i: 's-calc-input__'+i, a: { type: 'number', step: 'any', min: '0', name: i }, e: { input: V.debounce( n, 320 ) }, v: -1===e?0:e } ); return l( s, i, o )}, h=( e, i )=>{const o='CROP_ID'==i?SoilCalculator.getCrops():SoilCalculator.getFertilizers(), s=t.includes( 'de_' ), r=V.cN( { t: 'select', c: 's-calc-input-select', i: 's-calc-input__'+i, a: { name: i }, e: { change: n }, h: o.map( t=>( { t: 'option', v: t.ID, a: { selected: t.ID==e||void 0 }, h: s?t.NAME_DE:t.NAME } ) ) } ); return l( r, i )}, d=( t, n )=>{const o=V.cN( { c: 's-calc-input-radio-wrapper', h: [{ t: 'input', c: 's-calc-input-radio', i: 's-calc-input-'+n+'_Y', a: { type: 'radio', name: n, checked: !!t||void 0 }, e: { change: i }, v: 'true' }, { t: 'label', c: 's-calc-input-radio-label', for: 's-calc-input-'+n+'_Y', h: V.getString( e.yes ) }, { t: 'input', c: 's-calc-input-radio', i: 's-calc-input-'+n+'_N_'+c, a: { type: 'radio', name: n, checked: !t||void 0 }, e: { change: i }, v: 'false' }, { t: 'label', c: 's-calc-input-radio-label', for: 's-calc-input-'+n+'_N_'+c, h: V.getString( e.no ) }] } ); return l( o, n )}, p={ CROP: { ID: h }, FTLZ: { ORG: { ID: h, QTY: u } }, BMASS: { MP: { QTY: u, HVST: d }, SP: { QTY: u, HVST: d } }, SITE: { CN: u, FCAP: u, PCIP: { QTY: u, MUL: u }, N: { DEP: u } } }; return V.cN( { t: 'form', a: { name: c }, c: 's-calc-form w-full', h: Object.keys( s ).map( e=>( { c: 's-calc-form__section', h: [{ c: 's-calc-form__section-title font-bold', h: SoilCalculator.getFieldString( e, t ) }, { c: 's-calc-form__section-fields', h: Object.keys( s[e] ).map( n=>'object'==typeof s[e][n]?( ( e, n )=>V.cN( { c: 's-calc-form__field-group', h: [{ c: 's-calc-form__field-group-title font-bold', h: SoilCalculator.getFieldString( e+'_'+n, t ) }, { c: 's-calc-form__field-group-fields', h: Object.keys( s[e][n] ).map( t=>p[e][n][t]( s[e][n][t], a( e, n, t ) ) ) }] } ) )( e, n ):( ( t, e )=>V.cN( { c: 's-calc-form__field-single', h: p[t][e]( s[t][e], a( t, e, !1 ) ) } ) )( e, n ) ) }] } ) ) } )}function m( t ) {return V.cN( { c: 's-calc-summary', h: [V.cN( { c: 's-calc-summary__title font-bold', h: V.getString( e.summary ) } ), g( t )] } )}function g( e ) {return V.cN( { c: 's-calc-summary__data', h: Object.values( e ).map( ( e, n )=>( e=e.datapoint||JSON.parse( e ), V.cN( { t: 'p', c: 's-calc-summary__item flex', h: [{ t: 'span', c: 's-calc-summary__item-number', h: n+1 }, { t: 'span', h: e.CROP&&-1!=e.CROP.ID?SoilCalculator.getCropName( e.CROP.ID, t )+' / '+SoilCalculator.getFertilizerName( e.FTLZ.ORG.ID, t ):'' }] } ) ) ) } )}function _( t, n ) {return[CanvasComponents.card( { c: 's-calc-total-balance w-full', h: [{ y: { 'display': 'flex', 'justify-content': 'space-between', 'font-size': '1.6rem', 'font-weight': '600' }, c: 'w-full pxy', h: [{ y: { 'padding': '0.75rem 1.25rem', 'border-radius': '5px', 'border-left': '3px solid', 'color': 'teal' }, h: [{ t: 'span', y: { 'margin-right': '1.5rem' }, h: 'N' }, { t: 'span', y: { color: 'teal' }, i: 's-calc-result__T_BAL_N', h: '0.00' }] }, { y: { 'padding': '0.75rem 1.25rem', 'border-radius': '5px', 'border-left': '3px solid', 'color': 'steelblue' }, h: [{ t: 'span', y: { 'margin-right': '1.5rem' }, h: 'C' }, { t: 'span', y: { color: 'steelblue' }, i: 's-calc-result__T_BAL_C', h: '0.00' }] }] }, { y: { 'text-align': 'right', 'padding': '0 0.7rem', 'font-style': 'italic', 'color': '#aaa' }, h: [{ t: 'span', y: { 'font-size': '1.1rem' }, h: 'x̄' }, { t: 'span', y: { 'font-size': '0.75rem' }, h: ' in kg/ha' }] }] }, V.getString( e.soilBalanceTitle ) ), CanvasComponents.card( d( n ), V.getString( e.cropSequenceTitle ), void 0, t ), CanvasComponents.card( p( n ), '', void 0, t )]}return{ widget: function( t ) {return V.cN( { c: 's-calc-widget w-full', h: _( t ) } )}, drawWidgetContent: function( t, e ) {V.setNode( '.s-calc-widget', '' ), V.setNode( '.s-calc-widget', _( t, e ) ), n()} };
  }(), SoilCalculator=( ()=>{let t, e, n, i; const o=V.getSetting( 'sourceEndpoint' )+'/plugins/src/farm/soil-calculator/parameter/crops.json', s=V.getSetting( 'sourceEndpoint' )+'/plugins/src/farm/soil-calculator/parameter/fertilizers.json', r=V.getSetting( 'sourceEndpoint' )+'/plugins/src/farm/soil-calculator/parameter/schemas-and-legends.json'; function a( t, e ) {const n=JSON.parse( JSON.stringify( p( 'results' ) ) ), i=function( t ) {return{ spQty: t.BMASS.MP.QTY*t.CROP.RATIO.SPMP, litQty: t.BMASS.MP.QTY*t.CROP.RATIO.LITMP, stbQty: t.BMASS.MP.QTY*t.CROP.RATIO.STBMP, rtsQty: t.BMASS.MP.QTY*t.CROP.MP.DM*t.CROP.RATIO.RTSMP, nLoss: 1-( t.SITE.PCIP.QTY*t.SITE.PCIP.MUL/( t.SITE.PCIP.QTY*t.SITE.PCIP.MUL+t.SITE.FCAP/10 ) )**90 }}( t ); var o; t.BMASS.SP.QTY||( t.BMASS.SP.QTY=i.spQty ), t.BMASS.LIT={ QTY: i.litQty }, t.BMASS.STB={ QTY: i.stbQty }, t.BMASS.RTS={ QTY: i.rtsQty }, t.SITE.N.LOSS=i.nLoss, n.N.PB=u( function( t ) {return c( t, 'N', 'total' )}( t ) ), n.N.FTLZ.ORG=u( function( t ) {return t.FTLZ.ORG.QTY*t.FTLZ.ORG.DM*t.FTLZ.ORG.N*t.FTLZ.ORG.NAV*t.SITE.N.LOSS}( t ) ), n.N.FTLZ.GRS=u( function( t, e ) {if( !e ) {return 0}let n=0; return n+=e.BMASS.MP.HVST?0:e.BMASS.MP.QTY*e.CROP.MP.DM*e.CROP.MP.N*( 1.6674*( e.CROP.MP.C/e.CROP.MP.N )**-0.768 )*t.SITE.N.LOSS, n+=!e.BMASS.SP.HVST&&e.CROP.SP.N?e.BMASS.SP.QTY*e.CROP.SP.DM*e.CROP.SP.N*( 1.6674*( e.CROP.SP.C/e.CROP.SP.N )**-0.768 )*t.SITE.N.LOSS:0, n}( t, e ) ), n.N.FTLZ.REM=u( function( t ) {return t.FTLZ.ORG.QTY*t.FTLZ.ORG.DM*t.FTLZ.ORG.N*( 1-t.FTLZ.ORG.NAV )}( t ) ), n.N.FIX=function( t, e ) {const n=e.PB*t.CROP.LS*t.CROP.N.BFN-e.FTLZ.ORG-e.FTLZ.GRS; return Math.max( n, 0 )}( t, n.N ), n.N.DEP=function( t ) {return t.SITE.N.DEP}( t ), n.N.NYR=function( t ) {return t.CROP.N.NYR}( t ), n.N.CR=u( function( t ) {return c( t, 'N' )}( t ) ), n.C.CR=u( function( t ) {return c( t, 'C' )}( t ) ), n.C.FTLZ.REM=u( function( t ) {return t.FTLZ.ORG.QTY*t.FTLZ.ORG.DM*t.FTLZ.ORG.C}( t ) ), n.SOM.LOSS=function( t, e ) {return( e.PB-e.FIX-e.FTLZ.ORG-e.FTLZ.GRS-e.DEP+e.NYR )*t.SITE.CN}( t, n.N ), n.SOM.SUPP=function( t, e, n ) {const i=( e.CR+e.FTLZ.REM )*t.SITE.CN, o=n.CR+n.FTLZ.REM; return Math.min( i, o )}( t, n.N, n.C ), n.SOM.BAL.C=( o=n.SOM ).SUPP-o.LOSS, n.SOM.BAL.N=function( t, e ) {return( e.SUPP-e.LOSS )/t.SITE.CN}( t, n.SOM ); return{ results: n }}function c( t, e, n ) {return( n||!t.BMASS.MP.HVST?t.BMASS.MP.QTY*t.CROP.MP.DM*t.CROP.MP[e]:0 )+( n||!t.BMASS.SP.HVST?t.BMASS.SP.QTY*t.CROP.SP.DM*t.CROP.SP[e]:0 )+t.BMASS.LIT.QTY*t.CROP.LIT.DM*t.CROP.LIT[e]+t.BMASS.STB.QTY*t.CROP.STB.DM*t.CROP.STB[e]+t.BMASS.RTS.QTY*t.CROP.RTS.DM*t.CROP.RTS[e]}function l( t, e ) {return t.find( ( function( t ) {return isNaN( Number( this ) )?t.NAME===String( this ):t.ID===Number( this )} ), e )}function u( t ) {return 1e3*t}function h( t ) {return l( e, t )}function d( t ) {return l( n, t )}function p( t ) {return i[t].schema}return Promise.all( [V.getData( '', o, 'api' ), V.getData( '', s, 'api' ), V.getData( '', r, 'api' )] ).then( t=>{e=t[0].data[0], n=t[1].data[0], i=t[2].data[0]} ), { getCrop: h, getFertilizer: d, getCropName: function( t, e ) {return h( t )['NAME'+( e.includes( 'de' )?'_DE':'' )]}, getFertilizerName: function( t, e ) {return d( t )['NAME'+( e.includes( 'de' )?'_DE':'' )]}, getCrops: function() {return e}, getFertilizers: function() {return n}, getSchema: p, getFieldString: function( t, e, n ) {const o=( t, e, ...n )=>[...n].map( n=>n.replace( /\[([^[\]]*)\]/g, '.$1.' ).split( e ).filter( t=>''!==t ).reduce( ( t, e )=>t&&t[e], t ) ), s=o( i.request.legend[e.substr( 0, 5 )], '_', t )[0]; if( s ) {return n?s.unit:s.displayName}const r=o( i.results.legend[e.substr( 0, 5 )], '_', t )[0]; return r?n?r.unit:r.displayName:t}, getDatapointResults: async function( e, n ) {return t={}, Object.assign( t, { time: { timestamp: new Date, unix: Date.now() } } ), Object.assign( t, function( t, e ) {const n=JSON.parse( JSON.stringify( t ) ); Object.assign( n.CROP, h( n.CROP.ID||n.CROP.NAME ) ), Object.assign( n.FTLZ.ORG, d( n.FTLZ.ORG.ID||n.FTLZ.ORG.NAME ) ); let i=null; return e&&( i=JSON.parse( JSON.stringify( e ) ), Object.assign( i.CROP, h( i.CROP.ID||i.CROP.NAME ) ), Object.assign( i.FTLZ.ORG, d( i.FTLZ.ORG.ID||i.FTLZ.ORG.NAME ) ) ), { inputs: n, prev: i }}( e, n ) ), Object.assign( t, a( t.inputs, t.prev ) ), t}, getSequenceResults: async function( t ) {return function( t ) {let e=0, n=0, i=0; for( const o in t ) {['undefined', 'number'].includes( typeof t[o].datapoint )||( e+=1, n+=t[o].results.SOM.BAL.C, i+=t[o].results.SOM.BAL.N )}if( e ) {return{ T: { BAL: { C: n/e, N: i/e } } }}}( t )} }} )();